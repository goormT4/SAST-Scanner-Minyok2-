(window.webpackJsonp=window.webpackJsonp||[]).push([[20,4,15],{"+Jhk":function(e,t,n){"use strict";var i=n("PwNG");n.n(i).a},"+vtg":function(e,t,n){(e.exports=n("I1BE")(!1)).push([e.i,"\n.wap-front .wduration{\n    font-weight: bold;\n    margin: 0 .2em;\n}\n.wap-front .welementname{\n    line-height: 1.2em;\n}\n.wselected .welementname,\n.wselected .wduration,\n.wselected .wap-img svg,\n.wbtn-primary-light .wap-img svg,\n.wap-front .wselected .wprice{\n    color: var(--wappo-pri-tx);\n}\n.success .wap-img svg{\n    color: var(--wappo-success-tx);\n}\n.wap-front .wsep::before{\n    content: ' ';\n    margin: 0 .4em;\n}\n.wclose::before, .wclose::after{\n    content: ' ';\n    position: absolute;\n    background-color: #b5b1b1;\n}\n.wclose::before{\n    transform: translateX(15px) rotate(45deg);\n}\n.wclose::after{\n    transform: translateX(15px) rotate(-45deg);\n}\n.wclose:hover::before, \n.wclose:hover::after{\n    background-color: #7a7575;\n    width: 1px;\n}\n.wclose{\n    cursor: pointer;\n    height: 1em;\n    width: 1em;\n    display: inline-block;\n    border-radius: 2em;\n    position:relative;\n}\n.wclose::before, \n.wclose::after{\n    height: .8em;\n    width: 1px;\n    top: .1em;\n    right: 1.5em;\n}\n",""])},"/vDO":function(e,t,n){(e.exports=n("I1BE")(!1)).push([e.i,"\n.wap-terms{\n    font-size: .7em;\n    text-align: left;\n    line-height: 1.4;\n    margin-bottom: .3em;\n}\n\n",""])},"0LHV":function(e,t,n){(e.exports=n("I1BE")(!1)).push([e.i,"\n.commands-div{\n    min-width:280px;\n}\n",""])},"0YK1":function(e,t,n){"use strict";var i=n("7s+T");n.n(i).a},"1/zx":function(e,t,n){(e.exports=n("I1BE")(!1)).push([e.i,'\n.wbtn.no-avail span, \n.wbtn.avail span, \n.wbtn-secondary.wbtn-round span {\n    display: block;\n    line-height: 2.2em;\n    font-size: 1.2em;\n    padding:0;\n    margin:0;\n}\n.over360 .ddays .wbtn.no-avail span, \n.over360 .ddays .wbtn.avail span  {\n    line-height: 2.4em;\n}\n.over360 .wbtn-secondary.wbtn-round span  {\n    line-height: 2em;\n}\n.sq {\n  position: relative;\n}\n.sq:after {\n  content: "";\n  display: block;\n  padding-bottom: 100%;\n}\n.sq span {\n  display:block;\n  position: absolute !important;\n  width: 100%;\n  height: 100%;\n}\n',""])},"2DFw":function(e,t,n){"use strict";var i=n("l2W7"),a=n("7O5W"),s=n("OHi5"),o=n("xJv6"),r=n("Qjxm"),l=n("rT2p"),c=n("VQM7"),d={extends:n("gIVG").default,data:function(){return{bfdemo:!0}},watch:{step:function(e){-1===[void 0,null].indexOf(e)&&this.demoConfigure(e)}},methods:{refreshInitValue:function(){this.viewData=this.options.frontAvailability,this.loadedAfter()},loadedInit:function(e){-1===[void 0,null].indexOf(e)&&this.demoConfigure(e)},demoConfigure:function(e){var t=this.isLegacy?this.getChildComponentDataForStepLegacy(e,this.options.editionsSteps):this.getChildComponentDataForStep(e,this.options.editionsSteps),n=window.wappointmentExtends.filter("BFDemoGetChildComponentForStep",this.getChildComponentForStep(e),{step_name:e}),i=window.wappointmentExtends.filter("BFDemoGetChildComponentDataForStep",t,{step_name:e,bookingFormObject:this,editionsSteps:this.options.editionsSteps});this.childChangedStep(n,i)},getChildComponentDataForStepLegacy:function(e,t){var n={},i=t.findIndex(function(e){return"selection"==e.key}),a=t.findIndex(function(e){return"form"==e.key}),s=(t.findIndex(function(e){return"confirmation"==e.key}),e),o=t.findIndex(function(e){return e.key==s});return o<i&&(n.selectedSlot=!1,n.appointmentSaved=!1,n.dataSent={}),o>i&&(n.selectedSlot=this.getSlotAvailableForDemo(),n.location=void 0!==this.service.type?this.service.type[0]:""),o>a&&(n.appointmentSaved=!0,null!==this.passedDataSent?n.dataSent=this.passedDataSent:n.dataSent=this.options.demoData.form),n},getChildComponentDataForStep:function(e,t){var n={},i=t.findIndex(function(e){return"service_selection"==e.key}),a=t.findIndex(function(e){return"service_duration"==e.key}),s=t.findIndex(function(e){return"service_location"==e.key}),o=t.findIndex(function(e){return"selection"==e.key}),r=t.findIndex(function(e){return"form"==e.key}),l=(t.findIndex(function(e){return"confirmation"==e.key}),t.findIndex(function(t){return t.key==e}));return l<o&&(n.selectedSlot=!1,n.appointmentSaved=!1,n.dataSent={}),l>0&&(n.service=!1,n.duration=!1,n.location=!1),l>i&&(n.service=this.services[0]),l>a&&(n.duration=n.service.options.durations[0].duration),l>s&&(n.location=n.service.locations[0]),l>o&&(n.selectedSlot=this.getSlotAvailableForDemo()),l>r&&(n.appointmentSaved=!0,n.dataSent=null!==this.passedDataSent?this.passedDataSent:this.options.demoData.form),n},getChildComponentForStep:function(e){switch(e){case"staff_selection":return"BookingStaffSelection";case"service_selection":return"BookingServiceSelection";case"service_duration":return"BookingDurationSelection";case"service_location":return"BookingLocationSelection";case"selection":return"BookingCalendar";case"swift_payment":return"BookingPaymentStep";case"form":return"BookingFormInputs";case"confirmation":return"BookingFormConfirmation"}},getSlotAvailableForDemo:function(){return{start:this.intervalsCollection.intervals[0].start}}}},u=n("KHd+"),p=Object(u.a)(d,void 0,void 0,!1,null,null,null).exports,h={extends:c.a,components:{BookingFormDemo:window.wappointmentExtends.filter("BookingDemoComponent",p)},methods:{toggleBookForm:function(){if(this.disabledButtons){var e=this.options.editionsSteps.findIndex(function(e){return"button"==e.key})+1;this.options.eventsBus.emits("stepChanged",this.options.editionsSteps[e].key)}else;}}},f=Object(u.a)(h,function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"wap-front",class:{"br-fixed":e.isBottomRight},attrs:{id:e.elementId}},[n("StyleGenerator",{attrs:{options:e.opts,wrapper:e.elementId}}),e._v(" "),e.isPage?n("div",[e.isBookingPage?n("BookingFormDemo",{attrs:{options:e.opts}}):n("ViewingAppointment",{attrs:{options:e.opts,view:e.getParameterByName("view"),appointmentkey:e.getParameterByName("appointmentkey")}})],1):e._e(),e._v(" "),e.isWidget?n("div",{staticClass:"wap-wid"},[e.bookForm&&e.isBottomRight?n("span",{staticClass:"close-wid",on:{click:e.backToButton}}):e._e(),e._v(" "),e.bookForm?n("BookingFormDemo",{attrs:{step:e.currentStep,options:e.opts,passedDataSent:e.dataSent}}):n("BookingButton",{staticClass:"wbtn wbtn-booking wbtn-primary",attrs:{options:e.opts},on:{click:e.toggleBookForm}},[e._v(e._s(e.realButtonTitle))])],1):e._e()],1)},[],!1,null,null,null).exports,v=n("hehe"),m=n("7yAQ"),g={name:"core-slider",props:["options"],mixins:[n("nbzh").a],computed:{getunit:function(){return void 0!==this.options.unit?this.options.unit:""}}},w=Object(u.a)(g,function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"d-flex align-items-center"},[n("label",{staticClass:"mr-2",attrs:{for:e.id}},[e._v(e._s(e.label)+" ("+e._s(e.updatedValue)+e._s(e.getunit)+")")]),e._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:e.updatedValue,expression:"updatedValue"}],attrs:{type:"range",id:e.id,min:e.options.min,max:e.options.max,step:e.options.step},domProps:{value:e.updatedValue},on:{__r:function(t){e.updatedValue=t.target.value}}})])},[],!1,null,null,null).exports,b=n("sgCK"),_=n("whSN"),y=n("lpR3"),x=n("Vz0f"),k=n("eWXC"),S=n("MQ60"),C=n.n(S),D=n("UrQX"),A=n("a8Nn");a.c.add(s.faPalette,o.faEdit,r.faSave);var P={components:{Front:c.a,FrontDemo:f,ColorPicker:v.a,CountrySelector:x.a,InputPh:window.wappoGet("InputPh"),FormFieldCheckbox:m.a,FormFieldSelect:b.a,FormFieldSlider:w,FontAwesomeIcon:l.a,draggable:C.a},mixins:[_.a,y.a],props:["preoptions","bgcolor","config","widgetFields","defaultSettings","frontAvailability","editingMode","shortcodeParams","steps"],data:function(){return{step:"general",showAdvancedColors:!1,options:null,tbgcolor:"#fff",colorEdit:!1,textEdit:!0,canSave:!1,labelActiveStep:"",tagRemoved:{},showCategory:"",editionsStepsLegacy:[{key:"button",label:"Booking button"},{key:"selection",label:"Slot selection"},{key:"form",label:"Form"},{key:"confirmation",label:"Confirmation"}],editionsSteps:[],reverseEditionsSteps:[],categoriesOrder:[],reloading:!1}},created:function(){this.editionsSteps=window.wappointmentExtends.filter("WidgetEditorEditionsSteps",this.isLegacy?this.editionsStepsLegacy:this.steps,this.config,A),this.reverseEditionsSteps=this.editionsSteps.slice(0).reverse(),this.options=Object.assign({},this.preoptions),this.options.editionsSteps=this.editionsSteps,this.options.frontAvailability=this.frontAvailability,this.options.eventsBus=k.a,this.options.demoData={form:{ctz:"Europe/Paris",name:"John Mcgregor",email:"j.mcgregor@gmail",phone:"6552",skype:"jmcg",type:void 0!==this.config.service.type?this.config.service.type[0]:"",time:!1}},this.tbgcolor=this.bgcolor,k.a.listens("stepChanged",this.stepChanged),k.a.listens("dataDemoChanged",this.dataChanged),this.stepChanged("general"),this.categoriesOrder=this.widgetFields.swift_payment.categories.sort(function(e,t){return void 0!==e.nodrag?1:0})},computed:{isLegacy:function(){return this.frontAvailability.services.length<2&&void 0!==this.frontAvailability.services[0].type},pendingByDefault:function(){return this.config.approval_mode>1},hasMultipleTypes:function(){return this.allowedTypeMultiple},getStyleThemeBg:function(){return"background-color:"+this.hx_rgb(this.tbgcolor)},allowedTypeMultiple:function(){return this.config.service.type.length>1},stepButton:function(){return"button"==this.step},stepCalendar:function(){return"selection"==this.step},stepForm:function(){return"form"==this.step},stepConfirmation:function(){return"confirmation"==this.step},currentIndexStep:function(){var e=this;return this.editionsSteps.findIndex(function(t){return t.key==e.step})}},watch:{options:{handler:function(e,t){null!==t&&(this.canSave=!0)},deep:!0}},methods:{changeCategoriesOrder:function(e){this.$WapModal().request(this.settingSaveRequest({key:"payments_order",val:this.categoriesOrder.map(function(e){return e.key})})).then(this.savedCategoriesSuccess).catch(this.serviceError)},savedCategoriesSuccess:function(e){this.serviceSuccess(e),window.apiWappointment.methods=e.data.methods,this.reloadStep()},reloadStep:function(){var e=this;this.reloading=!0,setTimeout(function(){e.reloading=!1},50)},parseLabel:function(e){return D.render(e,{classPrefix:"bbcode",newLine:!1,allowData:!0,allowClasses:!0})},tagHasBeenRemoved:function(e,t){if("string"==typeof e){var n=this.getTags(e);if(!1===n)return n;for(var i=0;i<n.length;i++)if(-1===t.indexOf(n[i]))return!0}return!1},getTags:function(e){var t=e.match(/\[[^\]]*]/g);return!!Array.isArray(t)&&t},dataChanged:function(e){this.options.demoData.form=e},getOrderClass:function(e,t){return"order-"+(t>=this.currentIndexStep?t-this.currentIndexStep:this.editionsSteps.length-(this.currentIndexStep-t))},orderedClass:function(e,t){var n={hover:e.key==this.step,hidestep:-1===["general",e.key].indexOf(this.step)};return!1===this.colorEdit&&(n[this.getOrderClass(e,t)]=!0),n},screenScrollWatch:function(e,t){1==e[0].intersectionRatio?this.$refs.editorbar.classList.remove("stick-to-top"):this.$refs.editorbar.classList.add("stick-to-top")},stepChanged:function(e){this.setStep(e,this.getLabelForStep(e))},getLabelForStep:function(e){for(var t=0;t<this.editionsSteps.length;t++)if(e==this.editionsSteps[t].key)return"Step "+(t+1)+": "+this.editionsSteps[t].label},changedInput:function(e,t,n){var i=e+"_"+t;this.tagRemoved[i]=this.tagHasBeenRemoved(this.defaultSettings[e][t],this.options[e][t])},getFieldAdminInfos:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if("colors"==e){var i=null!==this.widgetFields&&void 0!==this.widgetFields[e]&&void 0!==this.widgetFields[e]&&void 0!==this.widgetFields[e][t]&&this.widgetFields[e][t];return!1!==i&&void 0!==i.fields&&void 0!==i.fields[n]?i.fields[n]:i}return!1!==n?null!==this.widgetFields&&void 0!==this.widgetFields[e].categories[n]&&void 0!==this.widgetFields[e].categories[n].fields&&void 0!==this.widgetFields[e].categories[n].fields[t]&&this.widgetFields[e].categories[n].fields[t]:null!==this.widgetFields&&void 0!==this.widgetFields[e]&&void 0!==this.widgetFields[e].fields&&void 0!==this.widgetFields[e].fields[t]&&this.widgetFields[e].fields[t]},getFieldTip:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=this.getFieldAdminInfos(e,t,n);return void 0!==i.tip?i.tip:""},canShowField:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=this.getConditions(e,t,n);if(!1!==n){var a=this.getFieldAdminInfos(e,t,n);if(void 0!==a.fields&&void 0===a.fields[n])return!1}if(!1!==i){for(var s=!0,o=0;o<i.length;o++){var r=i[o];if(this.getValueOnDottedKey(r.key)!==r.val)return!1}return s}return!0},getValueOnDottedKey:function(e){var t=[];return t=-1!==e.indexOf(".")?e.split("."):[e],this.getDeepValue(this.options,t)},getDeepValue:function(e,t){var n=t.shift(),i=void 0!==e[n]&&e[n];return t.length>0?this.getDeepValue(i,t):i},getConditions:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=this.getFieldAdminInfos(e,t,n);return void 0!==i.conditions&&i.conditions},getLabel:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=this.getFieldAdminInfos(e,t);return!1!==n&&this.hasFieldKey(i,n)?void 0!==i.fields[n].label?i.fields[n].label:n:!1!==i?i.label:t},isMain:function(e,t){return!0===this.getFieldAdminInfos(e,t).main},getOptions:function(e,t){var n=this.getFieldAdminInfos(e,t);return!1!==n?n.options:null},hasFieldKey:function(e,t){return!1!==e&&void 0!==e.fields[t]},getVisibility:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=this.getFieldAdminInfos(e,t);return!1!==n&&this.hasFieldKey(i,n)?void 0===i.fields[n].hidden:!1===i||void 0===i.hidden},isCurrentStep:function(e){return this.step==e},isExtraSet:function(e){return-1===["button","selection","form","confirmation"].indexOf(e)},isComponentTypeActive:function(e,t,n,i){var a=arguments.length>4&&void 0!==arguments[4]&&arguments[4];return void 0!==e&&("#"==e[0]?!0===a&&this.colorEdit&&this.getVisibility(t,n,i):!0!==a&&this.getVisibility(t,i))},getComponentType:function(e,t){return-1===["select_service","select_location","select_duration","select_package"].indexOf(t)&&-1!==["check_","slide_","select"].indexOf(t.substr(0,6))?"check_"==t.substr(0,6)?"FormFieldCheckbox":"select_"==t.substr(0,7)?"FormFieldSelect":"FormFieldSlider":"#"==e[0]?"ColorPicker":"InputPh"},getCompProp:function(e){return e},allowedType:function(e){return-1!==this.config.service.type.indexOf(e)},saveChanges:function(){this.canSave&&this.$WapModal().request(this.settingSaveRequest({key:"widget",val:this.options})).then(this.savedWidgetSuccess).catch(this.serviceError)},savedWidgetSuccess:function(e){this.canSave=!1,this.serviceSuccess(e)},savedWidgetFailed:function(e){},setStep:function(e,t){this.step=e,this.labelActiveStep=t,void 0!==this.widgetFields[e]&&void 0!==this.widgetFields[e].categories&&(this.showCategory=this.widgetFields[e].categories[0].label)},toggleColor:function(){this.colorEdit=!this.colorEdit,this.step="general"},toggleText:function(){this.textEdit=!this.textEdit}}},E=(n("k6XK"),Object(u.a)(P,function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("div",{staticClass:"d-flex booking-widget-editor"},[n("div",{staticClass:"widget-wraper p-3 mr-3",style:e.getStyleThemeBg},[n("div",{staticClass:"clear pt-2"},[e.editingMode?e._e():n("div",[n("Front",{attrs:{options:e.preoptions,classEl:"wappointment_widget",attributesEl:e.shortcodeParams}})],1),e._v(" "),e.editingMode&&void 0!==e.frontAvailability?n("div",{staticClass:"d-flex flex-wrap preview-book"},e._l(e.editionsSteps,function(t,i){return n("div",{staticClass:"bordered",class:e.orderedClass(t,i),attrs:{"data-tt":t.key==e.step&&e.labelActiveStep}},[e.reloading?e._e():n("div",{staticClass:"overflowhidden",class:"step-"+t.key},[n("FrontDemo",{attrs:{options:e.options,classEl:"wappointment_widget",step:t.key}})],1)])}),0):e._e()])]),e._v(" "),e.editingMode?n("div",{staticClass:"align-self-start",attrs:{id:"editor-bar"}},[n("div",{staticClass:"mb-2"},[n("button",{staticClass:"btn btn-primary",class:{disabled:!e.canSave},on:{click:e.saveChanges}},[n("FontAwesomeIcon",{attrs:{icon:["fas","save"],size:"lg"}}),e._v(" "+e._s(e.get_i18n("save","common")))],1)]),e._v(" "),n("div",{staticClass:"widget-fields-wrapper"},[n("div",[n("div",[n("button",{staticClass:"btn btn-secondary btn-cell btn-xs ml-0 mr-2 btn-switch-edit",class:{selected:!e.colorEdit},on:{click:e.toggleColor}},[n("span",[n("FontAwesomeIcon",{attrs:{icon:["fas","edit"],size:"lg"}}),e._v(" "+e._s(e.get_i18n("bwe_edit_text","common")))],1)]),e._v(" "),n("button",{staticClass:"btn btn-secondary btn-cell btn-xs ml-0 mr-2 btn-switch-edit",class:{selected:e.colorEdit},on:{click:e.toggleColor}},[n("span",[n("FontAwesomeIcon",{attrs:{icon:["fas","palette"],size:"lg"}}),e._v(" "+e._s(e.get_i18n("bwe_edit_color","common")))],1)])]),e._v(" "),n("div",{staticClass:"d-flex align-items-center my-2"},[e.colorEdit?e._e():n("div",{staticClass:"d-flex flex-wrap align-items-center"},[void 0!==e.widgetFields.general?n("button",{staticClass:"btn btn-link btn-xs mr-1 tt-below",class:{selected:"general"==e.step},attrs:{"data-tt":"General"},on:{click:function(t){e.setStep("general","General")}}},[e._v(" "+e._s(e.get_i18n("bwe_general","common")))]):e._e(),e._v(" "),n("span",{staticClass:"small text-muted mr-1"},[e._v(">")]),e._v(" "),e._l(e.editionsSteps,function(t,i){return[n("button",{staticClass:"btn btn-link btn-xs mr-1 tt-below",class:{selected:e.step==t.key},attrs:{"data-tt":t.label},on:{click:function(n){e.setStep(t.key,e.getLabelForStep(t.key))}}},[e._v(" "+e._s(e.get_i18n("bwe_step","common"))+" "+e._s(i+1))]),e._v(" "),i!==e.editionsSteps.length-1?n("span",{staticClass:"small text-muted mr-1"},[e._v(">")]):e._e()]})],2)])]),e._v(" "),n("div",{staticClass:"bwe-settings-bar"},[n("transition",{attrs:{name:"slide-fade-top"}},[e.colorEdit?n("div",{staticClass:"colors-fields"},[e._l(e.options.colors,function(t,i){return e.isMain("colors",i)||e.showAdvancedColors?n("fieldset",[n("legend",[e._v(e._s(e.getLabel("colors",i)))]),e._v(" "),e._l(t,function(t,a){return e.canShowField("colors",i,a)?n("div",{staticClass:"tt-below",attrs:{"data-tt":!!e.getFieldTip("colors",i,a)&&e.getFieldTip("colors",i,a)}},[e.isComponentTypeActive(t,"colors",i,a,!0)?n(e.getComponentType(t,a),{key:a,tag:"component",attrs:{eventChange:"input",label:e.getLabel("colors",i,a),ph:e.defaultSettings.colors[i][a],options:e.getOptions("colors",i,a),allowReset:""},model:{value:e.options.colors[i][a],callback:function(t){e.$set(e.options.colors[i],a,t)},expression:"options.colors[group_key][input_key]"}}):e._e()],1):e._e()})],2):e._e()}),e._v(" "),e.showAdvancedColors?e._e():n("a",{staticClass:"my-2 small",attrs:{href:"javascript:;"},on:{click:function(t){e.showAdvancedColors=!0}}},[e._v(e._s(e.get_i18n("bwe_edit_more_colors","common"))+" ")])],2):e._e()])],1),e._v(" "),e.colorEdit?e._e():n("div",{staticClass:"bwe-settings-bar"},[e._l(e.reverseEditionsSteps,function(t,i){return n("div",{key:t.key},[n("transition",{attrs:{name:"slide-fade-top"}},[e.isCurrentStep(t.key)?n("div",{staticClass:"widget-fields",class:{"active-fields":e.step==t.key},attrs:{"data-step":"Step "+(4-i)+": "+t.label}},[void 0!==e.widgetFields[t.key]&&void 0!==e.widgetFields[t.key].categories?n("div",[void 0!==e.widgetFields[t.key].categories_draggable?n("draggable",{staticClass:"nav nav-tabs ml-2",attrs:{draggable:".candrg"},on:{change:e.changeCategoriesOrder},model:{value:e.categoriesOrder,callback:function(t){e.categoriesOrder=t},expression:"categoriesOrder"}},e._l(e.categoriesOrder,function(t,i){return n("div",{staticClass:"nav-item d-flex mr-2",class:{candrg:void 0===t.nodrag},attrs:{role:"button"},on:{click:function(n){e.showCategory=t.label}}},[n("a",{staticClass:"nav-link",class:{active:e.showCategory==t.label}},[void 0===t.nodrag?n("span",{staticClass:"dashicons dashicons-move"}):e._e(),e._v("\n                                                "+e._s(t.label)+"\n                                            ")])])}),0):n("div",{staticClass:"nav nav-tabs ml-2"},e._l(e.widgetFields[t.key].categories,function(t,i){return n("div",{staticClass:"nav-item d-flex mr-2",attrs:{role:"button"},on:{click:function(n){e.showCategory=t.label}}},[n("a",{staticClass:"nav-link",class:{active:e.showCategory==t.label}},[e._v("\n                                                "+e._s(t.label)+"\n                                            ")])])}),0),e._v(" "),e._l(e.widgetFields[t.key].categories,function(i,a){return n("div",{class:{"selected-tab":e.showCategory==i.label}},[e.showCategory==i.label?n("div",{staticClass:"ml-3 mt-3"},[void 0!==i.sub?n("div",{staticClass:"small",domProps:{innerHTML:e._s(e.parseLabel(i.sub))}}):e._e(),e._v(" "),e._l(i.fields,function(i,s){return e.canShowField(t.key,s,a)?n("div",{staticClass:"tt-below",attrs:{"data-tt":!!e.getFieldTip(t.key,s,a)&&e.getFieldTip(t.key,s,a)}},[e._v("\n                                                "+e._s(e.changedInput(t.key,s,e.options[t.key][s]))+"\n                                                "),e.isComponentTypeActive(e.options[t.key][s],t.key,s,s)?n(e.getComponentType(e.options[t.key][s],s),e._b({key:s,tag:"component",attrs:{eventChange:"input",label:i.label,completeTrigger:void 0!==i.togglesave,ph:e.defaultSettings[t.key][s],options:void 0!==i.options?i.options:{},allowReset:""},on:{input:function(n){return e.changedInput(t.key,s,n)},toggleComplete:e.reloadStep},model:{value:e.options[t.key][s],callback:function(n){e.$set(e.options[t.key],s,n)},expression:"options[stepObj.key][field_key]"}},"component",e.getCompProp(i),!1)):e._e(),e._v(" "),-1===[void 0,!1].indexOf(e.tagRemoved[t.key+"_"+s])?n("div",{staticClass:"small text-danger"},[e._v("\n                                                You should leave the tag(s) "+e._s(e.getTags(e.defaultSettings[t.key][s]).join(", "))+"\n                                                ")]):e._e()],1):e._e()})],2):e._e()])})],2):n("div",[void 0!==e.widgetFields[t.key]&&void 0!==e.widgetFields[t.key].sub?[n("div",{staticClass:"small",domProps:{innerHTML:e._s(e.parseLabel(e.widgetFields[t.key].sub))}})]:e._e(),e._v(" "),e._l(e.options[t.key],function(i,a){return e.canShowField(t.key,a)?n("div",{staticClass:"tt-below",attrs:{"data-tt":!!e.getFieldTip(t.key,a)&&e.getFieldTip(t.key,a)}},[e._v("\n                                        "+e._s(e.changedInput(t.key,a,i))+"\n                                        "),e.isComponentTypeActive(i,t.key,a,a)?n(e.getComponentType(i,a),e._b({key:a,tag:"component",attrs:{eventChange:"input",label:e.getLabel(t.key,a),ph:e.defaultSettings[t.key][a],options:e.getOptions(t.key,a),allowReset:""},on:{input:function(n){return e.changedInput(t.key,a,n)}},model:{value:e.options[t.key][a],callback:function(n){e.$set(e.options[t.key],a,n)},expression:"options[stepObj.key][field_key]"}},"component",e.getCompProp(i),!1)):e._e(),e._v(" "),-1===[void 0,!1].indexOf(e.tagRemoved[t.key+"_"+a])?n("div",{staticClass:"small text-danger"},[e._v("\n                                        You should leave the tag(s) "+e._s(e.getTags(e.defaultSettings[t.key][a]).join(", "))+"\n                                        ")]):e._e()],1):e._e()})],2)]):e._e()])],1)}),e._v(" "),n("transition",{attrs:{name:"slide-fade-top"}},[e.isCurrentStep("general")?n("div",{staticClass:"widget-fields",class:{"active-fields":"general"==e.step},attrs:{"data-step":"General"}},e._l(e.options.general,function(t,i){return e.canShowField("general",i)?n("div",{staticClass:"tt-below",attrs:{"data-tt":!!e.getFieldTip("general",i)&&e.getFieldTip("general",i)}},[e._v("\n                                "+e._s(e.changedInput("general",i,t))+"\n                                "),e.isComponentTypeActive(t,"general",i,i)?n(e.getComponentType(t,i),{key:i,tag:"component",attrs:{eventChange:"input",label:e.getLabel("general",i),ph:e.defaultSettings.general[i],options:e.getOptions("general",i),allowReset:""},on:{input:function(t){return e.changedInput("general",i,t)}},model:{value:e.options.general[i],callback:function(t){e.$set(e.options.general,i,t)},expression:"options['general'][field_key]"}}):e._e(),e._v(" "),-1===[void 0,!1].indexOf(e.tagRemoved["general_"+i])?n("div",{staticClass:"small text-danger"},[e._v("\n                                    You should leave the tag(s) "+e._s(e.getTags(e.defaultSettings.general[i]).join(", "))+"\n                                ")]):e._e()],1):e._e()}),0):e._e()])],2)]),e._v(" "),e.colorEdit?n("ColorPicker",{attrs:{small:"",label:"Test Different Background Color"},model:{value:e.tbgcolor,callback:function(t){e.tbgcolor=t},expression:"tbgcolor"}}):e._e()],1):e._e()])])},[],!1,null,null,null).exports),I=n("MkfN"),O=n("6CjO"),R=n("y43P"),T=n("AsP0"),B={mixins:[I.a],props:["title","page_id","page_link"],components:{VideoIframe:O.a,CreateBookingPage:R.a,ShortcodeDesigner:T.a},data:function(){return{area:"page",booking_page_id:0,widgetDefault:{button:{title:"booking-page"}}}},created:function(){this.booking_page_id=this.page_id},computed:{showWidget:function(){return"widget"==this.area},showPost:function(){return"post"==this.area},showPage:function(){return"page"==this.area}},methods:{showArea:function(e){this.area=e},selectAll:function(e){e.target.select()}}},M=(n("Zq7e"),Object(u.a)(B,function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"buttons-block"}},[n("div",{staticClass:"text-muted mt-4"},[e._v(e._s(e.get_i18n("bwe_description","common")))]),e._v(" "),n("div",{staticClass:"d-flex my-4"},[n("button",{staticClass:"btn btn-secondary btn-cell btn-xs ml-0 mr-2",class:{selected:e.showPage},on:{click:function(t){e.showArea("page")}}},[n("span",{staticClass:"dashicons dashicons-welcome-add-page mr-1"}),e._v(" "+e._s(e.get_i18n("bwe_create_bp","common"))+"\n        ")]),e._v(" "),n("button",{staticClass:"btn btn-secondary btn-cell btn-xs ml-0 mr-2",class:{selected:e.showPost},on:{click:function(t){e.showArea("post")}}},[n("span",{staticClass:"dashicons dashicons-shortcode mr-1"}),e._v(" "+e._s(e.get_i18n("bwe_using_sh","common"))+" \n        ")]),e._v(" "),n("button",{staticClass:"btn btn-secondary btn-cell btn-xs ml-0 mr-2",class:{selected:e.showWidget},on:{click:function(t){e.showArea("widget")}}},[n("span",{staticClass:"dashicons dashicons-welcome-widgets-menus mr-1"}),e._v(" "+e._s(e.get_i18n("bwe_using_wdg","common"))+" \n        ")])]),e._v(" "),e.showPage?n("div",[n("div",{staticClass:"mt-4"},[n("CreateBookingPage",{ref:"createpage",attrs:{forceCreation:!0,save:!0,widgetDefault:e.widgetDefault,page_id:e.booking_page_id,page_link:e.page_link}})],1)]):e._e(),e._v(" "),e.showPost?n("div",[n("ShortcodeDesigner",{attrs:{title:e.title,simple:!0}})],1):e._e(),e._v(" "),e.showWidget?n("div",[n("div",{staticClass:"mt-4"},[n("VideoIframe",{attrs:{src:"https://www.youtube.com/embed/h_bWIqOmq0M"}})],1)]):e._e()])},[],!1,null,null,null).exports),F={name:"WidgetShow",extends:i.a,props:{wizard:{type:Boolean,default:!1},params:{type:Object,default:void 0},stepsAllowed:{type:Array,default:function(){return["Preview","Customize","Insert"]}}},data:function(){return{colors:"#ffffff",viewName:"widget",isWidgetShown:!0,editing:!1,showingStep:"",stepsReady:[]}},components:{BookingWidgetEditor:E,WidgetInsert:M},created:function(){var e=!0,t=!1,n=void 0;try{for(var i,a=this.stepsAllowed[Symbol.iterator]();!(e=(i=a.next()).done);e=!0){var s=i.value;this.stepsReady.push(this.prepareStep(s))}}catch(e){t=!0,n=e}finally{try{!e&&a.return&&a.return()}finally{if(t)throw n}}this.showStep(this.stepsAllowed[0])},methods:{prepareStep:function(e){switch(e){case"Preview":return{key:e,label:this.get_i18n("bwe_page_preview","common"),class:"dashicons-visibility"};case"Customize":return{key:e,label:this.get_i18n("bwe_page_customize","common"),class:"dashicons-edit"};case"Insert":return{key:e,label:this.get_i18n("bwe_page_insert","common"),class:"dashicons-layout"}}},shownStep:function(e){return this.showingStep==e},showStep:function(e){this.showingStep=e,this.editing=-1===["Preview","Insert"].indexOf(e),this.isWidgetShown=-1!==["Preview","Customize"].indexOf(e)},getClassTabIcon:function(e){switch(e){case"Preview":return"dashicons-visibility";case"Customize":return"dashicons-edit";case"Insert":return"dashicons-layout"}}},computed:{widgetData:function(){return null!==this.viewData&&void 0!==this.viewData.widget?this.viewData.widget:null},getBgColor:function(){return null!==this.viewData&&void 0!==this.viewData.bgcolor?this.viewData.bgcolor:"#fff"},widgetFields:function(){return null!==this.viewData&&void 0!==this.viewData.widgetFields?this.viewData.widgetFields:null},widgetDefault:function(){return null!==this.viewData&&void 0!==this.viewData.widgetDefault?this.viewData.widgetDefault:null},frontAvailability:function(){return null!==this.viewData&&void 0!==this.viewData.front_availability?this.viewData.front_availability:null}}},j=Object(u.a)(F,function(){var e=this,t=e.$createElement,n=e._self._c||t;return null!==e.widgetData?n("div",[e.wizard?e._e():n("div",{staticClass:"d-flex mt-4 ml-4 bwe-tabs"},[n("ul",{staticClass:"nav nav-tabs"},e._l(e.stepsReady,function(t,i){return n("li",{staticClass:"nav-item"},[n("a",{staticClass:"nav-link",class:{active:e.shownStep(t.key)},attrs:{href:"javascript:;"},on:{click:function(n){e.showStep(t.key)}}},[n("span",{staticClass:"dashicons",class:t.class}),e._v(" "+e._s(i+1)+" - "+e._s(t.label)+"\n            ")])])}),0)]),e._v(" "),e.isWidgetShown?n("div",[n("transition",{attrs:{name:"slide-fade-top"}},[n("BookingWidgetEditor",{attrs:{bgcolor:e.getBgColor,editingMode:e.editing,widgetFields:e.widgetFields,shortcodeParams:e.params,config:e.viewData.config,preoptions:e.widgetData,defaultSettings:e.widgetDefault,frontAvailability:e.frontAvailability,steps:e.viewData.steps}})],1)],1):n("div",[n("transition",{attrs:{name:"slide-fade-top"}},[n("WidgetInsert",{attrs:{title:e.viewData.widget.button.title,page_id:e.viewData.booking_page_id,page_link:e.viewData.booking_page_url}})],1)],1)]):e._e()},[],!1,null,null,null);t.a=j.exports},"2RkK":function(e,t,n){var i=n("zXQP");"string"==typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);(0,n("SZ7m").default)("0bd5698e",i,!0,{})},"2YWL":function(e,t,n){"use strict";var i=n("unoB");n.n(i).a},"2sO2":function(e,t,n){var i=n("J1PL");"string"==typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);(0,n("SZ7m").default)("0626cf5e",i,!0,{})},"3Ntu":function(e,t,n){var i=n("S2VW");"string"==typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);(0,n("SZ7m").default)("d5ca4946",i,!0,{})},"3R/I":function(e,t,n){(e.exports=n("I1BE")(!1)).push([e.i,"\n.wap-front .wap-booking-fields label{\n    color: var(--wappo-body-tx);\n}\n.wap-front .phone-field .dropdown ul {\n    position: initial;\n    max-width: 266px;\n    min-width: 224px;\n    margin-top: 12px;\n    overflow-y: scroll !important;\n    overflow: hidden;\n}\n.wap-front .phone-field .dropdown {\n    border-radius: .2em;\n}\n.wap-front .phone-field .dropdown.open + input {\n    display:none;\n}\n.wap-front .address-service{\n    border-radius: .2em;\n    padding: .3em;\n    margin: auto;\n    text-align: left;\n    margin-bottom: .6rem;\n}\n.wap-front .address-service .icon-address{\n    padding: 0 .3em;\n}\n.wap-front .address-service address{\n    margin-left: .6em;\n}\n.wap-booking-fields {\n    text-align: left;\n    margin: .5em 0;\n}\n.wap-booking-fields label{\n    margin-bottom: 0;\n    font-size: .9em;\n}\n.wap-terms{\n    font-size: .7em;\n    text-align: left;\n    line-height: 1.4;\n    margin-bottom: .3em;\n}\n.wap-front .wrounded{\n  border-radius : 50%;\n}\n.wap-front .wshadow{\n  box-shadow: inset 0px 8px 10px 0 rgba(0,0,0,.08);\n}\n.wap-front .form-summary .wselected {\n    display: inline-flex !important;\n    font-size: .8em;\n}\n\n",""])},"3Sr1":function(e,t,n){var i=n("JmsA");"string"==typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);(0,n("SZ7m").default)("68d88eb7",i,!0,{})},"3X8r":function(e,t,n){var i=n("6AN6");"string"==typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);(0,n("SZ7m").default)("12d06e70",i,!0,{})},"3diX":function(e,t,n){(e.exports=n("I1BE")(!1)).push([e.i,"\n#buttons-block textarea{\n    resize: none;\n}\n.form-max{\n    max-width: 350px;\n}\n#buttons-block .btn-secondary.btn-cell .dashicons{\n    position: initial;\n}\n#buttons-block .btn-secondary.btn-cell{\n    display: flex;\n    align-items: center;\n}\n\n",""])},"3k9u":function(e,t,n){(e.exports=n("I1BE")(!1)).push([e.i,"\n.label-wrapper.phvc label {\n    z-index:2;\n}\n.label-wrapper.phvc .input-t {\n    border: 0 !important;\n    box-shadow: none !important;\n    padding-top: 0 !important;\n}\n.label-wrapper div.form-control{\n    height: auto;\n    padding-top: 1rem;\n}\n",""])},"4G2+":function(e,t,n){(e.exports=n("I1BE")(!1)).push([e.i,"\n.calendar-pic{\n    position: relative;\n}\n.calendar-pic .status{\n    display: block;\n    width: .7em;\n    height: .7em;\n    border-radius: 50%;\n    position: absolute;\n    top: 30px;\n    left: 30px;\n}\n.calendar-pic.active .status{\n    background-color:var(--primary);\n}\n.calendar-pic.inactive .status{\n    background-color:#ccc;\n}\n.calendar-pic.inactive img{\n    filter: grayscale(1);\n    opacity:.4;\n}\n.location {\n    margin: .2rem;\n    color: #717171;\n}\n.cal-icon{\n    position: relative;\n}\n.cal-icon .cal-desc{\n    display: none !important;\n}\n.cal-icon:hover .cal-desc{\n    display: flex !important;\n    position: absolute;\n    right: 0px;\n    z-index: 9;\n    top: 16px;\n    word-break:break-all;\n}\n.cal-icon:hover > .dashicons {\n    color: var(--primary);\n}\n.cell-services{\n    max-width: 200px;\n}\n.cell-services .d-flex{\n    max-height: 44px;\n    overflow: hidden;\n    margin-bottom: .4em;\n}\n.cell-services .d-flex:hover{\n    max-height: none !important;\n}\n.headerToggle a{\n    display: none;\n}\n.headerToggle:hover a{\n    display: inline;\n}\n",""])},"4GyF":function(e,t,n){var i=n("wvDB");"string"==typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);(0,n("SZ7m").default)("fba8d3e6",i,!0,{})},"4HCW":function(e,t,n){"use strict";var i=n("4GyF");n.n(i).a},"4MF1":function(e,t,n){"use strict";n.r(t);var i=n("XfSa"),a=n("AU4x"),s={props:{crumbs:{type:Array,default:[]}},methods:{clickCrumb:function(e){return this.$emit("click",e)}}},o=n("KHd+"),r={data:function(){return{currentView:!1,subview:"",dynamicProps:{},crumbs:[],mainCrumbLabel:"Home"}},components:{BreadCrumbs:Object(o.a)(s,function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"breadcrumbs small d-flex p-2 my-2 rounded bg-light"},e._l(e.crumbs,function(t,i){return n("div",[void 0===t.disabled?n("a",{attrs:{href:"javascript:;"},on:{click:function(n){e.clickCrumb(t)}}},[e._v(" "+e._s(t.label)+" ")]):n("span",{staticClass:"text-muted"},[e._v(" "+e._s(t.label)+" ")]),e._v(" "),i!=Object.keys(e.crumbs).length-1?n("span",[e._v(" > ")]):e._e()])}),0)},[],!1,null,null,null).exports},computed:{subCompKey:function(){return this.currentView+this.subview}},methods:{goTo:function(e){this[e.target](),this.subview=void 0!==e.subview?e.subview:""},goToMain:function(){this.currentView=!1,this.crumbs=[]},setCrumb:function(e,t,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};this.currentView=e,this.dynamicProps=i,this.crumbs=[{target:"goToMain",label:this.mainCrumbLabel},{target:n,label:t,disabled:!0}]},updateCrumb:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};this.crumbs=e,this.subview=t,this.dynamicProps=n}}},l=Object(o.a)(r,void 0,void 0,!1,null,null,null).exports,c={mixins:[l],props:{crumb:{type:Boolean,default:!1},element:{type:Object,default:null}},data:function(){return{currentView:"listing",elementPassed:null}},created:function(){""!==this.subview&&(this.currentView=this.subview),this.elementPassed=this.element},computed:{serviceDeliveries:function(){return"delivery"==this.currentView}},methods:{changeView:function(e){"delivery"==e?this.showDeliveries():"listing"!=e?this.showService():this.showListing()},showDeliveries:function(){"services"==this.$route.name&&this.$router.push({name:"modalities"}),this.updateCrumb([{target:"showListing",label:"Services",subview:"listing"},{target:"showDeliveries",label:"Delivery Modalities",disabled:!0}],"delivery"),this.currentView="delivery"},showService:function(){return this.dataResponse.db_required?this.runDbUpdate():this.elements.length>2?this.requiresAddon("services","3 services max allowed"):void(this.crumb?this.updateCrumb([{target:"showListing",label:"Services",subview:"listing"},{target:"showService",label:"Add",disabled:!0}],"add"):(this.currentView="add",this.elementPassed=null))},showListing:function(){"modalities"==this.$route.name&&this.$router.push({name:"services"}),this.crumbs=[],this.currentView="listing"}}},d=Object(o.a)(c,function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[e.crumbs.length>0?n("BreadCrumbs",{attrs:{crumbs:e.crumbs},on:{click:e.goTo}}):e._e(),e._v(" "),n("router-view",{on:{fullyLoaded:function(t){e.$emit("fullyLoaded")}}})],1)},[],!1,null,null,null).exports,u=n("5oH9"),p=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();var h=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,u["a"]),p(t,[{key:"endpoints",value:function(){return{sendPreview:{method:"post",route:"reminderpreview"},save:{method:"post",route:"reminder"},patch:{method:"patch",route:"reminder"},toggle:{method:"patch",route:"reminder"},get:{method:"get",route:"reminder"},delete:{method:"delete",route:"reminder"}}}}]),t}(),f={data:function(){return{parentLoad:!1,remindersLoaded:!1,reminders:[],mail_status:!1,allow_rescheduling:!1,reschedule_link:"",email_footer:"",allow_cancellation:"",save_appointment_text_link:"",model:null,serviceReminder:null,labels:null,emptyModel:null,loading:!1}},created:function(){this.serviceReminder=this.$vueService(new h)},methods:{goToMailConfig:function(){this.setCrumb("MailConfig","Mail Config","goToMailConfig")},goToEditReminder:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.setCrumb("EditReminders","Edit Reminder","goToEditReminder",e)},mailConfigured:function(){this.mail_status=!0},isEmail:function(e){return 1==e.type},isAppointmentStartEvent:function(e){return void 0!==e.event&&1==e.event},isAppointmentBookedEvent:function(e){return void 0!==e.event&&2==e.event},isAppointmentRescheduleEvent:function(e){return void 0!==e.event&&3==e.event},isAppointmentCancelEvent:function(e){return void 0!==e.event&&4==e.event},isAppointmentPendingEvent:function(e){return void 0!==e.event&&5==e.event}}},v=Object(o.a)(f,void 0,void 0,!1,null,null,null).exports,m={props:["config","title","button","icon"],data:function(){return{nb:{title:"",button:"",icon:""}}},created:function(){this.config?this.nb=Object.assign({},this.config):(this.nb.title=this.title,this.nb.button=this.button,this.nb.icon=this.icon)},methods:{buttonClick:function(){this.$emit("click")}}},g={components:{NoticeButton:Object(o.a)(m,function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"d-flex bg-danger p-2 text-white rounded align-items-center",attrs:{role:"alert"}},[e.nb.icon?n("span",{class:e.nb.icon}):e._e(),e._v(" "+e._s(e.nb.title)+"\n    "),e.nb.button?n("button",{staticClass:"btn ml-2 btn-sm btn-secondary",on:{click:e.buttonClick}},[e._v(e._s(e.nb.button))]):e._e()])},[],!1,null,null,null).exports},props:{status:{type:Boolean,default:!1}},data:function(){return{service:null,nb:{title:"No emails will be sent without configuring the sending method first",button:"Configure it now",icon:"dashicons dashicons-email mr-2"}}},methods:{showConfiguration:function(){this.$emit("configureEmail")}}},w=Object(o.a)(g,function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[e.status?n("div",[n("div",{staticClass:"d-flex align-items-center"},[n("span",{staticClass:"dashicons dashicons-yes text-success mail_configured"}),e._v(" "),n("span",[e._v("Email sending method configured")]),e._v(" "),n("button",{staticClass:"ml-2 btn btn-sm btn-secondary",on:{click:e.showConfiguration}},[e._v("Reconfigure it")])]),e._v(" "),n("div",{staticClass:"small text-muted ml-2"},[n("span",{staticClass:"text-dark"},[e._v("Please make sure you receive emails.")]),e._v(" "),n("span",[e._v("If you have deliverability issues, reconfigure it with SendGrid, it is free and it just works.")])])]):n("NoticeButton",{attrs:{config:e.nb},on:{click:e.showConfiguration}})],1)},[],!1,null,null,null).exports,b={props:["viewData","recipient"],components:{InputPh:window.wappoGet("InputPh")},data:function(){return{showRecipient:!1,dataRecipient:!1}},created:function(){this.dataRecipient=this.recipient},methods:{sendPreview:function(){this.$emit("sendPreview",this.dataRecipient)}}},_=Object(o.a)(b,function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"ml-2 d-flex align-items-center"},[n("button",{staticClass:"btn btn-secondary mr-2",on:{click:e.sendPreview}},[e._v(e._s(e.get_i18n("send_preview","common")))]),e._v(" "),n("div",[e.showRecipient?n("div",[n("InputPh",{attrs:{ph:"Your email e.g.:"+e.dataRecipient},model:{value:e.dataRecipient,callback:function(t){e.dataRecipient=t},expression:"dataRecipient"}})],1):n("a",{staticClass:"text-muted",attrs:{href:"javascript:;",title:"Edit"},on:{mouseover:function(t){e.showRecipient=!0},click:function(t){e.showRecipient=!e.showRecipient}}},[e._v("to "+e._s(e.dataRecipient))])])])},[],!1,null,null,null).exports,y={methods:{typeLabel:function(e,t){for(var n=0;n<t.length;n++){var i=t[n];if(i.code==e)return i.name}}}},x=Object(o.a)(y,void 0,void 0,!1,null,null,null).exports;function k(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){return function i(a,s){try{var o=t[a](s),r=o.value}catch(e){return void n(e)}if(!o.done)return Promise.resolve(r).then(function(e){i("next",e)},function(e){i("throw",e)});e(r)}("next")})}}var S,C,D={extends:i.a,mixins:[v,x],props:["reminder","passedViewData"],components:window.wappointmentExtends.filter("EditRemindersComponents",{"preview-email":_},{InputPh:window.wappoGet("InputPh")}),data:function(){return{other:null,formready:!1,recipient:"",errorMessages:[],errors:{},formKey:"formmailconfig",schema:[],canTranslate:!1}},created:function(){this.recipient=this.passedViewData.recipient,this.model=Object.assign({},this.reminder),this.viewData=Object.assign({},this.passedViewData),!1!==this.viewData.languages&&(this.model.canTranslate=!0,this.canTranslate=!0),this.schema=this.schemai18n(),this.schema[0].label=this.model.label,1==this.model.type?this.schema.push({type:"opt-tiptap",model:"options.body",required:!0,validation:["required"],multiple_service_type:this.passedViewData.multiple_service_type,mail_status:this.passedViewData.mail_status,allow_rescheduling:this.passedViewData.allow_rescheduling,allow_cancellation:this.passedViewData.allow_cancellation,email_footer:this.passedViewData.email_footer,link_color:this.passedViewData.link_color,reschedule_link:this.passedViewData.reschedule_link,cancellation_link:this.passedViewData.cancellation_link,save_appointment_text_link:this.passedViewData.save_appointment_text_link}):(void 0!==this.model.ignore&&this.filterSchema(),this.schema.push({type:"opt-tiptap",model:"options.body",simple:!0,required:!0,sms:!0,validation:["required"],multiple_service_type:this.passedViewData.multiple_service_type}))},computed:{canSend:function(){return this.formready}},methods:{schemai18n:function(){return[{type:"label"},{type:"label",model:"event",conditions:[{model:"event",values:["9999"]}]},{type:"row",class:"d-flex flex-wrap flex-sm-nowrap align-items-center",classEach:"mr-2",conditions:[{model:"event",values:[1]}],fields:[{type:"duration",label:this.get_i18n("when_reminder_sent","settings"),model:"options.when_number",cast:String,class:"w-100",default:1,min:1,max:60,step:1,int:!0,validation:["required"]},{type:"select",labelDefault:this.get_i18n("select_unit","settings"),model:"options.when_unit",default:1,elements:[{id:1,name:"minutes"},{id:2,name:"hours"},{id:3,name:"days"}],labelKey:"name",validation:["required"]}]},{type:"select",label:this.get_i18n("language","common"),model:"lang",elements:this.canTranslate?this.viewData.languages.map(function(e){return{id:e.locale,name:e.name+"("+e.locale+")"}}):[],cast:String,conditions:[{model:"canTranslate",values:[!0]}]},{type:"input",label:this.get_i18n("subject","settings"),model:"subject",required:!0,cast:String,validation:["required"]},{label:this.get_i18n("header_image","settings"),type:"opt-imageselect",model:"email_logo",size:"full",preview:{width:""},required:!0}]},filterSchema:function(){for(var e=0;e<this.model.ignore.length;e++)for(var t=this.model.ignore[e],n=this.schema,i=0;i<n.length;i++){n[i].model==t&&(this.schema=this.schema.slice(0,i).concat(this.schema.slice(i+1)))}this.model.ignore=void 0},changedValue:function(e){var t=this.model.email_logo!=e.email_logo;this.model=Object.assign({},e),this.schema[0].label=this.model.label,t&&this.save()},readytosubmit:function(e){this.formready=e},save:function(){this.request(this.saveReminderRequest,void 0,void 0,!1,this.saved,this.failedValidation)},failedValidation:function(e){void 0!==e.response&&void 0!==e.response.data&&void 0!==e.response.data.data&&void 0!==e.response.data.data.errors&&void 0!==e.response.data.data.errors.validations&&(this.errors=e.response.data.data.errors.validations,this.formKey="form"+(new Date).getTime()),this.$refs.mcformgenerator.reRender(),this.serviceError(e)},saved:function(e){this.successRequest(e)},saveReminderRequest:(C=k(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.model.id>0)){e.next=4;break}return e.next=3,this.serviceReminder.call("patch",this.model);case 3:return e.abrupt("return",e.sent);case 4:return e.next=6,this.serviceReminder.call("save",this.model);case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}},e,this)})),function(){return C.apply(this,arguments)}),sendPreview:function(e){this.request(this.sendPreviewReminderRequest,{recipient:e,reminder:this.model.id})},sendPreviewReminderRequest:(S=k(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.serviceReminder.call("sendPreview",t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e,this)})),function(e){return S.apply(this,arguments)})}},A=Object(o.a)(D,function(){var e=this,t=e.$createElement,n=e._self._c||t;return null!==e.viewData?n("div",{staticClass:"reduced"},[n("WAPFormGenerator",{key:e.formKey,ref:"mcformgenerator",attrs:{schema:e.schema,data:e.model,errors:e.errors,buttons:!1},on:{submit:e.save,back:function(t){e.$emit("back")},changedValue:e.changedValue,ready:e.readytosubmit}}),e._v(" "),n("div",{staticClass:"d-flex align-items-center"},[n("button",{staticClass:"btn btn-primary",class:{disabled:!e.canSend},attrs:{disabled:!e.canSend},on:{click:function(t){e.$refs.mcformgenerator.submitTrigger()}}},[e._v(e._s(e.get_i18n("save","common")))]),e._v(" "),void 0!==e.model.id?n("preview-"+e.typeLabel(e.model.type,e.viewData.labels.types),{tag:"component",attrs:{recipient:e.recipient,viewData:e.viewData},on:{sendPreview:e.sendPreview}}):e._e()],1)],1):e._e()},[],!1,null,null,null).exports;var P={extends:i.a,mounted:function(){this.refreshInitValue()},components:{InputPh:window.wappoGet("InputPh")},data:function(){return{other:null,viewName:"settingsmailer",parentLoad:!1,sendconfig:{method:"",mgkey:"",mgdomain:"",sgkey:"",sgkeyname:"",sendmailcmd:"",username:"",password:"",host:"",port:"",encryption:"",smtppreset:"",from_address:"",from_name:"",wpmail_html:!1},recipient:"",showEdit:!1,showRecipient:!1,showEditFrom:!1,showFrom:!1,clickedAdvanced:!1,ports:!1,preset:"",formready:!1,method:"",formKey:"formmailconfig",schema:[{type:"checkimages",label:"How do you want to send emails?",model:"method",radioMode:!0,cast:Array,images:[{value:"wpmail",name:"Default mail method",icontype:"wicon",icon:"wordpress-alt",sub:"Simple to setup, but can be unreliable",subclass:"tt-danger"},{value:"mailgun",name:"Mailgun API",icontype:"img",icon:"mailgun.png",sub:"Recommended for setup and deliverability",subclass:"tt-success"},{value:"sendgrid",name:"SendGrid API",icontype:"img",icon:"sendgrid.svg",sub:"Recommended for setup and deliverability",subclass:"tt-success"},{value:"smtp",name:"SMTP",icontype:"wicon",icon:"admin-settings",sub:"For experts only",subclass:"tt-info"}],validation:["required"]},{type:"checkbox",label:"Allow HTML prettier emails",model:"wpmail_html",cast:String,conditions:[{model:"method",values:["wpmail"]},{model:"wp_mail_overidden",values:[!1]}]},{type:"label",model:"txt1",label:"Your site's email default method can be unreliable: delivery can be slow, emails may go straight to SPAM and other WP plugins might break the emails.",classWrapper:"text-danger",conditions:[{model:"method",values:["wpmail"]},{model:"wp_mail_overidden",values:[!1]}]},{type:"label",model:"txt2",classWrapper:"primary",label:"Don't have a MailGun account? <a href='https://signup.mailgun.com/new/signup' target='_blank'>Signup for free</a>",conditions:[{model:"method",values:["mailgun"]}]},{type:"checkimages",label:"Mailgun Area",model:"mgarea",radioMode:!0,images:[{value:"us",name:"United States"},{value:"eu",name:"Europe"}],cast:String,validation:["required"],conditions:[{model:"method",values:["mailgun"]}]},{type:"input",label:"API Domain",model:"mgdomain",cast:String,validation:["required"],conditions:[{model:"method",values:["mailgun"]}]},{type:"password",label:"API Key",model:"mgkey",cast:String,validation:["required"],conditions:[{model:"method",values:["mailgun"]}]},{type:"label",label:"Don't have a SendGrid account? <a href='https://signup.sendgrid.com/' target='_blank'>Signup for free</a>",model:"txt3",classWrapper:"primary",conditions:[{model:"method",values:["sendgrid"]}]},{type:"password",label:"SendGrid API Key",model:"sgkey",cast:String,validation:["required"],conditions:[{model:"method",values:["sendgrid"]}]},{type:"checkimages",model:"smtppreset",radioMode:!0,values:[{value:"",name:"Custom"},{value:"mailgun",name:"Mailgun"},{value:"sendgrid",name:"Sendgrid"}],cast:String,conditions:[{model:"method",values:["smtp"]}]},{type:"row",class:"d-flex flex-wrap flex-sm-nowrap align-items-center",classEach:"mr-2",conditions:[{model:"method",values:["smtp"]}],fields:[{type:"input",label:"SMTP User",model:"username",required:!0,cast:String,validation:["required"]},{type:"password",label:"SMTP Password",model:"password",required:!0,cast:String,validation:["required"]}]},{type:"row",class:"d-flex flex-wrap flex-sm-nowrap align-items-center",classEach:"mr-2",conditions:[{model:"method",values:["smtp"]}],fields:[{type:"input",label:"Host",model:"host",required:!0,cast:String,validation:["required"]},{type:"number",label:"Port",model:"port",required:!0,min:0,max:65535,cast:String,validation:["required","number"]}]},{type:"row",class:"d-flex flex-wrap flex-sm-nowrap align-items-center",classEach:"mr-2",conditions:[{model:"method",values:["smtp"]}],fields:[{type:"select",label:"Encryption",model:"encryption",cast:String,elements:[{id:"",name:"none"},{id:"ssl",name:"ssl"},{id:"tls",name:"tls"}],labelKey:"name"},{type:"checkbox",label:"Disable .ics Attachments?",model:"attachments_off",cast:Boolean,tip:"If you're having issue sending emails, try to tick that box"}]}]}},watch:{preset:function(e,t){if(t!=e)switch(this.ports=!1,e){case"mailgun":this.sendconfig.host="smtp.mailgun.org",this.sendconfig.encryption="tls",this.sendconfig.port="587",this.ports={tls:["25","2525","587"],ssl:["465"]};break;case"sendgrid":this.sendconfig.host="smtp.sendgrid.net",this.sendconfig.encryption="tls",this.sendconfig.port="587",this.ports={tls:["25","2525","587"],ssl:["465"]};break;case"wpmail":break;case"":this.sendconfig.host="",this.sendconfig.encryption="",this.sendconfig.port="25"}},sendconfig:{handler:function(e,t){e.host=e.host.trim(),e.username=e.username.trim(),e.password=e.password.trim(),void 0!==e.smtppreset&&(this.preset=e.smtppreset)},deep:!0}},computed:{from_address:function(){return this.sendconfig.from_address},from_name:function(){return this.sendconfig.from_name},canSend:function(){return this.formready},showSmtpPorts:function(){return"smtp"==this.sendconfig.method&&!1!==this.ports},hasMethod:function(){return-1===[""].indexOf(this.method)},isWpMail:function(){return-1!==["wpmail"].indexOf(this.sendconfig.method)},hasApi:function(){return-1!==["mailgun"].indexOf(this.sendconfig.method)},isSendgrid:function(){return-1!==["sendgrid"].indexOf(this.sendconfig.method)},isSendmail:function(){return-1!==["sendmail"].indexOf(this.sendconfig.method)},isSmtp:function(){return-1!==["smtp"].indexOf(this.sendconfig.method)},getImageUrl:function(){var e=this.sendconfig.wp_mail_overidden.icon;return 0===e.indexOf("http")?e:window.apiWappointment.baseUrl+"/"+encodeURIComponent(e).replaceAll("%2F","/")},mailFromOtherPlugin:function(){return void 0!==this.sendconfig&&!1!==this.sendconfig.wp_mail_overidden},getNameMailPlugin:function(){return encodeURIComponent(this.sendconfig.wp_mail_overidden.name).replaceAll("%20"," ")}},methods:{changedValue:function(e){this.sendconfig=e,this.method=e.method},readytosubmit:function(e){this.formready=e},setNewConfig:function(e,t){this.sendconfig.encryption=e,this.sendconfig.port=t},sendTestEmailRequest:function(){var e,t=(e=regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.serviceSetting.call("sendtestemail",{data:this.sendconfig,recipient:this.recipient});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e,this)}),function(){var t=e.apply(this,arguments);return new Promise(function(e,n){return function i(a,s){try{var o=t[a](s),r=o.value}catch(e){return void n(e)}if(!o.done)return Promise.resolve(r).then(function(e){i("next",e)},function(e){i("throw",e)});e(r)}("next")})});return function(){return t.apply(this,arguments)}}(),sendTestEmail:function(){this.canSend&&this.request(this.sendTestEmailRequest,void 0,void 0,!1,this.resultTestEmail)},resultTestEmail:function(e){this.$emit("mailConfigured"),this.successRequest(e)},loaded:function(e){this.viewData=e.data,this.sendconfig=e.data.mail_config,this.sendconfig.v="2.0.1",this.sendconfig.wp_mail_overidden=e.data.wp_mail_overidden,this.recipient=this.viewData.recipient,this.method=this.sendconfig.method,""!=this.method&&(this.formready=!0),!1!==this.sendconfig.wp_mail_overidden&&this.schema.push({type:"label",model:"txt12",label:"<div class='d-flex align-items-center'><img class='img-height-logo mr-2' src='"+this.getImageUrl+"' alt='"+this.getNameMailPlugin+"' /><div><strong>"+this.getNameMailPlugin+"</strong> is currently the plugin in charge of sending emails on your site. <div class='text-danger'>Warning: .ics files attachments will not work with that method, <strong>use SendGrid, Mailgun or SMTP instead</strong></div></div></div>",conditions:[{model:"method",values:["wpmail"]},{model:"wp_mail_overidden",notin:!0,values:[!1]}]})}}},E=(n("EUEe"),Object(o.a)(P,function(){var e=this,t=e.$createElement,n=e._self._c||t;return null!==e.viewData?n("div",{staticClass:"reduced"},[n("WAPFormGenerator",{key:e.formKey,ref:"mcformgenerator",attrs:{schema:e.schema,data:e.sendconfig,buttons:!1,validStart:!0,autocomplete:!1},on:{submit:e.sendTestEmail,back:function(t){e.$emit("back")},changedValue:e.changedValue,ready:e.readytosubmit}}),e._v(" "),e.showSmtpPorts?n("div",{staticClass:"form-group valid col-md-12 field-radios"},[n("small",{staticClass:"field-wrap "},[e._v("\n            Possible SMTP configurations:\n            "),e._l(e.ports,function(t,i){return n("span",[n("small",[e._v(e._s(i)+"\n                    "),e._l(t,function(a,s){return n("span",[n("a",{attrs:{"data-tt":"Apply configuration",href:"javascript:;"},on:{click:function(t){e.setNewConfig(i,a)}}},[e._v(e._s(a))]),s!=t.length-1?n("span",[e._v(", ")]):e._e()])})],2)])})],2)]):e._e(),e._v(" "),e.hasMethod?n("div",[n("hr"),e._v(" "),e.mailFromOtherPlugin&&e.isWpMail?e._e():n("div",{staticClass:"form-group valid required col-md-12 field-input"},[n("div",[e.showFrom?n("div",{staticClass:"d-flex"},[n("InputPh",{attrs:{ph:"From name"},model:{value:e.sendconfig.from_name,callback:function(t){e.$set(e.sendconfig,"from_name",t)},expression:"sendconfig.from_name"}}),e._v(" "),n("InputPh",{attrs:{ph:"From email"},model:{value:e.sendconfig.from_address,callback:function(t){e.$set(e.sendconfig,"from_address",t)},expression:"sendconfig.from_address"}})],1):n("div",{staticClass:"d-flex align-items-center"},[n("span",{staticClass:"m-0 mr-2"},[e._v("From Address: ")]),e._v(" "),n("a",{staticClass:"text-dark",attrs:{href:"javascript:;",title:"Edit"},on:{mouseover:function(t){e.showEditFrom=!0},mouseout:function(t){e.showEditFrom=!1},click:function(t){e.showFrom=!e.showFrom}}},[e._v(e._s(e.from_name)+" "),n("small",{staticClass:"text-muted"},[e._v("<"+e._s(e.from_address)+">")])]),e._v(" "),e.showEditFrom?n("span",{staticClass:"text-primary small ml-2"},[e._v("Click to Edit")]):e._e()])])]),e._v(" "),n("div",{staticClass:"d-flex align-items-start"},[n("div",{staticClass:"ml-2 d-flex align-items-center"},[n("button",{staticClass:"btn  btn-primary mr-2",class:{disabled:!e.canSend},attrs:{type:"button",disabled:!e.canSend},on:{click:function(t){e.$refs.mcformgenerator.submitTrigger()}}},[n("span",{staticClass:"dashicons dashicons-email"}),e._v(" Save and Send test email")]),e._v(" "),n("div",[e.showRecipient?n("div",[n("InputPh",{attrs:{ph:"Sending preview to"},model:{value:e.recipient,callback:function(t){e.recipient=t},expression:"recipient"}})],1):n("div",[n("a",{staticClass:"text-muted",attrs:{href:"javascript:;",title:"Edit"},on:{mouseover:function(t){e.showEdit=!0},mouseout:function(t){e.showEdit=!1},click:function(t){e.showRecipient=!e.showRecipient}}},[e._v(e._s(e.recipient))]),e._v(" "),e.showEdit?n("span",{staticClass:"text-primary small"},[e._v("Click to Edit")]):e._e()])])])])]):e._e()],1):e._e()},[],!1,null,null,null).exports),I={methods:{scrollToElement:function(e){document.querySelector(e).scrollIntoView({behavior:"smooth"})},scrollToTop:function(){window.scroll({top:0,left:0,behavior:"smooth"})}}},O=Object(o.a)(I,void 0,void 0,!1,null,null,null).exports,R={props:["element","value","passedClass","labels"],data:function(){return{title:""}},computed:{isPublished:function(){return void 0!==this.value?this.value:!0===this.element.published},getPassedClass:function(){var e={published:this.isPublished};return void 0===this.passedClass?e["mr-2"]=!0:e[this.passedClass]=!0,e}},methods:{getClassLabel:function(){var e={};if(void 0===this.labels)return{"dashicons-email-alt":!0};for(var t=0;t<this.labels.types.length;t++){var n=this.labels.types[t];n.code==this.element.type&&(this.title=n.name,e[n.icon]=!0)}return e},changed:function(){this.$emit("changed",void 0!==this.value?!this.isPublished:Object.assign(this.element,{published:!this.isPublished}))}}},T=(n("dmGK"),Object(o.a)(R,function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"icon hovercursor",class:this.getPassedClass,attrs:{"data-tt":[this.isPublished?"Unpublish":"Publish"]},on:{click:this.changed}},[t("span",{staticClass:"dashicons",class:[this.isPublished?"dashicons-yes":"dashicons-no"],attrs:{title:this.title}}),this._v(" "),t("span",{staticClass:"dashicons ",class:this.getClassLabel()})])},[],!1,null,null,null).exports),B={components:{Checkbox:T},props:["reminder","canTranslate","child"],computed:{isPublished:function(){return!0===this.reminder.published},isUnlocked:function(){return!1===this.reminder.locked},isParent:function(){return void 0===this.child}},methods:{toggledPublish:function(){this.$emit("toggledPublish",this.reminder)},translateEmail:function(){this.$emit("translateEmail",this.reminder)},duplicateReminder:function(){this.$emit("duplicateReminder",this.reminder)},editReminder:function(){this.$emit("editReminder",this.reminder)},deleteReminder:function(){this.$emit("deleteReminder",this.reminder.id)}}},M=Object(o.a)(B,function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"d-flex align-items-center justify-content-between"},[n("div",{staticClass:"d-flex align-items-center"},[n("Checkbox",{attrs:{element:e.reminder,labels:e.labels},on:{changed:e.toggledPublish}}),e._v(" "),n("div",[n("div",[e._v(e._s(e.reminder.subject)),e._t("default")],2),e._v(" "),n("div",{staticClass:"text-muted small"},[e._v(e._s(e.reminder.label))])])],1),e._v(" "),n("div",{staticClass:"d-flex align-items-center"},[e.canTranslate&&e.isParent?n("button",{staticClass:"btn btn-xs",attrs:{"data-tt":e.get_i18n("translate","common")},on:{click:e.translateEmail}},[n("span",{staticClass:"dashicons dashicons-translation"})]):e._e(),e._v(" "),e.isUnlocked&&e.isParent?n("button",{staticClass:"btn btn-xs",attrs:{"data-tt":e.get_i18n("duplicate","common")},on:{click:e.duplicateReminder}},[n("span",{staticClass:"dashicons dashicons-plus"})]):e._e(),e._v(" "),n("button",{staticClass:"btn btn-xs",attrs:{"data-tt":e.get_i18n("edit","common")},on:{click:e.editReminder}},[n("span",{staticClass:"dashicons dashicons-edit"})]),e._v(" "),e.isUnlocked?n("button",{staticClass:"btn btn-xs",attrs:{"data-tt":e.get_i18n("delete","common")},on:{click:e.deleteReminder}},[n("span",{staticClass:"dashicons dashicons-trash"})]):n("button",{staticClass:"btn btn-xs disabled",attrs:{disabled:"","aria-disabled":"true","data-tt":e.get_i18n("only_unpublish","settings")}},[n("span",{staticClass:"dashicons dashicons-trash"})])])])},[],!1,null,null,null).exports;function F(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){return function i(a,s){try{var o=t[a](s),r=o.value}catch(e){return void n(e)}if(!o.done)return Promise.resolve(r).then(function(e){i("next",e)},function(e){i("throw",e)});e(r)}("next")})}}var j,L={extends:i.a,mixins:[O,l,v,x],components:{MailConfig:E,NotificationEmail:w,EditReminders:A,RowReminder:M},data:function(){return{multiple_service_type:!1,showModal:!1,errors:null,addingReminder:!1}},props:["tablabel"],created:function(){this.mainCrumbLabel=this.tablabel,this.refreshInitValue()},computed:{remindersAreLoaded:function(){return this.remindersLoaded&&this.reminders.length>0},hasTwilio:function(){return void 0!==window.wappointmentAdmin.addons.wappointment_twilio}},methods:{addingReminderStep2:function(){if(1==this.labels.types.length)return this.addReminder("email");this.addingReminder=!0},addingReminderSMS:function(){this.requiresAddon("twilio")},goToMain:function(){this.currentView=!1,this.addingReminder=!1,this.crumbs=[],this.refreshInitValue()},goToMailConfig:function(){this.setCrumb("MailConfig","Mail Config","goToMailConfig")},goToEditReminder:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.setCrumb("EditReminders","Edit Reminder","goToEditReminder",e)},mailConfigured:function(){this.mail_status=!0},isPublished:function(e){return!0===e.published},isUnlocked:function(e){return!1===e.locked},loaded:function(e){for(var t in this.reminders=e.data.reminders,this.viewData={},e.data)e.data.hasOwnProperty(t)&&"reminders"!==t&&(this.viewData[t]=e.data[t]);this.mail_status=e.data.mail_status,this.allow_rescheduling=e.data.allow_rescheduling,this.allow_cancellation=e.data.allow_cancellation,this.email_footer=e.data.email_footer,this.link_color=e.data.link_color,this.reschedule_link=e.data.reschedule_link,this.cancellation_link=e.data.cancellation_link,this.save_appointment_text_link=e.data.save_appointment_text_link,this.recipient=e.data.recipient,this.labels=e.data.labels,this.multiple_service_type=e.data.multiple_service_type,this.remindersLoaded=!0,this.loading=!1,this.emptyModel=e.data.defaultReminders,this.emptyModel.email.email_logo=this.viewData.email_logo,this.$emit("fullyLoaded")},refreshInitValue:function(){this.remindersLoaded=!1,this.loading=!0,this.resetModel(),!1===this.remindersLoaded&&this.request(this.initValueRequest,void 0,void 0,!1,this.loaded)},initValueRequest:function(){var e=F(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.serviceReminder.call("get");case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),toggledPublish:function(e){this.request(this.togglePublishRequest,e,void 0,!1,this.refreshInitValue)},togglePublishRequest:function(){var e=F(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.serviceReminder.call("toggle",t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),resetModel:function(){this.model=null,null!==this.emptyModel&&void 0!==this.emptyModel.email&&(this.model=this.emptyModel.email)},deleted:function(){this.refreshInitValue()},translateEmail:function(e){null===e.parent&&(e.parent=e.id),this.duplicateReminder(e)},duplicateReminder:function(e){e.id=void 0,this.goToEditReminder({reminder:Object.assign({email_logo:this.viewData.email_logo},e)})},deleteReminder:function(e){var t=this;this.$WapModal().confirm({title:"Do you really want to delete this reminder? "}).then(function(n){!0===n&&t.request(t.deleteReminderRequest,e,void 0,!1,t.deleted)})},addReminder:function(e){this.goToEditReminder({reminder:this.emptyModel[e]})},editReminder:function(e){this.model=e;var t=this.typeLabel(e.type,this.labels.types);return null===this.model.options&&(this.model.options=this.emptyModel[t].options),void 0===this.model.ignore&&void 0!==this.emptyModel[t].ignore&&(this.model.ignore=this.emptyModel[t].ignore),this.model.email_logo=this.viewData.email_logo,this.goToEditReminder({reminder:this.model})},deleteReminderRequest:(j=F(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.serviceReminder.call("delete",{id:t});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e,this)})),function(e){return j.apply(this,arguments)}),onHidden:function(){this.resetModel()},hasErrors:function(){return null!==this.errors&&this.errors.length>0},onValidated:function(e,t){this.errors=t},isEmail:function(e){return 1==e.type},isAppointmentStartEvent:function(e){return void 0!==e.event&&1==e.event},isAppointmentBookedEvent:function(e){return void 0!==e.event&&2==e.event},isAppointmentRescheduleEvent:function(e){return void 0!==e.event&&3==e.event},isAppointmentCancelEvent:function(e){return void 0!==e.event&&4==e.event},isAppointmentPendingEvent:function(e){return void 0!==e.event&&5==e.event},getEvent:function(e){return void 0!==this.labels.events[e]?this.labels.events[e]:"unknown event"},originalSchema:function(){return{fields:[{type:"bsslider",model:"options.when_number",required:!0,default:1,min:1,max:60,step:1,int:!0,unit:"",styleClasses:"col-md-9"},{type:"select",model:"options.when_unit",required:!0,values:function(){return[{id:1,name:"minutes"},{id:2,name:"hours"},{id:3,name:"days"}]},hideNoneSelectedText:!0,styleClasses:"col-md-3"},{type:"input",inputType:"text",model:"subject",placeholder:"e.g.: Subject",required:!0,validator:["string"],styleClasses:"col-md-12"},{type:"bstexteditor",model:"options.body",placeholder:"e.g.: Content",multiple_service_type:this.multiple_service_type,required:!0,styleClasses:"col-md-12",mail_status:this.mail_status,allow_rescheduling:this.allow_rescheduling,allow_cancellation:this.allow_cancellation,email_footer:this.email_footer,reschedule_link:this.reschedule_link,cancellation_link:this.cancellation_link,save_appointment_text_link:this.save_appointment_text_link}]}}}},z=(n("Z5ig"),Object(o.a)(L,function(){var e=this,t=e.$createElement,n=e._self._c||t;return void 0!==e.reminders&&e.reminders.length>0?n("div",[e.crumbs.length>0?n("BreadCrumbs",{attrs:{crumbs:e.crumbs},on:{click:e.goTo}}):e._e(),e._v(" "),!1!==e.currentView?n(e.currentView,e._b({key:e.subCompKey,tag:"component",attrs:{subview:e.subview,passedViewData:e.viewData},on:{updateCrumb:e.updateCrumb}},"component",e.dynamicProps,!1)):n("div",{staticClass:"reduced"},[e.remindersAreLoaded?n("div",{staticClass:"mt-2"},[e._l(e.reminders,function(t){return e.addingReminder?e._e():n("div",{staticClass:"p-2 lrow",class:{unpublished:!e.isPublished(t)}},[n("RowReminder",{attrs:{reminder:t,canTranslate:!1!==e.viewData.languages,labels:e.labels},on:{toggledPublish:e.toggledPublish,translateEmail:e.translateEmail,duplicateReminder:e.duplicateReminder,editReminder:e.editReminder,deleteReminder:e.deleteReminder}}),e._v(" "),t.children.length>0?n("div",{staticClass:"pl-4 pt-2 bg-secondary"},e._l(t.children,function(t){return n("RowReminder",{key:"child-"+t.id,attrs:{child:"",reminder:t,canTranslate:!1!==e.viewData.languages,labels:e.labels},on:{toggledPublish:e.toggledPublish,editReminder:e.editReminder,deleteReminder:e.deleteReminder}},[e._v(" - "),n("small",[e._v(e._s(t.lang))])])}),1):e._e()],1)}),e._v(" "),n("div",{staticClass:"mt-2"},[e.addingReminder?n("div",e._l(e.labels.types,function(t){return n("button",{staticClass:"btn btn-secondary m-2 align-items-center d-flex",on:{click:function(n){e.addReminder(t.name)}}},[n("span",{class:"mr-2 dashicons "+t.icon}),e._v(e._s(t.name))])}),0):n("div",[n("button",{staticClass:"btn btn-outline-primary my-2",on:{click:e.addingReminderStep2}},[e.hasTwilio?e._e():n("span",{staticClass:"mr-2 dashicons dashicons-email-alt"}),e._v(e._s(e.hasTwilio?e.get_i18n("add_reminder","settings"):e.get_i18n("add_emailreminder","settings")))]),e._v(" "),e.hasTwilio?e._e():n("button",{staticClass:"btn btn-outline-primary my-2",on:{click:e.addingReminderSMS}},[n("span",{staticClass:"mr-2 dashicons dashicons-smartphone"}),e._v(e._s(e.get_i18n("add_smsreminder","settings")))])])])],2):n("div",[e.loading?e._e():n("div",{staticClass:"card"},[n("p",{staticClass:"h6 m-0"},[e._v(e._s(e.get_i18n("noreminder","settings"))+" "),n("button",{staticClass:"btn btn-secondary btn-sm",on:{click:function(t){e.addReminder("email")}}},[e._v(e._s(e.get_i18n("create","common"))+" ")])])])]),e._v(" "),e.addingReminder?e._e():n("div",{staticClass:"mt-4"},[n("hr"),e._v(" "),n("NotificationEmail",{attrs:{status:e.mail_status},on:{configureEmail:e.goToMailConfig}})],1)])],1):e._e()},[],!1,null,null,null).exports),W=n("2DFw"),$={extends:i.a,components:{Widget:W.a}},N=(n("cA78"),Object(o.a)($,function(){var e=this.$createElement,t=this._self._c||e;return t("div",[t("Widget",{attrs:{stepsAllowed:["Customize","Insert"]}})],1)},[],!1,null,null,null).exports),V=n("KmLJ"),q=n("A5Wa"),H=n("KH6Y"),U=n("lpR3"),K=n("VQM7"),G={extends:i.a,mixins:[U.a],components:{InputPh:window.wappoGet("InputPh"),Front:K.a},data:function(){return{viewName:"widgetcancel",step:"view-event",displayed:!0,options:null,editionsSteps:[{key:"view-event",label:"View Page"},{key:"cancel-event",label:"Cancel Page"},{key:"reschedule-event",label:"Reschedule Page"}]}},computed:{getPageName:function(){var e=this;return this.editionsSteps.find(function(t){return t.key===e.step}).label},isCancelPage:function(){return"cancel-event"==this.step},isReschedulePage:function(){return"reschedule-event"==this.step},isViewPage:function(){return"view-event"==this.step},widgetData:function(){return null!==this.viewData&&void 0!==this.viewData.widget?(this.viewData.widget.demoData=Object.assign({},this.options.demoData),this.viewData.widget.demoData.appointmentData.staff=this.viewData.staff,this.viewData.widget.demoData.view=this.step,this.viewData.widget):null},getBgColor:function(){return null!==this.viewData&&void 0!==this.viewData.bgcolor?this.viewData.bgcolor:"#fff"},widgetFields:function(){return null!==this.viewData&&void 0!==this.viewData.widgetFields?this.viewData.widgetFields:null},widgetDefault:function(){return null!==this.viewData&&void 0!==this.viewData.widgetDefault?this.viewData.widgetDefault:null}},created:function(){this.options={};var e=this.preselection()/1e3+10800;this.options.demoData={appointmentData:{appointment:{start_at:e,end_at:e+3600,type:"phone",can_reschedule_until:e-10800,can_cancel_until:e-10800,duration_sec:3600,options:{provider:{zoom:{join_url:"#zmeeting_url"},google:{google_meet_url:"#gmeeting_url"}}}},client:{name:"John Patrick",email:"jp@email"+e+".com",options:{phone:"+33 6 51 02 48 81",skype:"j.patrick",tz:"Europe/Paris"}},service:{name:"Consultation",duration:60,type:["skype"],address:"",options:{countries:["FR"]}},staff:{id:1,a:"http://0.gravatar.com/avatar/3982abebd0a6ec871c022e502cc016f1?s=40&d=mm&r=g",n:"ben caub",t:"Europe/Madrid"},date_format:"F j, Y",time_format:"g:i a",date_time_union:" - "}}},methods:{preselection:function(){return(new Date).getTime()},setStep:function(e){this.displayed=!1,this.step=e,setTimeout(this.displayTimeout,100)},displayTimeout:function(e){this.displayed=!0},saveChanges:function(){this.$WapModal().request(this.settingSaveRequest({key:"widget",val:this.viewData.widget})).then(this.savedWidgetSuccess).catch(this.savedWidgetFailed)},successRequest:function(e){},failedRequest:function(e){},savedWidgetSuccess:function(e){this.canSave=!1,this.serviceSuccess(e)},savedWidgetFailed:function(e){}}},Z=(n("YjEz"),Object(o.a)(G,function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"container-fluid"},[e.dataLoaded?n("div",[n("h1",[e._v("Edit "+e._s(e.getPageName))]),e._v(" "),n("div",{staticClass:"booking-widget-editor d-flex"},[n("div",{staticClass:"widget-wraper p-3 mr-3"},[n("div",{staticClass:"clear pt-2"},[e.isViewPage?e._e():n("h1",[e._v(e._s(e.isCancelPage?e.viewData.widget.cancel.page_title:e.viewData.widget.reschedule.page_title))]),e._v(" "),e.displayed?n("Front",{attrs:{options:e.widgetData,classEl:"wappointment_page",step:e.step}}):e._e()],1)]),e._v(" "),n("div",[n("div",{staticClass:"row no-gutters"},[n("transition",{attrs:{name:"fade"}},[n("div",{staticClass:"d-flex mb-2"},[n("div",{staticClass:"d-flex step-skip justify-content-between"},e._l(e.editionsSteps,function(t,i){return n("button",{staticClass:"btn btn-secondary btn-cell btn-xs ml-0 mr-2",class:{selected:e.step==t.key},on:{click:function(n){e.setStep(t.key)}}},[e._v(e._s(t.label))])}),0)])])],1),e._v(" "),n("transition",{attrs:{name:"slide-fade-top"}},[e.isViewPage?n("div",[n("InputPh",{attrs:{ph:e.widgetDefault.view.join,allowReset:""},model:{value:e.viewData.widget.view.join,callback:function(t){e.$set(e.viewData.widget.view,"join",t)},expression:"viewData.widget.view.join"}}),e._v(" "),n("InputPh",{attrs:{ph:e.widgetDefault.view.missing_url,allowReset:""},model:{value:e.viewData.widget.view.missing_url,callback:function(t){e.$set(e.viewData.widget.view,"missing_url",t)},expression:"viewData.widget.view.missing_url"}}),e._v(" "),n("InputPh",{attrs:{ph:e.widgetDefault.view.timeleft,allowReset:""},model:{value:e.viewData.widget.view.timeleft,callback:function(t){e.$set(e.viewData.widget.view,"timeleft",t)},expression:"viewData.widget.view.timeleft"}})],1):e._e()]),e._v(" "),n("transition",{attrs:{name:"slide-fade-top"}},[e.isCancelPage?n("div",[n("InputPh",{attrs:{ph:e.widgetDefault.cancel.page_title,allowReset:""},model:{value:e.viewData.widget.cancel.page_title,callback:function(t){e.$set(e.viewData.widget.cancel,"page_title",t)},expression:"viewData.widget.cancel.page_title"}}),e._v(" "),n("InputPh",{attrs:{ph:e.widgetDefault.cancel.title,allowReset:""},model:{value:e.viewData.widget.cancel.title,callback:function(t){e.$set(e.viewData.widget.cancel,"title",t)},expression:"viewData.widget.cancel.title"}}),e._v(" "),n("InputPh",{attrs:{ph:e.widgetDefault.cancel.button,allowReset:""},model:{value:e.viewData.widget.cancel.button,callback:function(t){e.$set(e.viewData.widget.cancel,"button",t)},expression:"viewData.widget.cancel.button"}}),e._v(" "),n("InputPh",{attrs:{ph:e.widgetDefault.cancel.confirmation,allowReset:""},model:{value:e.viewData.widget.cancel.confirmation,callback:function(t){e.$set(e.viewData.widget.cancel,"confirmation",t)},expression:"viewData.widget.cancel.confirmation"}}),e._v(" "),n("InputPh",{attrs:{ph:e.widgetDefault.cancel.confirm,allowReset:""},model:{value:e.viewData.widget.cancel.confirm,callback:function(t){e.$set(e.viewData.widget.cancel,"confirm",t)},expression:"viewData.widget.cancel.confirm"}}),e._v(" "),n("InputPh",{attrs:{ph:e.widgetDefault.cancel.confirmed,allowReset:""},model:{value:e.viewData.widget.cancel.confirmed,callback:function(t){e.$set(e.viewData.widget.cancel,"confirmed",t)},expression:"viewData.widget.cancel.confirmed"}}),e._v(" "),n("InputPh",{attrs:{ph:e.widgetDefault.cancel.toolate,allowReset:""},model:{value:e.viewData.widget.cancel.toolate,callback:function(t){e.$set(e.viewData.widget.cancel,"toolate",t)},expression:"viewData.widget.cancel.toolate"}})],1):e._e()]),e._v(" "),n("transition",{attrs:{name:"slide-fade-top"}},[e.isReschedulePage?n("div",[n("InputPh",{attrs:{ph:e.widgetDefault.reschedule.page_title,allowReset:""},model:{value:e.viewData.widget.reschedule.page_title,callback:function(t){e.$set(e.viewData.widget.reschedule,"page_title",t)},expression:"viewData.widget.reschedule.page_title"}}),e._v(" "),n("InputPh",{attrs:{ph:e.widgetDefault.reschedule.title,allowReset:""},model:{value:e.viewData.widget.reschedule.title,callback:function(t){e.$set(e.viewData.widget.reschedule,"title",t)},expression:"viewData.widget.reschedule.title"}}),e._v(" "),n("InputPh",{attrs:{ph:e.widgetDefault.reschedule.button,allowReset:""},model:{value:e.viewData.widget.reschedule.button,callback:function(t){e.$set(e.viewData.widget.reschedule,"button",t)},expression:"viewData.widget.reschedule.button"}}),e._v(" "),n("InputPh",{attrs:{ph:e.widgetDefault.reschedule.toolate,allowReset:""},model:{value:e.viewData.widget.reschedule.toolate,callback:function(t){e.$set(e.viewData.widget.reschedule,"toolate",t)},expression:"viewData.widget.reschedule.toolate"}})],1):e._e()]),e._v(" "),n("button",{staticClass:"btn btn-primary",on:{click:e.saveChanges}},[e._v(e._s(e.get_i18n("save","common")))])],1)])]):e._e()])},[],!1,null,null,null).exports),Y={props:["id","selected","classN"],data:function(){return{model:1,weekdays:{monday:{label:"Monday",i:1},tuesday:{label:"Tuesday",i:2},wednesday:{label:"Wednesday",i:3},thursday:{label:"Thursday",i:4},friday:{label:"Friday",i:5},saturday:{label:"Saturday",i:6},sunday:{label:"Sunday",i:0}}}},created:function(){this.model=this.selected},methods:{changed:function(){this.$emit("changed",this.model)}}},J=Object(o.a)(Y,function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("select",{directives:[{name:"model",rawName:"v-model",value:e.model,expression:"model"}],class:e.classN,attrs:{id:e.id},on:{change:[function(t){var n=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){return"_value"in e?e._value:e.value});e.model=t.target.multiple?n:n[0]},e.changed]}},e._l(e.weekdays,function(t){return n("option",{domProps:{value:t.i}},[e._v(e._s(t.label))])}),0)},[],!1,null,null,null).exports,X={props:["id","selected","classN","timeFormat"],data:function(){return{times:[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23],model:1}},created:function(){this.model=this.selected},methods:{formatTime:function(e){var t=Object(H.a)(this.timeFormat);return Object(q.a)().hours(e).minutes(0).format(t)},changed:function(){this.$emit("changed",this.model)}}},Q=Object(o.a)(X,function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("select",{directives:[{name:"model",rawName:"v-model",value:e.model,expression:"model"}],class:e.classN,attrs:{id:e.id},on:{change:[function(t){var n=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){return"_value"in e?e._value:e.value});e.model=t.target.multiple?n:n[0]},e.changed]}},e._l(e.times,function(t){return n("option",{domProps:{value:t}},[e._v(e._s(e.formatTime(t)))])}),0)},[],!1,null,null,null).exports,ee=n("PO5Y"),te=n("8XOi"),ne=n("RnKe"),ie={props:{phIsvalue:{type:Boolean,default:!1},value:{type:Array}},extends:te.a,components:{ValueCard:ne.a},data:function(){return{valueInputField:""}},methods:{changeInputValue:function(e){if(""!=e.target.value.trim())return this.valueInit.push(e.target.value),this.valueInputField="",this.sendValueChange()},discardElement:function(e){return this.valueInit=this.valueInit.filter(function(t){return t!=e}),this.sendValueChange()},sendValueChange:function(){return this.$emit("input",this.valueInit),this.$emit("changed")},focusInput:function(){this.$refs.input.focus()}}},ae=(n("PCd/"),Object(o.a)(ie,function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("LabelMaterial",{attrs:{extraClass:"phvc",forceFloat:!0}},[n("div",{staticClass:"form-control d-flex flex-wrap",on:{"!click":function(t){return e.focusInput(t)}}},[e._l(e.valueInit,function(t){return e.valueInit.length>0?n("ValueCard",{key:t,attrs:{value:t},on:{discard:e.discardElement}},[e._v(e._s(t))]):e._e()}),e._v(" "),n("input",{ref:"input",staticClass:"input-t",attrs:{type:"text",placeholder:e.ph},domProps:{value:e.valueInputField},on:{focusout:e.changeInputValue,keyup:function(t){return"button"in t||!e._k(t.keyCode,"enter",13,t.key,"Enter")?e.changeInputValue(t):null}}})],2)])},[],!1,null,null,null).exports),se=n("sgCK"),oe=n("FYyN"),re=n("WISJ");var le,ce={mixins:[oe.a],data:function(){return{checks:!1,lang:null,showall:!1,solutions:!1}},created:function(){this.mainService=this.$vueService(new re.a),-1!==window.apiWappointment.wp_user.permissions.indexOf("switch_themes")&&this.checkHealth()},computed:{hasIssue:function(){return Object.values(this.checks).find(function(e){return!0===e})},unreliableScheduled:function(){return this.checks.cron_unreliable||this.checks.late_run||this.checks.late_tasks}},methods:{getLabel:function(e){return this.lang[e]},hasSolution:function(e){return this.solutions[e]},checkHealth:function(){this.request(this.checkHealthRequest,{},void 0,!1,this.successCheck)},checkHealthRequest:function(){var e,t=(e=regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.mainService.call("health");case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e,this)}),function(){var t=e.apply(this,arguments);return new Promise(function(e,n){return function i(a,s){try{var o=t[a](s),r=o.value}catch(e){return void n(e)}if(!o.done)return Promise.resolve(r).then(function(e){i("next",e)},function(e){i("throw",e)});e(r)}("next")})});return function(){return t.apply(this,arguments)}}(),successCheck:function(e){this.lang=e.data.lang,this.checks=e.data.checks,this.data=e.data.data,this.solutions=e.data.solutions}}},de=(n("A7Fq"),Object(o.a)(ce,function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"wappo-health show"},[e.lang?[n("h5",[e._v(e._s(e.lang.cron_found_issue)),n("a",{attrs:{href:"javascript:;"},on:{click:e.checkHealth}},[n("span",{staticClass:"small dashicons dashicons-image-rotate"})])]),e._v(" "),n("div",{staticClass:"health-checks"},[e._l(Object.keys(e.checks),function(t){return e.showall||!e.showall&&e.checks[t]?n("div",{staticClass:"d-flex small"},[n("div",[e._v(e._s(e.getLabel(t)))]),e._v(" "),e.checks[t]?n("span",{staticClass:"dashicons dashicons-no text-danger"}):n("span",{staticClass:"dashicons dashicons-yes text-success"}),e._v(" "),e.hasSolution(t)?n("a",{staticClass:"class",attrs:{href:e.hasSolution(t),target:"_blank"}},[e._v(e._s(e.lang.cron_read))]):e._e()]):e._e()}),e._v(" "),n("a",{staticClass:"small",attrs:{href:"javascript:;"},on:{click:function(t){e.showall=!e.showall}}},[e._v(e._s(e.lang.cron_showall))])],2)]:e._e()],2)},[],!1,null,null,null).exports),ue=n("HNi+");function pe(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function he(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){return function i(a,s){try{var o=t[a](s),r=o.value}catch(e){return void n(e)}if(!o.done)return Promise.resolve(r).then(function(e){i("next",e)},function(e){i("throw",e)});e(r)}("next")})}}var fe,ve,me={extends:i.a,props:["tablabel"],components:{FormFieldDuration:V.a,EditCancelPage:Z,weekDays:J,dayTime:Q,Checkbox:T,LabelMaterial:ee.a,MailConfig:E,NotificationEmail:w,InputValueCards:ae,FormFieldSelect:se.a,Health:de,HoursDropdown:ue.a},mixins:[l],data:function(){return{viewName:"settingsadvanced",maxBookings:!1,showHealth:!1,isToggled:{date_format:!1,time_format:!1},date_formats:["F j, Y","Y-m-d","m/d/Y","d/m/Y"],time_formats:["g:i a","g:i A","H:i","H\\hi"],video_link_edit:!1}},created:function(){this.mainCrumbLabel=this.tablabel},watch:{video_link_edit:function(e){!1===e&&(this.viewData.video_link_shows=0,this.changedVidLink(0))}},computed:{showVideoLink:function(){return this.video_link_edit||parseInt(this.viewData.video_link_shows)>0}},methods:(le={changeMoreSt:function(e){return this.changed(e,"starting_each")},changedVidLink:function(e){return this.changed(e,"video_link_shows")},changedBuffer:function(e){return this.changed(e,"buffer_time")},changedCleaningPending:function(e){return this.changed(e,"clean_pending_every")},funcDisplay:function(e){return this.sprintf_i18n("regav_min","common",e)},changedMaxActive:function(){this.viewData.max_active_bookings<1&&(this.maxBookings=!1),this.changedVD("max_active_bookings",this.viewData.max_active_bookings>0?this.viewData.max_active_bookings:0)},toggleMaxBookings:function(){var e=this.maxBookings?1:0;this.viewData.max_active_bookings=e,this.changed(e,"max_active_bookings")},loaded:function(e){this.viewData=e.data,this.$emit("fullyLoaded"),this.video_link_edit=parseInt(this.viewData.video_link_shows)>0,this.maxBookings=parseInt(this.viewData.max_active_bookings)>0},EditTextPage:function(){this.setCrumb("EditCancelPage","Edit Cancel/reschedule page","EditTextPage")},day_example:function(e){return Object(q.a)().tz(this.viewData.timezone).format(Object(H.a)(e))},time_example:function(e){return Object(q.a)().tz(this.viewData.timezone).format(Object(H.a)(e))},changeDDP:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"date_format";this.viewData[t]=e,this.toggle(t),this.changedReload(t)},changedReload:function(e){this.changedVD(e),this.refreshInitValue()},changedDayStart:function(e){this.viewData.week_starts_on=e,this.changedVD("week_starts_on")},toggled:function(e){return this.isToggled[e]},toggle:function(e){this.isToggled[e]=!this.isToggled[e]},addBigPrices:function(){var e=this;this.$WapModal().confirm({title:"Are you sure you need this?",content:"Use this option only if you have an issue setting up big price when setting your services"}).then(function(t){!0===t&&e.request(e.addBigPriceRequest,void 0,void 0,!1,e.updateViewData)})},addBigPriceRequest:function(){var e=he(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.service.call("addbigprice");case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),addManagerRole:function(){var e=this;this.$WapModal().confirm({title:"Are you sure you need this?",content:"This is useful if you have a manager in the team who need to handle your Wappointment's settings without being an administrator"}).then(function(t){!0===t&&e.request(e.addManagerRoleRequest,void 0,void 0,!1,e.updateViewData)})},updateViewData:function(e){this.viewData=e.data},addManagerRoleRequest:function(){var e=he(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.service.call("addmanagerrole");case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),updatePage:function(){var e=this;this.$WapModal().confirm({title:"Are you sure you need this?",content:"This is useful only to 1% of the users<br/>Basically instead of using a <strong>CPT</strong>(Custom Post Type) for Reschedule, Cancel and View page of your appointment you will use a standard Page"}).then(function(t){!0===t&&e.request(e.updatePageRequest,void 0,void 0,!1,e.updateViewData)})}},pe(le,"updateViewData",function(e){this.viewData=e.data}),pe(le,"updatePageRequest",function(){var e=he(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.service.call("updatepage");case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()),pe(le,"refreshCache",function(){this.request(this.refreshCacheRequest)}),pe(le,"refreshCacheRequest",(ve=he(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.service.call("refreshcache");case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e,this)})),function(){return ve.apply(this,arguments)})),pe(le,"startResetConfirm",function(){var e=this;this.$WapModal().confirm({title:"Do you really want to uninstall Wappointment?",content:"All your data(appointments, settings, etc...) will be lost"}).then(function(t){!0===t&&e.request(e.resetInstallation,void 0,void 0,!1,e.redirectReset)})}),pe(le,"resetInstallation",(fe=he(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.service.call("freshinstall");case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e,this)})),function(){return fe.apply(this,arguments)})),pe(le,"changedRoles",function(e){this.changed(e,"calendar_roles")}),pe(le,"changedInvoiceCfield",function(e){this.changed(e,"invoice_client")}),pe(le,"changedVD",function(e){this.changed(this.viewData[e],e)}),pe(le,"changed",function(e,t){this.settingSave(t,e),this.viewData[t]=e}),pe(le,"changedFromModel",function(e){this.settingSave(e,this.viewData[e])}),pe(le,"redirectReset",function(){this.$WapModal().request(this.sleep(4e3)),window.location=window.apiWappointment.base_admin+"?page=wappointment_calendar"}),pe(le,"goToMailConfig",function(){this.setCrumb("MailConfig","Mail Config","goToMailConfig")}),pe(le,"mailConfigured",function(){this.viewData.mail_status=!0}),pe(le,"changedDay",function(e){this.changedDDPEXT(e,"weekly_summary_day")}),pe(le,"changedTime",function(e){this.changedDDPEXT(e,"weekly_summary_time")}),pe(le,"changedDayTime",function(e){this.changedDDPEXT(e,"daily_summary_time")}),pe(le,"changedRefreshAVBTime",function(e){this.changedDDPEXT(e,"refreshavb_at")}),pe(le,"changedDDPEXT",function(e,t){this.viewData[t]=e,this.changedVD(t)}),pe(le,"changedCheck",function(e){this.viewData[e]=!this.viewData[e],this.settingSave(e,this.viewData[e])}),le)},ge=(n("i8oK"),Object(o.a)(me,function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.dataLoaded?n("div",[e.crumbs.length>0?n("BreadCrumbs",{attrs:{crumbs:e.crumbs},on:{click:e.goTo}}):e._e(),e._v(" "),!1!==e.currentView?n(e.currentView,e._b({key:e.subCompKey,tag:"component",attrs:{subview:e.subview},on:{updateCrumb:e.updateCrumb}},"component",e.dynamicProps,!1)):n("div",{staticClass:"reduced"},[n("div",{staticClass:"card p-2 px-3"},[n("div",{staticClass:"h5"},[e._v("Scheduling preferences")]),e._v(" "),n("hr"),e._v(" "),n("div",[n("div",{staticClass:"row my-2"},[n("label",{staticClass:"col-sm-3",attrs:{for:"approval-mode"}},[e._v("Approval mode")]),e._v(" "),n("div",{staticClass:"col-sm-4"},[n("select",{directives:[{name:"model",rawName:"v-model",value:e.viewData.approval_mode,expression:"viewData.approval_mode"}],staticClass:"form-control",attrs:{id:"approval-mode"},on:{change:[function(t){var n=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){return"_value"in e?e._value:e.value});e.$set(e.viewData,"approval_mode",t.target.multiple?n:n[0])},function(t){e.changedVD("approval_mode")}]}},[n("option",{attrs:{value:"1"}},[e._v("Automatic")]),e._v(" "),n("option",{attrs:{value:"2"}},[e._v("Manual")])])])]),e._v(" "),n("div",{staticClass:"row mb-2"},[n("label",{staticClass:"col-sm-3 dateformatlabel",attrs:{for:"date-format"}},[e._v(" Date format")]),e._v(" "),n("div",{staticClass:"col-sm-9"},[n("div",{staticClass:"d-flex"},[n("div",{staticClass:"input-group input-group-sm"},[n("div",{staticClass:"input-group-prepend",class:{show:e.toggled("date_format")}},[n("button",{staticClass:"btn btn-secondary dropdown-toggle",attrs:{type:"button"},on:{click:function(t){e.toggle("date_format")}}},[e._v("Date")]),e._v(" "),n("div",{staticClass:"dropdown-menu",class:{show:e.toggled("date_format")}},e._l(e.date_formats,function(t){return n("span",{staticClass:"dropdown-item",on:{click:function(n){e.changeDDP(t)}}},[e._v(e._s(t)+" ("+e._s(e.day_example(t))+")")])}),0)]),e._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:e.viewData.date_format,expression:"viewData.date_format"}],staticClass:"form-control",attrs:{id:"date-format",size:"5",type:"text"},domProps:{value:e.viewData.date_format},on:{change:function(t){e.changedReload("date_format")},input:function(t){t.target.composing||e.$set(e.viewData,"date_format",t.target.value)}}})]),e._v(" "),n("div",{staticClass:"input-group  input-group-sm"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.viewData.date_time_union,expression:"viewData.date_time_union"}],staticClass:"form-control",attrs:{id:"date-time-union",size:"3",type:"text"},domProps:{value:e.viewData.date_time_union},on:{change:function(t){e.changedReload("date_time_union")},input:function(t){t.target.composing||e.$set(e.viewData,"date_time_union",t.target.value)}}})]),e._v(" "),n("div",{staticClass:"input-group  input-group-sm"},[n("div",{staticClass:"input-group-prepend",class:{show:e.toggled("time_format")}},[n("button",{staticClass:"btn btn-secondary dropdown-toggle",attrs:{type:"button"},on:{click:function(t){e.toggle("time_format")}}},[e._v("Time")]),e._v(" "),n("div",{staticClass:"dropdown-menu",class:{show:e.toggled("time_format")}},e._l(e.time_formats,function(t){return n("span",{staticClass:"dropdown-item",on:{click:function(n){e.changeDDP(t,"time_format")}}},[e._v(e._s(t)+" ("+e._s(e.time_example(t))+")")])}),0)]),e._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:e.viewData.time_format,expression:"viewData.time_format"}],staticClass:"form-control",attrs:{id:"time-format",size:"5",type:"text"},domProps:{value:e.viewData.time_format},on:{change:function(t){e.changedReload("time_format")},input:function(t){t.target.composing||e.$set(e.viewData,"time_format",t.target.value)}}})])]),e._v(" "),n("div",{staticClass:"date-preview"},[n("span",{staticClass:"font-weight-bold small"},[e._v(e._s(e.viewData.today_formatted))])])])]),e._v(" "),n("div",{staticClass:"d-flex mb-2"},[n("div",[n("label",{staticClass:"m-0",attrs:{for:"week-starts-on"}},[e._v("Week starts on")]),e._v(" "),n("div",{staticClass:"small text-muted"},[e._v("In Admin Calendar view")])]),e._v(" "),n("div",{staticClass:"ml-4"},[n("weekDays",{attrs:{id:"week-starts-on",classN:"form-control",selected:e.viewData.week_starts_on},on:{changed:e.changedDayStart}})],1),e._v(" "),n("div",{staticClass:"d-flex align-items-center ml-2"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.viewData.frontend_weekstart,expression:"viewData.frontend_weekstart"}],attrs:{type:"checkbox",id:"frontend_weekstart"},domProps:{checked:Array.isArray(e.viewData.frontend_weekstart)?e._i(e.viewData.frontend_weekstart,null)>-1:e.viewData.frontend_weekstart},on:{change:[function(t){var n=e.viewData.frontend_weekstart,i=t.target,a=!!i.checked;if(Array.isArray(n)){var s=e._i(n,null);i.checked?s<0&&e.$set(e.viewData,"frontend_weekstart",n.concat([null])):s>-1&&e.$set(e.viewData,"frontend_weekstart",n.slice(0,s).concat(n.slice(s+1)))}else e.$set(e.viewData,"frontend_weekstart",a)},function(t){e.changedVD("frontend_weekstart")}]}}),e._v(" "),n("div",{staticClass:"small text-muted"},[e._v("Apply to frontend ")])])]),e._v(" "),n("div",{staticClass:"mb-2"},[n("label",{staticClass:"form-check-label",attrs:{for:"hrs-before-allowed"}},[n("div",{staticClass:"d-flex align-items-center"},[e._v("Appointments can be booked up to \n                "),n("div",{staticClass:"input-group-sm mx-2"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.viewData.hours_before_booking_allowed,expression:"viewData.hours_before_booking_allowed"}],staticClass:"form-control min-field",attrs:{id:"hrs-before-allowed",size:"2",type:"text"},domProps:{value:e.viewData.hours_before_booking_allowed},on:{change:function(t){e.changedVD("hours_before_booking_allowed")},input:function(t){t.target.composing||e.$set(e.viewData,"hours_before_booking_allowed",t.target.value)}}})]),e._v(" hrs before it starts")])])]),e._v(" "),n("div",{staticClass:"mb-2"},[n("label",{staticClass:"form-check-label",attrs:{for:"allow-cancel"}},[n("div",{staticClass:"d-flex align-items-center"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.viewData.allow_cancellation,expression:"viewData.allow_cancellation"}],attrs:{type:"checkbox",id:"allow-cancel"},domProps:{checked:Array.isArray(e.viewData.allow_cancellation)?e._i(e.viewData.allow_cancellation,null)>-1:e.viewData.allow_cancellation},on:{change:[function(t){var n=e.viewData.allow_cancellation,i=t.target,a=!!i.checked;if(Array.isArray(n)){var s=e._i(n,null);i.checked?s<0&&e.$set(e.viewData,"allow_cancellation",n.concat([null])):s>-1&&e.$set(e.viewData,"allow_cancellation",n.slice(0,s).concat(n.slice(s+1)))}else e.$set(e.viewData,"allow_cancellation",a)},function(t){e.changedVD("allow_cancellation")}]}}),e._v("\n                  Allow clients to cancel "),e.viewData.allow_cancellation?n("a",{staticClass:"ml-2",attrs:{href:"javascript:;"},on:{click:e.EditTextPage}},[e._v("edit page's text")]):e._e()])]),e._v(" "),e.viewData.allow_cancellation?n("div",{staticClass:"d-flex align-items-center small text-muted ml-2"},[e._v("Let client cancel up to \n                  "),n("div",{staticClass:"input-group-sm mx-2"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.viewData.hours_before_cancellation_allowed,expression:"viewData.hours_before_cancellation_allowed"}],staticClass:"form-control min-field",attrs:{size:"2",type:"text"},domProps:{value:e.viewData.hours_before_cancellation_allowed},on:{change:function(t){e.changedVD("hours_before_cancellation_allowed")},input:function(t){t.target.composing||e.$set(e.viewData,"hours_before_cancellation_allowed",t.target.value)}}})]),e._v(" hrs before appointment")]):e._e()]),e._v(" "),n("div",{staticClass:"mb-2"},[n("label",{staticClass:"form-check-label",attrs:{for:"allow-reschedule"}},[n("div",{staticClass:"d-flex align-items-center"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.viewData.allow_rescheduling,expression:"viewData.allow_rescheduling"}],attrs:{type:"checkbox",id:"allow-reschedule"},domProps:{checked:Array.isArray(e.viewData.allow_rescheduling)?e._i(e.viewData.allow_rescheduling,null)>-1:e.viewData.allow_rescheduling},on:{change:[function(t){var n=e.viewData.allow_rescheduling,i=t.target,a=!!i.checked;if(Array.isArray(n)){var s=e._i(n,null);i.checked?s<0&&e.$set(e.viewData,"allow_rescheduling",n.concat([null])):s>-1&&e.$set(e.viewData,"allow_rescheduling",n.slice(0,s).concat(n.slice(s+1)))}else e.$set(e.viewData,"allow_rescheduling",a)},function(t){e.changedVD("allow_rescheduling")}]}}),e._v("\n                  Allow clients to reschedule "),e.viewData.allow_rescheduling?n("a",{staticClass:"ml-2",attrs:{href:"javascript:;"},on:{click:e.EditTextPage}},[e._v("edit page's text")]):e._e()])]),e._v(" "),e.viewData.allow_rescheduling?n("div",{staticClass:"d-flex align-items-center small text-muted ml-2"},[e._v("Let client reschedule up to \n                  "),n("div",{staticClass:"input-group-sm mx-2"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.viewData.hours_before_rescheduling_allowed,expression:"viewData.hours_before_rescheduling_allowed"}],staticClass:"form-control min-field",attrs:{size:"2",type:"text"},domProps:{value:e.viewData.hours_before_rescheduling_allowed},on:{change:function(t){e.changedVD("hours_before_rescheduling_allowed")},input:function(t){t.target.composing||e.$set(e.viewData,"hours_before_rescheduling_allowed",t.target.value)}}})]),e._v(" hrs before appointment")]):e._e()]),e._v(" "),n("div",{staticClass:"mb-2"},[n("div",{staticClass:"d-flex align-items-center"},[n("label",{staticClass:"form-check-label w-100",attrs:{for:"video_link"}},[n("div",{staticClass:"min-label"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.video_link_edit,expression:"video_link_edit"}],attrs:{type:"checkbox",id:"video_link"},domProps:{checked:Array.isArray(e.video_link_edit)?e._i(e.video_link_edit,null)>-1:e.video_link_edit},on:{change:function(t){var n=e.video_link_edit,i=t.target,a=!!i.checked;if(Array.isArray(n)){var s=e._i(n,null);i.checked?s<0&&(e.video_link_edit=n.concat([null])):s>-1&&(e.video_link_edit=n.slice(0,s).concat(n.slice(s+1)))}else e.video_link_edit=a}}}),e._v("\n                   Video Meeting link is accessible X minutes before the appointment starts\n                   ")])]),e._v(" "),e.showVideoLink?n("FormFieldDuration",{on:{change:e.changedVidLink},model:{value:e.viewData.video_link_shows,callback:function(t){e.$set(e.viewData,"video_link_shows",t)},expression:"viewData.video_link_shows"}}):e._e()],1),e._v(" "),n("div",{staticClass:"small text-muted"},[e._v("If you want to restrict when your clients get access to the Video meeting url")])]),e._v(" "),n("div",{staticClass:"d-flex mb-2"},[n("label",{staticClass:"form-check-label w-100",attrs:{for:"buffer_time"}},[n("div",{staticClass:"d-flex align-items-center"},[n("div",{staticClass:"min-label"},[e._v("Buffer time")]),e._v(" "),n("FormFieldDuration",{on:{change:e.changedBuffer},model:{value:e.viewData.buffer_time,callback:function(t){e.$set(e.viewData,"buffer_time",t)},expression:"viewData.buffer_time"}})],1),e._v(" "),n("div",{staticClass:"small text-muted"},[e._v("Time(in minutes) reserved to prepare your next appointment")])])]),e._v(" "),e.viewData.payment_active?n("div",{staticClass:"d-flex mb-2"},[n("label",{staticClass:"form-check-label w-100",attrs:{for:"buffer_time"}},[n("div",{staticClass:"d-flex align-items-center"},[n("div",{staticClass:"min-label"},[e._v("Auto cancel pending appointment")]),e._v(" "),n("FormFieldDuration",{on:{change:e.changedCleaningPending},model:{value:e.viewData.clean_pending_every,callback:function(t){e.$set(e.viewData,"clean_pending_every",t)},expression:"viewData.clean_pending_every"}})],1),e._v(" "),n("div",{staticClass:"small text-muted"},[e._v("Pending appointments are automatically cancelled after "+e._s(e.viewData.clean_pending_every)+" min without payment completion ")])])]):e._e()])]),e._v(" "),n("div",{staticClass:"card p-2 px-3"},[n("div",{staticClass:"h5"},[e._v("Edge use cases")]),e._v(" "),n("hr"),e._v(" "),n("div",{staticClass:"mb-2"},[n("label",{staticClass:"form-check-label",attrs:{for:"max-active-booking","data-tt":"Limit the number of active appointments a client can book with his email address"}},[n("div",{staticClass:"d-flex align-items-center"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.maxBookings,expression:"maxBookings"}],attrs:{id:"max-active-booking-active",type:"checkbox"},domProps:{checked:Array.isArray(e.maxBookings)?e._i(e.maxBookings,null)>-1:e.maxBookings},on:{change:[function(t){var n=e.maxBookings,i=t.target,a=!!i.checked;if(Array.isArray(n)){var s=e._i(n,null);i.checked?s<0&&(e.maxBookings=n.concat([null])):s>-1&&(e.maxBookings=n.slice(0,s).concat(n.slice(s+1)))}else e.maxBookings=a},e.toggleMaxBookings]}}),e._v("Limit active bookings per client \n              "),n("div",{staticClass:"input-group-sm mx-2"},[e.maxBookings?n("input",{directives:[{name:"model",rawName:"v-model",value:e.viewData.max_active_bookings,expression:"viewData.max_active_bookings"}],staticClass:"form-control min-field",attrs:{id:"max-active-booking",size:"2",type:"text"},domProps:{value:e.viewData.max_active_bookings},on:{change:e.changedMaxActive,input:function(t){t.target.composing||e.$set(e.viewData,"max_active_bookings",t.target.value)}}}):e._e(),e._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:e.viewData.max_active_per_staff,expression:"viewData.max_active_per_staff"}],attrs:{id:"max-active-per-staff",type:"checkbox"},domProps:{checked:Array.isArray(e.viewData.max_active_per_staff)?e._i(e.viewData.max_active_per_staff,null)>-1:e.viewData.max_active_per_staff},on:{change:[function(t){var n=e.viewData.max_active_per_staff,i=t.target,a=!!i.checked;if(Array.isArray(n)){var s=e._i(n,null);i.checked?s<0&&e.$set(e.viewData,"max_active_per_staff",n.concat([null])):s>-1&&e.$set(e.viewData,"max_active_per_staff",n.slice(0,s).concat(n.slice(s+1)))}else e.$set(e.viewData,"max_active_per_staff",a)},function(t){e.changedVD("max_active_per_staff")}]}}),e._v("Limit per staff\n              ")])])])]),e._v(" "),n("div",{staticClass:"mb-2"},[n("label",{staticClass:"form-check-label",attrs:{for:"allow-autofill","data-tt":"If a user is logged in on your site, we'll prefill the booking form's fields"}},[n("div",{staticClass:"d-flex align-items-center"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.viewData.autofill,expression:"viewData.autofill"}],attrs:{type:"checkbox",id:"allow-autofill"},domProps:{checked:Array.isArray(e.viewData.autofill)?e._i(e.viewData.autofill,null)>-1:e.viewData.autofill},on:{change:[function(t){var n=e.viewData.autofill,i=t.target,a=!!i.checked;if(Array.isArray(n)){var s=e._i(n,null);i.checked?s<0&&e.$set(e.viewData,"autofill",n.concat([null])):s>-1&&e.$set(e.viewData,"autofill",n.slice(0,s).concat(n.slice(s+1)))}else e.$set(e.viewData,"autofill",a)},function(t){e.changedVD("autofill")}]}}),e._v("\n                  Autofill booking form for logged in users\n                ")])])]),e._v(" "),n("div",{staticClass:"mb-2"},[n("label",{staticClass:"form-check-label",attrs:{for:"allow-forcemail","data-tt":"If a user is logged in on your site, we'll force his account email address and hide the email field"}},[n("div",{staticClass:"d-flex align-items-center"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.viewData.forceemail,expression:"viewData.forceemail"}],attrs:{type:"checkbox",id:"allow-forcemail"},domProps:{checked:Array.isArray(e.viewData.forceemail)?e._i(e.viewData.forceemail,null)>-1:e.viewData.forceemail},on:{change:[function(t){var n=e.viewData.forceemail,i=t.target,a=!!i.checked;if(Array.isArray(n)){var s=e._i(n,null);i.checked?s<0&&e.$set(e.viewData,"forceemail",n.concat([null])):s>-1&&e.$set(e.viewData,"forceemail",n.slice(0,s).concat(n.slice(s+1)))}else e.$set(e.viewData,"forceemail",a)},function(t){e.changedVD("forceemail")}]}}),e._v("\n                  Force user account's email\n                ")])])]),e._v(" "),n("div",{staticClass:"mb-2"},[n("label",{staticClass:"form-check-label",attrs:{for:"allow-cache"}},[n("div",{staticClass:"d-flex align-items-center",attrs:{"data-tt":"Runs availability requests faster"}},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.viewData.cache,expression:"viewData.cache"}],attrs:{type:"checkbox",id:"allow-cache"},domProps:{checked:Array.isArray(e.viewData.cache)?e._i(e.viewData.cache,null)>-1:e.viewData.cache},on:{change:[function(t){var n=e.viewData.cache,i=t.target,a=!!i.checked;if(Array.isArray(n)){var s=e._i(n,null);i.checked?s<0&&e.$set(e.viewData,"cache",n.concat([null])):s>-1&&e.$set(e.viewData,"cache",n.slice(0,s).concat(n.slice(s+1)))}else e.$set(e.viewData,"cache",a)},function(t){e.changedVD("cache")}]}}),e._v("\n              Use Wappointment's cache\n              "),e.viewData.cache?n("button",{staticClass:"ml-2 btn btn-secondary btn-sm",on:{click:e.refreshCache}},[e._v("\n                Refresh cache\n              ")]):e._e()])])]),e._v(" "),n("div",{staticClass:"mb-2"},[n("label",{staticClass:"form-check-label",attrs:{for:"allow-staffcf","data-tt":"Create fields describing your staff to be used in emails and SMS"}},[n("div",{staticClass:"d-flex align-items-center"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.viewData.allow_staff_cf,expression:"viewData.allow_staff_cf"}],attrs:{type:"checkbox",id:"allow-staffcf"},domProps:{checked:Array.isArray(e.viewData.allow_staff_cf)?e._i(e.viewData.allow_staff_cf,null)>-1:e.viewData.allow_staff_cf},on:{change:[function(t){var n=e.viewData.allow_staff_cf,i=t.target,a=!!i.checked;if(Array.isArray(n)){var s=e._i(n,null);i.checked?s<0&&e.$set(e.viewData,"allow_staff_cf",n.concat([null])):s>-1&&e.$set(e.viewData,"allow_staff_cf",n.slice(0,s).concat(n.slice(s+1)))}else e.$set(e.viewData,"allow_staff_cf",a)},function(t){e.changedVD("allow_staff_cf")}]}}),e._v("\n                  Allow staff's advanced description\n                ")])])]),e._v(" "),n("div",{staticClass:"mb-2"},[n("label",{staticClass:"form-check-label",attrs:{for:"allow-calendar_handles_free"}},[n("div",{staticClass:"d-flex align-items-center",attrs:{"data-tt":"Certain calendar app such as Outlook live allow you to set a time where you are free, with that option, we will set open your availability whenever we spot those."}},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.viewData.calendar_handles_free,expression:"viewData.calendar_handles_free"}],attrs:{type:"checkbox",id:"allow-calendar_handles_free"},domProps:{checked:Array.isArray(e.viewData.calendar_handles_free)?e._i(e.viewData.calendar_handles_free,null)>-1:e.viewData.calendar_handles_free},on:{change:[function(t){var n=e.viewData.calendar_handles_free,i=t.target,a=!!i.checked;if(Array.isArray(n)){var s=e._i(n,null);i.checked?s<0&&e.$set(e.viewData,"calendar_handles_free",n.concat([null])):s>-1&&e.$set(e.viewData,"calendar_handles_free",n.slice(0,s).concat(n.slice(s+1)))}else e.$set(e.viewData,"calendar_handles_free",a)},function(t){e.changedVD("calendar_handles_free")}]}}),e._v("\n              Recognize FREE status in .ICS import\n            ")])]),e._v(" "),e.viewData.calendar_handles_free?n("div",{staticClass:"ml-4 mt-2"},[n("label",{staticClass:"form-check-label",attrs:{for:"allow-calendar_ignores_free"}},[n("div",{staticClass:"d-flex align-items-center",attrs:{"data-tt":"When a FREE event is spotted, we just ignore it"}},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.viewData.calendar_ignores_free,expression:"viewData.calendar_ignores_free"}],attrs:{type:"checkbox",id:"allow-calendar_ignores_free"},domProps:{checked:Array.isArray(e.viewData.calendar_ignores_free)?e._i(e.viewData.calendar_ignores_free,null)>-1:e.viewData.calendar_ignores_free},on:{change:[function(t){var n=e.viewData.calendar_ignores_free,i=t.target,a=!!i.checked;if(Array.isArray(n)){var s=e._i(n,null);i.checked?s<0&&e.$set(e.viewData,"calendar_ignores_free",n.concat([null])):s>-1&&e.$set(e.viewData,"calendar_ignores_free",n.slice(0,s).concat(n.slice(s+1)))}else e.$set(e.viewData,"calendar_ignores_free",a)},function(t){e.changedVD("calendar_ignores_free")}]}}),e._v("\n                  Ignore FREE events\n                ")])])]):e._e()]),e._v(" "),e.wooIsActive?e._e():n("div",{staticClass:"mb-2"},[n("label",{staticClass:"form-check-label",attrs:{for:"allow-invoice"}},[n("div",{staticClass:"d-flex align-items-center",attrs:{"data-tt":"More data will be added to the receipt sent in the confirmation email"}},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.viewData.invoice,expression:"viewData.invoice"}],attrs:{type:"checkbox",id:"allow-invoice"},domProps:{checked:Array.isArray(e.viewData.invoice)?e._i(e.viewData.invoice,null)>-1:e.viewData.invoice},on:{change:[function(t){var n=e.viewData.invoice,i=t.target,a=!!i.checked;if(Array.isArray(n)){var s=e._i(n,null);i.checked?s<0&&e.$set(e.viewData,"invoice",n.concat([null])):s>-1&&e.$set(e.viewData,"invoice",n.slice(0,s).concat(n.slice(s+1)))}else e.$set(e.viewData,"invoice",a)},function(t){e.changedVD("invoice")}]}}),e._v("\n              Enable Invoice data\n            ")])]),e._v(" "),e.viewData.invoice?n("div",{staticClass:"ml-4 mt-2"},[e._v("\n            Seller's data\n            "),n("textarea",{directives:[{name:"model",rawName:"v-model",value:e.viewData.invoice_seller,expression:"viewData.invoice_seller"}],staticClass:"form-control",attrs:{rows:"2"},domProps:{value:e.viewData.invoice_seller},on:{change:function(t){e.changedVD("invoice_seller")},input:function(t){t.target.composing||e.$set(e.viewData,"invoice_seller",t.target.value)}}})]):e._e(),e._v(" "),e.viewData.invoice?n("div",{staticClass:"ml-4 mt-2"},[e._v("\n            Order n\n            "),n("input",{directives:[{name:"model",rawName:"v-model",value:e.viewData.invoice_num,expression:"viewData.invoice_num"}],attrs:{id:"hrs-before-allowed",size:"2",type:"text"},domProps:{value:e.viewData.invoice_num},on:{change:function(t){e.changedVD("invoice_num")},input:function(t){t.target.composing||e.$set(e.viewData,"invoice_num",t.target.value)}}})]):e._e(),e._v(" "),e.viewData.invoice?n("div",{staticClass:"ml-4 mt-2"},[e._v("\n            Client's data to appear on invoice\n            "),n("FormFieldSelect",{attrs:{multi:!0,horizontal:!0,elements:e.viewData.custom_fields,idKey:"namekey",labelSearchKey:"name",ph:"Select data to appear on bill"},on:{change:e.changedInvoiceCfield},model:{value:e.viewData.invoice_client,callback:function(t){e.$set(e.viewData,"invoice_client",t)},expression:"viewData.invoice_client"}})],1):e._e()]),e._v(" "),n("div",{staticClass:"mb-2"},[n("label",{staticClass:"form-check-label",attrs:{for:"allow-refreshavb","data-tt":"Your staff availability gets a new open day after that time"}},[n("div",{staticClass:"d-flex align-items-center"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.viewData.allow_refreshavb,expression:"viewData.allow_refreshavb"}],attrs:{type:"checkbox",id:"allow-refreshavb"},domProps:{checked:Array.isArray(e.viewData.allow_refreshavb)?e._i(e.viewData.allow_refreshavb,null)>-1:e.viewData.allow_refreshavb},on:{change:[function(t){var n=e.viewData.allow_refreshavb,i=t.target,a=!!i.checked;if(Array.isArray(n)){var s=e._i(n,null);i.checked?s<0&&e.$set(e.viewData,"allow_refreshavb",n.concat([null])):s>-1&&e.$set(e.viewData,"allow_refreshavb",n.slice(0,s).concat(n.slice(s+1)))}else e.$set(e.viewData,"allow_refreshavb",a)},function(t){e.changedVD("allow_refreshavb")}]}}),e._v("\n                  New available day is opening from \n                  "),e.viewData.allow_refreshavb?n("span",{staticClass:"ml-1"},[n("dayTime",{attrs:{selected:e.viewData.refreshavb_at,timeFormat:e.viewData.time_format},on:{changed:e.changedRefreshAVBTime}}),e._v(" "),n("small",{staticClass:"text-muted"},[e._v(e._s(e.viewData.timezone))])],1):e._e()])])]),e._v(" "),n("div",{staticClass:"mb-2"},[n("label",{staticClass:"form-check-label",attrs:{for:"wp-remote","data-tt":"When getting errors as such 'cURL error ***'"}},[n("div",{staticClass:"d-flex align-items-center"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.viewData.wp_remote,expression:"viewData.wp_remote"}],attrs:{type:"checkbox",id:"wp-remote"},domProps:{checked:Array.isArray(e.viewData.wp_remote)?e._i(e.viewData.wp_remote,null)>-1:e.viewData.wp_remote},on:{change:[function(t){var n=e.viewData.wp_remote,i=t.target,a=!!i.checked;if(Array.isArray(n)){var s=e._i(n,null);i.checked?s<0&&e.$set(e.viewData,"wp_remote",n.concat([null])):s>-1&&e.$set(e.viewData,"wp_remote",n.slice(0,s).concat(n.slice(s+1)))}else e.$set(e.viewData,"wp_remote",a)},function(t){e.changedVD("wp_remote")}]}}),e._v("\n                  Use native WP remote\n                ")])])]),e._v(" "),n("div",{staticClass:"mb-2"},[n("label",{staticClass:"form-check-label",attrs:{for:"jitsi-url","data-tt":"Have your own private Jitsi Server? Set its URL here"}},[n("div",{staticClass:"d-flex align-items-center"},[e._v("\n                  Jitsi private server URL\n                  "),n("input",{directives:[{name:"model",rawName:"v-model",value:e.viewData.jitsi_url,expression:"viewData.jitsi_url"}],staticClass:"ml-2",attrs:{type:"text",id:"jitsi-url"},domProps:{value:e.viewData.jitsi_url},on:{keyup:function(t){if(!("button"in t)&&e._k(t.keyCode,"enter",13,t.key,"Enter"))return null;t.preventDefault(),e.changedFromModel("jitsi_url")},focusout:function(t){e.changedFromModel("jitsi_url")},input:function(t){t.target.composing||e.$set(e.viewData,"jitsi_url",t.target.value)}}})])])]),e._v(" "),n("div",{staticClass:"mb-2"},[n("label",{staticClass:"form-check-label",attrs:{for:"availability-fluid","data-tt":"Mostly has an impact on same day bookings, if applied, we will look for the earliest available time by 5min increments"}},[n("div",{staticClass:"d-flex align-items-center"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.viewData.availability_fluid,expression:"viewData.availability_fluid"}],attrs:{type:"checkbox",id:"availability-fluid"},domProps:{checked:Array.isArray(e.viewData.availability_fluid)?e._i(e.viewData.availability_fluid,null)>-1:e.viewData.availability_fluid},on:{change:[function(t){var n=e.viewData.availability_fluid,i=t.target,a=!!i.checked;if(Array.isArray(n)){var s=e._i(n,null);i.checked?s<0&&e.$set(e.viewData,"availability_fluid",n.concat([null])):s>-1&&e.$set(e.viewData,"availability_fluid",n.slice(0,s).concat(n.slice(s+1)))}else e.$set(e.viewData,"availability_fluid",a)},function(t){e.changedVD("availability_fluid")}]}}),e._v("\n                  Availability fluid\n                ")])])]),e._v(" "),n("div",{staticClass:"mb-2"},[n("label",{staticClass:"form-check-label",attrs:{for:"starting-times","data-tt":"Offer more starting times, each 5 min, 10min, 15 min etc ..., useful for long lasting services to offer more flexibility"}},[n("div",{staticClass:"d-flex align-items-center"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.viewData.more_st,expression:"viewData.more_st"}],attrs:{type:"checkbox",id:"starting-times"},domProps:{checked:Array.isArray(e.viewData.more_st)?e._i(e.viewData.more_st,null)>-1:e.viewData.more_st},on:{change:[function(t){var n=e.viewData.more_st,i=t.target,a=!!i.checked;if(Array.isArray(n)){var s=e._i(n,null);i.checked?s<0&&e.$set(e.viewData,"more_st",n.concat([null])):s>-1&&e.$set(e.viewData,"more_st",n.slice(0,s).concat(n.slice(s+1)))}else e.$set(e.viewData,"more_st",a)},function(t){e.changedVD("more_st")}]}}),e._v("\n                  Add more starting times\n                  "),e.viewData.more_st?n("span",{staticClass:"ml-2 d-flex align-items-center"},[n("div",[e._v("Start each")]),e._v(" "),n("HoursDropdown",{attrs:{elements:[5,10,15,20,30,60],current:e.viewData.starting_each,funcDisplay:e.funcDisplay},on:{selected:e.changeMoreSt}})],1):e._e()])])]),e._v(" "),n("div",[n("label",{staticClass:"m-0",attrs:{for:"roles-allowed"}},[e._v("WordPress' users listed for calendars creation")]),e._v(" "),n("div",{staticClass:"small text-muted"},[e._v("In Wappointment > Settings > Calendars & Staff")]),e._v(" "),n("FormFieldSelect",{attrs:{multi:!0,horizontal:!0,elements:e.viewData.all_roles,idKey:"key",labelSearchKey:"name",ph:"Select roles allowed"},on:{change:e.changedRoles},model:{value:e.viewData.calendar_roles,callback:function(t){e.$set(e.viewData,"calendar_roles",t)},expression:"viewData.calendar_roles"}})],1),e._v(" "),n("div",{staticClass:"mt-3"},["page"==e.viewData.front_page_type?n("a",{attrs:{href:"post.php?post="+e.viewData.front_page_id+"&action=edit",target:"_blank"}},[e._v("\n            Edit Reschedule/Cancel page\n          ")]):n("button",{staticClass:"btn btn-secondary btn-sm",attrs:{"data-tt":"Only if you don't like the default page template for cancellation and rescheduling"},on:{click:e.updatePage}},[e._v("\n              Make Reschedule/Cancel page editable\n          ")])]),e._v(" "),n("div",{staticClass:"mt-3"},[n("button",{staticClass:"btn btn-secondary btn-sm",on:{click:function(t){e.showHealth=!0}}},[e._v("\n              Show health\n          ")])]),e._v(" "),n("div",{staticClass:"mt-3"},[e.viewData.manager_added?n("span",[e._v("\n            Manager role is available\n          ")]):n("button",{staticClass:"btn btn-secondary btn-sm",attrs:{"data-tt":"Only if you need a manager without administrator capabilities in your staff"},on:{click:e.addManagerRole}},[e._v("\n              Add manager role\n          ")])]),e._v(" "),e.viewData.big_prices?n("span",[e._v("\n            Big prices allowed\n          ")]):n("button",{staticClass:"btn btn-secondary btn-sm",on:{click:e.addBigPrices}},[e._v("\n              Allow Big Prices range\n          ")])]),e._v(" "),n("div",{staticClass:"card p-2 px-3"},[n("div",{staticClass:"h5"},[e._v("Notifications")]),e._v(" "),n("hr"),e._v(" "),n("div",{staticClass:"d-flex align-items-center"},[n("InputValueCards",{attrs:{ph:"Email notifications are sent to"},on:{changed:function(t){e.changedVD("email_notifications")}},model:{value:e.viewData.email_notifications,callback:function(t){e.$set(e.viewData,"email_notifications",t)},expression:"viewData.email_notifications"}})],1),e._v(" "),n("div",{staticClass:"d-flex align-items-center mt-2"},[n("Checkbox",{attrs:{value:e.viewData.weekly_summary},on:{changed:function(t){e.changedCheck("weekly_summary")}}}),e._v(" "),n("label",{staticClass:"form-check-label"},[e._v("\n          Weekly summary "),e.viewData.weekly_summary?n("span",[e._v("every \n            "),n("weekDays",{attrs:{id:"weekly-summary",selected:e.viewData.weekly_summary_day},on:{changed:e.changedDay}}),e._v(" at \n            "),n("dayTime",{attrs:{selected:e.viewData.weekly_summary_time,timeFormat:e.viewData.time_format},on:{changed:e.changedTime}}),e._v(" "),n("small",{staticClass:"text-muted"},[e._v(e._s(e.viewData.timezone))])],1):e._e()])],1),e._v(" "),n("div",{staticClass:"d-flex align-items-center mt-2"},[n("Checkbox",{attrs:{value:e.viewData.daily_summary},on:{changed:function(t){e.changedCheck("daily_summary")}}}),e._v(" "),n("label",{staticClass:"form-check-label"},[e._v("\n          Daily summary "),e.viewData.daily_summary?n("span",[e._v(" at \n            "),n("dayTime",{attrs:{selected:e.viewData.daily_summary_time,timeFormat:e.viewData.time_format},on:{changed:e.changedDayTime}}),e._v(" "),n("small",{staticClass:"text-muted"},[e._v(e._s(e.viewData.timezone))])],1):e._e()])],1),e._v(" "),n("div",{staticClass:"d-flex align-items-center mt-2"},[n("Checkbox",{attrs:{value:e.viewData.notify_new_appointments},on:{changed:function(t){e.changedCheck("notify_new_appointments")}}}),e._v(" "),n("label",{staticClass:"form-check-label"},[e._v("\n          New Appointments \n          ")])],1),e._v(" "),n("div",{staticClass:"d-flex align-items-center mt-2"},[n("Checkbox",{attrs:{value:e.viewData.notify_pending_appointments},on:{changed:function(t){e.changedCheck("notify_pending_appointments")}}}),e._v(" "),n("label",{staticClass:"form-check-label"},[e._v("\n          Pending Appointments \n          ")])],1),e._v(" "),n("div",{staticClass:"d-flex align-items-center mt-2"},[n("Checkbox",{attrs:{value:e.viewData.notify_canceled_appointments},on:{changed:function(t){e.changedCheck("notify_canceled_appointments")}}}),e._v(" "),n("label",{staticClass:"form-check-label"},[e._v("\n          Cancelled Appointments \n          ")])],1),e._v(" "),n("div",{staticClass:"d-flex align-items-center mt-2"},[n("Checkbox",{attrs:{value:e.viewData.notify_rescheduled_appointments},on:{changed:function(t){e.changedCheck("notify_rescheduled_appointments")}}}),e._v(" "),n("label",{staticClass:"form-check-label"},[e._v("\n          Rescheduled Appointments \n          ")])],1),e._v(" "),n("div",{staticClass:"mt-4"},[n("hr"),e._v(" "),n("NotificationEmail",{attrs:{status:e.viewData.mail_status},on:{configureEmail:e.goToMailConfig}})],1)]),e._v(" "),n("div",{staticClass:"mt-3"},[!1!==e.viewData.debug?n("button",{staticClass:"btn btn-danger btn-sm",on:{click:e.startResetConfirm}},[n("span",{staticClass:"dashicons dashicons-image-rotate"}),e._v(" Uninstall\n        ")]):e._e()]),e._v(" "),e.showHealth?n("Health"):e._e()],1)],1):e._e()},[],!1,null,null,null).exports),we={extends:i.a,props:["tablabel"],components:window.wappointmentExtends.filter("AddonsSettingsComponents",{Checkbox:T,LabelMaterial:ee.a,InputValueCards:ae,FormFieldSelect:se.a},{extends:i.a,mixins:[oe.a]}),data:function(){return{viewName:"settingsaddons",show:!1,addons:window.wappointmentExtends.filter("AddonsActive",window.wappointmentAdmin.addons)}},computed:{addonsWithSettings:function(){return Object.values(this.addons).filter(function(e){return!0===e.hasAddonsSettings})}},methods:{hidePopup:function(){this.show=!1}}},be=Object(o.a)(we,function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.dataLoaded?n("div",[n("div",{staticClass:"reduced"},[e._l(e.addonsWithSettings,function(t){return n("div",[n("button",{staticClass:"btn btn-secondary btn-sm",on:{click:function(n){e.show=t.componentKey}}},[e._v("Edit settings - "+e._s(t.name))])])}),e._v(" "),e.show?n("WapModal",{attrs:{show:e.show},on:{hide:e.hidePopup}},[n("h4",{staticClass:"modal-title",attrs:{slot:"title"},slot:"title"},[e._v("Edit addons settings")]),e._v(" "),n("div",{staticClass:"mt-4"},[n(e.show,{tag:"component"})],1)]):e._e()],2)]):e._e()},[],!1,null,null,null).exports,_e=n("EjpI"),ye={extends:i.a,mixins:[_e.a],data:function(){return{service:null,tabs:[]}},components:{settingsCalendars:a.default,settingsServices:d,settingsEmailNSms:z,settingsAdvanced:ge,SettingsAppearance:N,settingsAddons:be},computed:{convertedName:function(){return-1!==["modalities","modalities_add","modalities_edit"].indexOf(this.$route.name)?"services":this.$route.name},activeTab:function(){return-1===this.convertedName.indexOf("_")?this.convertedName:this.convertedName.split("_")[0]}},created:function(){this.tabs={calendars:{label:this.get_i18n("cals_title","settings")},services:{label:this.get_i18n("service_title","settings")},emailsnsms:{label:this.get_i18n("emails_title","settings")},appearance:{label:this.get_i18n("appearance_title","settings")},advanced:{label:this.get_i18n("advanced_title","settings")},addonstab:{label:this.get_i18n("addons_title","settings")}}},methods:{addonsWithSettings:function(){var e={},t=window.wappointmentAdmin.addons;for(var n in t)if(t.hasOwnProperty(n)){var i=t[n];-1===[void 0,!1].indexOf(i.settings)&&(e[n]=i)}return Object.keys(e)},isActive:function(e){return e==this.activeTab||0===this.activeTab.indexOf(e)},changeTab:function(e){this.$route.name==e||this.$router.push({name:e})}}},xe=(n("jKBW"),Object(o.a)(ye,function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"container-fluid"},[n("h1",{staticClass:"px-2"},[e._v(e._s(e.get_i18n("settings","common")))]),e._v(" "),e.isUserAdministrator?n("ul",{staticClass:"nav nav-tabs row px-4",attrs:{id:"myTab",role:"tablist"}},e._l(e.tabs,function(t,i){return n("li",{staticClass:"nav-item"},[n("span",{staticClass:"nav-link",class:{active:e.isActive(i)},on:{click:function(t){e.changeTab(i)}}},[e._v(e._s(t.label))])])}),0):e._e(),e._v(" "),n("div",{staticClass:"tab-content p-2",attrs:{id:"myTabContent","data-active-page":e.activeTab}},[e.isActive("calendars")?n("div",{staticClass:"tab-pane fade",class:{"show active":e.isActive("calendars")}},[n("settingsCalendars",{attrs:{tablabel:e.tabs.calendars.label},on:{fullyLoaded:function(t){e.$emit("fullyLoaded")}}})],1):e._e(),e._v(" "),e.isActive("services")?n("div",{staticClass:"tab-pane fade",class:{"show active":e.isActive("services")}},[n("settingsServices",{attrs:{tablabel:e.tabs.services.label},on:{fullyLoaded:function(t){e.$emit("fullyLoaded")}}})],1):e._e(),e._v(" "),e.isActive("emailsnsms")?n("div",{staticClass:"tab-pane fade",class:{"show active":e.isActive("emailsnsms")}},[n("settingsEmailNSms",{attrs:{tablabel:e.tabs.emailsnsms.label},on:{fullyLoaded:function(t){e.$emit("fullyLoaded")}}})],1):e._e(),e._v(" "),e.isActive("appearance")?n("div",{staticClass:"tab-pane fade",class:{"show active":e.isActive("appearance")}},[n("SettingsAppearance",{attrs:{tablabel:e.tabs.appearance.label},on:{fullyLoaded:function(t){e.$emit("fullyLoaded")}}})],1):e._e(),e._v(" "),e.isActive("advanced")?n("div",{staticClass:"tab-pane fade",class:{"show active":e.isActive("advanced")}},[n("settingsAdvanced",{attrs:{tablabel:e.tabs.advanced.label},on:{fullyLoaded:function(t){e.$emit("fullyLoaded")}}})],1):e._e(),e._v(" "),e.isActive("addonstab")?n("div",{staticClass:"tab-pane fade",class:{"show active":e.isActive("addonstab")}},[n("settingsAddons",{attrs:{tablabel:e.tabs.addonstab.label},on:{fullyLoaded:function(t){e.$emit("fullyLoaded")}}})],1):e._e()])])},[],!1,null,null,null));t.default=xe.exports},"4iGn":function(e,t,n){"use strict";var i=n("mhCM");n.n(i).a},"57fG":function(e,t,n){var i=n("UiLO");"string"==typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);(0,n("SZ7m").default)("d1d8db4e",i,!0,{})},"5CGA":function(e,t,n){var i=n("k6Kb");"string"==typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);(0,n("SZ7m").default)("01601f4e",i,!0,{})},"5Kp/":function(e,t,n){"use strict";var i=n("2sO2");n.n(i).a},"5qZH":function(e,t,n){"use strict";var i={mixins:[n("whSN").a],props:["options","wrapper","largeVersion"],data:function(){return{opts:null,widthWrapper:!1,baseFontSize:"20px",calendarRound:.6}},created:function(){this.opts=Object.assign({},this.options)},computed:{buttonIsBold:function(){return!0===this.opts.button.check_bold?"font-weight:bold;":""},buttonIsFull:function(){return!0===this.opts.button.check_full?"width:100%;":""}},mounted:function(){this.widthWrapper=document.getElementById(this.wrapper).clientWidth,this.largeVersion?this.widthWrapper>"620"?this.baseFontSize="22px":this.baseFontSize=this.widthWrapper<"620"?"21px":"20px":this.baseFontSize="20px"}},a=n("KHd+"),s=Object(a.a)(i,function(){var e=this,t=e.$createElement;return(e._self._c||t)("v-style",[e._v("\n    :root {\n        --wappo-pri-bg: "+e._s(e.hx_rgb(e.opts.colors.primary.bg))+";\n        --wappo-pri-tx: "+e._s(e.hx_rgb(e.opts.colors.primary.text))+";\n        --wappo-pri-tx-lt: "+e._s(e.hx_rgb(e.opts.colors.primary.text,.8))+";\n        --wappo-sec-bg: "+e._s(e.hx_rgb(e.opts.colors.secondary.bg))+";\n        --wappo-sec-tx: "+e._s(e.hx_rgb(e.opts.colors.secondary.text))+";\n        --wappo-sec-sel-bg: "+e._s(e.hx_rgb(e.opts.colors.secondary.bg_selected))+";\n        --wappo-sec-sel-tx: "+e._s(e.hx_rgb(e.opts.colors.secondary.text_selected))+";\n        --wappo-header-tx: "+e._s(e.hx_rgb(e.opts.colors.header.text))+";\n        --wappo-body-tx: "+e._s(e.hx_rgb(e.opts.colors.body.text))+";\n        --wappo-body-bg: "+e._s(e.hx_rgb(e.opts.colors.body.bg))+";\n        --wappo-success-tx: "+e._s(e.hx_rgb(e.opts.colors.confirmation.text))+";\n        --wappo-error-tx: "+e._s(e.hx_rgb(e.opts.colors.form.error))+";\n        --wappo-valid-tx: "+e._s(e.hx_rgb(e.opts.colors.form.success))+";\n        --wappo-input-col: "+e._s(e.hx_rgb("#495057"))+";\n        --wappo-input-ph: "+e._s(e.hx_rgb("#aeadad"))+";\n        --wappo-input-bor: "+e._s(e.hx_rgb("#ced4da"))+";\n        --wappo-input-box-s: "+e._s(e.hx_rgb(e.opts.colors.primary.bg,.25))+";\n        --wappo-payment-border: "+e._s(e.hx_rgb(e.opts.colors.form.payment))+";\n    }\n    .wap-front .wbtn.wbtn-primary-light,\n    .wap-front .wbtn.wbtn-primary-light:not(:disabled):not(.disabled):active, \n    .wap-front .wbtn.wbtn-primary-light:not(:disabled):not(.disabled).active {\n        background: "+e._s(e.hx_rgb(e.opts.colors.primary.bg,.8))+";\n        background-color: "+e._s(e.hx_rgb(e.opts.colors.primary.bg,.8))+";\n        border-color: "+e._s(e.hx_rgb(e.opts.colors.primary.bg,.6))+";\n        color: var(--wappo-pri-tx);\n        box-shadow: 0 .1em 0 "+e._s(e.hx_rgb(e.opts.colors.primary.bg,.4))+";\n    }\n    .wap-front .wbtn.wbtn-primary.wbtn-booking,\n    .wap-front .wbtn-primary.wbtn-booking:not(:disabled):not(.disabled):active, \n    .wap-front .wbtn-primary.wbtn-booking:not(:disabled):not(.disabled).active {\n        font-size: "+e._s(e.opts.button.slide_size+"em")+" !important;\n        "+e._s(e.buttonIsBold)+"\n        "+e._s(e.buttonIsFull)+"\n    }\n    .wap-front .wbtn.wbtn-primary,\n    .wap-front .wbtn-primary:not(:disabled):not(.disabled):active, \n    .wap-front .wbtn-primary:not(:disabled):not(.disabled).active {\n        background: var(--wappo-pri-bg);\n        background-color: var(--wappo-pri-bg);\n        border-color: "+e._s(e.hx_rgb(e.opts.colors.primary.bg,.8))+";\n        color: var(--wappo-pri-tx);\n        box-shadow: 0 .1em 0 "+e._s(e.hx_rgb(e.opts.colors.primary.bg,.6))+";\n        margin: .2em 0;\n    }\n    .wap-front .d-section.ds-1 .wbtn.wbtn-primary{\n        margin: .2em;\n    }\n    .wap-front .wbtn.wbtn-primary:hover {\n        background-color: "+e._s(e.hx_rgb(e.opts.colors.primary.bg,.9))+";\n        box-shadow: 0 0 0 .2em "+e._s(e.hx_rgb(e.opts.colors.primary.bg,.5))+";\n    }\n\n    .wap-front .wbtn:focus, \n    .wap-front .wbtn.focus {\n        box-shadow: 0 0 0 .2em "+e._s(e.hx_rgb(e.opts.colors.primary.bg,.25))+";\n    }\n    \n    .wap-front .wbtn-primary.disabled, \n    .wap-front .wbtn-primary:disabled, \n    .wap-front .wbtn-primary.disabled:hover, \n    .wap-front .wbtn-primary:disabled:hover {\n        background-color: var(--wappo-pri-bg) !important;\n        border-color: "+e._s(e.hx_rgb(e.opts.colors.primary.bg,.8))+" !important;\n        color: var(--wappo-pri-tx) !important;\n        box-shadow: 0 .1em 0 "+e._s(e.hx_rgb(e.opts.colors.primary.bg,.6))+";\n    }\n\n    .wap-front .wbtn-primary:disabled:hover {\n        background-color: var(--wappo-pri-bg) !important;\n        border-color: "+e._s(e.hx_rgb(e.opts.colors.primary.bg,.8))+" !important;\n        color: var(--wappo-pri-tx) !important;\n        box-shadow: 0 .1em 0 "+e._s(e.hx_rgb(e.opts.colors.primary.bg,.6))+";\n    }\n\n    .wap-front .address-service {\n        background-color: "+e._s(e.hx_rgb(e.opts.colors.address.bg))+";\n        border-color: "+e._s(e.hx_rgb(e.opts.colors.address.bg,.8))+";\n        color: "+e._s(e.hx_rgb(e.opts.colors.address.text))+";\n        box-shadow: 0 .1em 0 "+e._s(e.hx_rgb(e.opts.colors.address.bg,.6))+";\n    }\n    .wap-front .address-service a{\n        color: "+e._s(e.hx_rgb(e.opts.colors.address.text))+";\n    }\n\n    .wap-front .wbtn.wbtn-secondary,\n    .wap-front .wbtn.wbtn-secondary .wduration,\n    .wap-front .wbtn-secondary:not(:disabled):not(.disabled):active, \n    .wap-front .wbtn-secondary:not(:disabled):not(.disabled).active {\n        background: "+e._s(e.hx_rgb(e.opts.colors.secondary.bg))+";\n        background-color: "+e._s(e.hx_rgb(e.opts.colors.secondary.bg))+";\n        border-color: "+e._s(e.hx_rgb(e.opts.colors.secondary.bg,.8))+";\n        color: "+e._s(e.hx_rgb(e.opts.colors.secondary.text))+";\n        box-shadow: 0 .1em 0 "+e._s(e.hx_rgb(e.opts.colors.secondary.bg,.6))+";\n        margin: .4em 0;\n    }\n\n    .wap-front .wrap-calendar .wbtn.wbtn-secondary div{\n        color: "+e._s(e.hx_rgb(e.opts.colors.secondary.text))+";\n    }\n\n    .wap-front .wrap-calendar .wbtn.wbtn-secondary.selected div{\n        color: "+e._s(e.hx_rgb(e.opts.colors.secondary.text_selected))+";\n    }\n\n    .wap-front .wbtn.wbtn-secondary:hover {\n        background-color: "+e._s(e.hx_rgb(e.opts.colors.secondary.bg,.9))+";\n        box-shadow: 0 0 0 .2em "+e._s(e.hx_rgb(e.opts.colors.secondary.bg,.5))+";\n    }\n\n    .wap-front .wbtn.wbtn-secondary.selected{\n        background-color: "+e._s(e.hx_rgb(e.opts.colors.secondary.bg_selected))+";\n        border-color: "+e._s(e.hx_rgb(e.opts.colors.secondary.bg_selected,.8))+";\n        color: "+e._s(e.hx_rgb(e.opts.colors.secondary.text_selected))+";\n        box-shadow: 0 .1em 0 "+e._s(e.hx_rgb(e.opts.colors.secondary.bg_selected,.6))+";\n    }\n    .wap-front .wbtn.wbtn-secondary.selected svg{\n        color: "+e._s(e.hx_rgb(e.opts.colors.secondary.text_selected))+";\n    }\n\n    .wap-front .wap-form-body .timezone {\n        background-color: "+e._s(e.hx_rgb(e.opts.colors.body.bg,.9))+";\n    }\n    \n    .wap-front .wap-form-body .no-avail, \n    .wap-front .wap-form-body .wbtn-link.disabled{\n        color: "+e._s(e.hx_rgb(e.opts.colors.body.disabled_links))+";\n    }\n\n    .wap-front .wap-head {\n        background-color: "+e._s(e.hx_rgb(e.opts.colors.header.bg))+";\n    }\n    .wap-front .wap-head.showall{\n        background-color: "+e._s(e.hx_rgb(e.opts.colors.header.bg,.9))+";\n    }\n\n    .wap-bf.show{\n        border-radius: "+e._s(e.calendarRound)+"em;\n    }\n    \n    .wap-front .wbtn.wbtn-secondary.dayselected{\n        background-color: "+e._s(e.hx_rgb(e.opts.colors.selected_day.bg))+";\n    }\n    .wap-front .wap-form-body .dayselected span.avail{\n        color: "+e._s(e.hx_rgb(e.opts.colors.selected_day.text))+";\n    }\n\n    .wap-front .wsummary-section {\n        border-bottom: 1px solid "+e._s(e.hx_rgb(e.opts.colors.body.text,.1))+";\n    }\n    \n\n    .confirmation-summary span{\n        color: "+e._s(e.hx_rgb(e.opts.colors.body.text,.8))+";\n    }\n    .wtitle{\n        color: "+e._s(e.hx_rgb(e.opts.colors.body.text,.8))+";\n        font-size: 1em;\n        text-align:center;\n    }\n    .wdescription{\n        color: "+e._s(e.hx_rgb(e.opts.colors.body.text,.8))+";\n    }\n    \n\n    .wap-front .wbtn-cell{\n        border-radius: "+e._s(e.calendarRound)+"em;\n    }\n\n    .wap-front .form-control:focus {\n        box-shadow: 0 0 0 1px "+e._s(e.hx_rgb(e.opts.colors.primary.bg,.25))+";\n    }\n    .wap-front .wselected{\n        background-color: "+e._s(e.hx_rgb(e.opts.colors.primary.bg,.5))+";\n        color: var(--wappo-pri-tx);\n    }\n\n    .wap-front [data-tt]:before {\n        background-color: "+e._s(e.hx_rgb(e.opts.colors.primary.bg,.8))+";\n        color: var(--wappo-pri-tx);\n    }\n\n    .wap-front [data-tt]:after {\n        border-top: 5px solid "+e._s(e.hx_rgb(e.opts.colors.primary.bg,.9))+";\n    }\n\n    .wap-front .phone-field:focus-within {\n        box-shadow: 0 0 2px  "+e._s(e.hx_rgb(e.opts.colors.primary.bg,.25))+";\n        border-color: var(--wappo-pri-bg);\n    }\n    .wap-front .field-required input:focus, \n    .wap-front .field-required select:focus {\n        border-color: var(--wappo-pri-bg);\n        box-shadow: 0 0 2px "+e._s(e.hx_rgb(e.opts.colors.primary.bg,.6))+";\n        outline: 2px solid transparent;\n    }\n    .wap-front .confirmation-cell .success {\n        background-color: "+e._s(e.hx_rgb(e.opts.colors.confirmation.bg))+";\n    }\n    \n\n    .wap-wid.wclosable > .wclose::before, \n    .wap-wid.wclosable > .wclose::after {\n        background-color: "+e._s(e.hx_rgb(e.opts.colors.header.text,.7))+";\n    }\n\n\n    /** wrapper tag **/\n    "+e._s("#"+e.wrapper)+" .wap-front, \n    #wap-footer-container .wap-front {\n        font-size: "+e._s(e.baseFontSize)+";\n    }\n    \n")])},[],!1,null,null,null);t.a=s.exports},"5yDa":function(e,t,n){var i=n("/vDO");"string"==typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);(0,n("SZ7m").default)("2cd561ef",i,!0,{})},"6AN6":function(e,t,n){(e.exports=n("I1BE")(!1)).push([e.i,"\n.wap-front .wtab,\n.wap-front .wrap-calendar div.wtab{\n  font-size: 14px;\n  margin-right: .4em;\n  padding: .8em;\n  border: 2px solid var(--wappo-payment-border);\n  border-bottom: 0 !important;\n  cursor: pointer;\n  background-color:var(--wappo-body-bg);\n  color: var(--wappo-sec-tx);\n  border-radius:.4em .4em 0 0;\n  font-weight: bold;\n}\n.wap-front .wtab.active, \n.wap-front .wrap-calendar div.wtab.active{\n  background-color: var(--wappo-sec-sel-bg);\n  color: var(--wappo-sec-sel-tx);\n  margin-bottom: -2px;\n}\n.wap-front .wtab.active,\n.wap-front .wtab:hover{\n  border-radius: .4em .4em 0 0;\n  border: 2px solid var(--wappo-sec-bg);\n}\n.wap-front .wtab.active:hover{\n  background-color: var(--wappo-sec-bg);\n}\n.wtab img {\n    filter: grayscale(1);\n    max-width: 70px;\n}\n.wtab.active img,\n.wtab:hover img{\n  filter: grayscale(0);\n}\n\n",""])},"6ANM":function(e,t,n){var i=n("S/cw");"string"==typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);(0,n("SZ7m").default)("f224e37e",i,!0,{})},"6DDQ":function(e,t,n){"use strict";var i=n("D6xo");n.n(i).a},"6mcK":function(e,t,n){(e.exports=n("I1BE")(!1)).push([e.i,"\n.wcell {\n    display: inline-block;\n    padding: .2em;\n    font-size: .8em;\n    background-color: #eee;\n    border-radius: .2em;\n    margin: .3em .3em 0 0;\n    border: 1px solid #ccc\n}\n",""])},"6uyd":function(e,t,n){"use strict";t.a=function(){return navigator.languages&&navigator.languages.length?navigator.languages[0]:navigator.userLanguage||navigator.language||navigator.browserLanguage||"en-US"}},"76M+":function(e,t,n){"use strict";var i=n("xyeX"),a={computed:{getCacheSafeUrl:function(){var e=window.location.href;return(e+=-1===e.indexOf("?")?"?":"&")+"wappoCacheSafe="+Object(i.a)()}}},s=(n("6DDQ"),n("KHd+")),o=Object(s.a)(a,function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"wappo-error"},[t("strong",[this._v("Oops, can't load the booking module")]),this._v(" "),t("p",[this._v("Click "),t("a",{attrs:{href:this.getCacheSafeUrl}},[this._v("here to reload the page")]),this._v(" and try again")])])},[],!1,null,null,null);t.a=o.exports},"7s+T":function(e,t,n){var i=n("6mcK");"string"==typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);(0,n("SZ7m").default)("212e9ff0",i,!0,{})},"8MlL":function(e,t,n){var i=n("gkNc");"string"==typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);(0,n("SZ7m").default)("3252066f",i,!0,{})},"9cgI":function(e,t,n){"use strict";var i={mixins:[n("tOgP").a],props:["service","relations","options"],computed:{locations:function(){return this.service.locations}},methods:{selectLocation:function(e){this.triggersDemoEvent("selection")||this.$emit("locationSelected","BookingCalendar",{location:e})},hasDesc:function(e){return!(void 0===e.options||void 0===e.options.description_on||!e.options.description_on)&&e.options.description}}},a=n("KHd+"),s=Object(a.a)(i,function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.locations.length>0?n("div",[void 0!==e.options?n("div",{staticClass:"title wtitle"},[e._v(e._s(e.options.service_location.select_location))]):e._e(),e._v(" "),n("div",{staticClass:"d-flex flex-wrap"},e._l(e.locations,function(t,i){return n("div",{staticClass:"d-flex align-items-center wbtn wbtn-cell wbtn-service wbtn-secondary",on:{click:function(n){e.selectLocation(t)}}},[n("WapImage",{staticClass:"mx-2",attrs:{element:t,desc:t.name,size:"md"}}),e._v(" "),n("div",{staticClass:"service-label"},[n("div",[e._v(e._s(t.name))]),e._v(" "),e.hasDesc(t)?n("div",{staticClass:"description"},[e._v(e._s(e.hasDesc(t)))]):e._e()])],1)}),0)]):e._e()},[],!1,null,null,null);t.a=s.exports},A7Fq:function(e,t,n){"use strict";var i=n("3Sr1");n.n(i).a},AU4x:function(e,t,n){"use strict";n.r(t);var i=n("Mola"),a=n("RnKe"),s=n("c+oO"),o=n("rqdy"),r=n("LB0/"),l=n("vbJd"),c=n("l9VS"),d=n("XfSa"),u=n("VyXW"),p=n("FYyN"),h={extends:d.a,components:window.wappointmentExtends.filter("RegavComponents",{RegularAvailability:r.a,TimeZones:c.a,StaffSelector:l.a,StaffPicture:u.a},{RequestMaker:p.a}),props:{calendar:{type:Object,default:!1},timezones_list:{type:Object},staffs:{type:Array},services:{type:Array}},computed:{getRegav:function(){var e=Object.assign({},this.calendar.regav);return void 0===this.calendar.regav.precise&&(e=this.convertRegavToPrecise(e)),e}},methods:{convertRegavToPrecise:function(e){for(var t in this.calendar.regav)if(this.calendar.regav.hasOwnProperty(t))for(var n=0;n<this.calendar.regav[t].length;n++){var i=this.calendar.regav[t][n];e[t][n]=[60*i[0],60*i[1]]}return e},updatedRA:function(e){e.precise=!0,this.settingStaffSave("regav",e)},changedABD:function(e){this.settingStaffSave("availaible_booking_days",e)},changed:function(e){},updateTimezone:function(e){this.settingStaffSave("timezone",e)},updateStaffName:function(e){this.reload=!0,this.settingStaffSave("display_name",e)},updateStaff:function(e){this.reload=!0,this.settingSave("activeStaffId",e)}}},f=(n("+Jhk"),n("KHd+")),v=Object(f.a)(h,function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("div",[n("p",{staticClass:"h6 text-muted"},[n("span",{staticClass:"bullet-wap"},[e._v("1")]),e._v(" "),e.staffs.length>1?n("span",{staticClass:"bullet-title"},[e._v(" Set who provides the appointments ")]):n("span",{staticClass:"bullet-title"},[e._v(" Modify your picture ")])]),e._v(" "),n("div",{staticClass:"d-flex align-items-top mb-2"},[n("StaffPicture",{attrs:{src:e.calendar.avatar,gravatar:e.calendar.gravatar},on:{changed:e.changed}}),e._v(" "),n("div",{staticClass:"mr-2 changename"},[n("InputPh",{attrs:{ph:"Change name"},on:{updatedValue:e.updateStaffName},model:{value:e.calendar.name,callback:function(t){e.$set(e.calendar,"name",t)},expression:"calendar.name"}})],1),e._v(" "),n("div",{staticClass:"account-selector"},[n("StaffSelector",{attrs:{staffs:e.staffs,activeStaffId:e.calendar.id},on:{updateStaff:e.updateStaff}}),e._v(" "),e._m(0)],1)],1),e._v(" "),e._m(1),e._v(" "),e.calendar?n("TimeZones",{attrs:{classW:"d-flex",timezones:e.timezones_list,defaultTimezone:e.calendar.timezone,typeClass:"small text-muted container-values d-flex justify-content-between align-items-center form-control"},on:{updateTimezone:e.updateTimezone}}):e._e(),e._v(" "),n("hr")],1),e._v(" "),e._m(2),e._v(" "),n("RegularAvailability",{attrs:{initValue:e.getRegav,viewData:e.calendar,services:e.services},on:{updatedDays:e.updatedRA,changedABD:e.changedABD}})],1)},[function(){var e=this.$createElement,t=this._self._c||e;return t("div",[t("small",{staticClass:"text-muted"},[this._v(" You must select a WordPress account; you can "),t("a",{attrs:{href:"users.php",target:"_blank"}},[this._v("add a new one here")]),this._v(" (a contributor role is required at least)")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("p",{staticClass:"h6 text-muted"},[t("span",{staticClass:"bullet-wap"},[this._v("2")]),this._v(" "),t("span",{staticClass:"bullet-title"},[this._v(" Set your timezone")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("p",{staticClass:"h6 text-muted"},[t("span",{staticClass:"bullet-wap"},[this._v("3")]),this._v(" "),t("span",{staticClass:"bullet-title"},[this._v(" Set your standard weekly schedule")])])}],!1,null,null,null).exports,m={computed:{resourcesUrl:function(){return window.apiWappointment.resourcesUrl+"images/"}},methods:{connectionImage:function(e){switch(e){case"zoom":return this.resourcesUrl+"zoom.png";case"google":return this.resourcesUrl+"google-calendar.png";case"googlemeet":return this.resourcesUrl+"google-meet.png"}},connectionDescription:function(e){switch(e){case"zoom":return"Automatically creates Zoom meeting for your new Video Meetings and save the meeting link in Wappointment";case"google":return"Automatically save new appointments to a secondary calendar in your Google Calendar account";case"googlemeet":return"Automatically generates Google Meet meetings for your new Video Meetings and save the meeting link in Wappointment"}},connectionLabel:function(e){switch(e){case"zoom":return"Zoom";case"google":return"Google Calendar";case"googlemeet":return"Google Meet"}}}},g=Object(f.a)(m,void 0,void 0,!1,null,null,null).exports,w={extends:d.a,mixins:[g],props:{connections:{type:Array,default:[]},showLabel:{type:Boolean,value:!1},vertical:{type:Boolean,value:!1}},data:function(){return{availableConnections:["zoom","google","googlemeet"]}},computed:{orderedConnections:function(){return this.availableConnections.sort(this.sortConnections)}},methods:{boolToInt:function(e){return e?1:0},sortConnections:function(e,t){return this.boolToInt(this.isConnected(t))-this.boolToInt(this.isConnected(e))},isConnected:function(e){return this.connections.find(function(t){return-1!==e.indexOf(t)})}}},b=(n("gpnA"),Object(f.a)(w,function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{class:[e.vertical?"wservices-list wintegrations text-muted":"d-flex wintegrations"]},e._l(e.orderedConnections,function(t){return n("div",{staticClass:"d-flex mr-2 slot tt-lg align-items-center",class:[e.isConnected(t)?"tt-success":"tt-disabled"],attrs:{"data-tt":e.connectionDescription(t)}},[n("img",{attrs:{src:e.connectionImage(t),alt:e.connectionLabel(t)}}),e._v(" "),e.showLabel?n("span",{staticClass:"ml-2"},[e._v(e._s(e.connectionLabel(t)))]):e._e()])}),0)},[],!1,null,null,null).exports),_={mixins:[n("G5JO").a],methods:{getPropertyCal:function(e,t,n){return void 0!==n.calendar_logs[t]&&void 0!==n.calendar_logs[t][e]&&n.calendar_logs[t][e]},lastChecked:function(e,t){return this.unixToDateTime(this.getPropertyCal("last-checked",e,t),t.timezone)},lastChanged:function(e,t){return this.unixToDateTime(this.getPropertyCal("last-parsed",e,t),t.timezone)},calDuration:function(e,t){return this.getPropertyCal("last-duration",e,t)+"s"},calInserted:function(e,t){return this.getPropertyCal("last_parser",e).inserted},calIgnored:function(e){return this.calDetected-this.calInserted},calDeleted:function(e,t){return this.getPropertyCal("last_parser",e,t).deleted},calDetected:function(e,t){return this.getPropertyCal("last_parser",e,t).detected},importCalendarSuccess:function(e){this.$WapModal().notifySuccess(e.data.message),this.hideAndRefresh()},savedSync:function(e){this.hideAndRefresh(),this.$WapModal().notifySuccess(e.data.message)},hideAndRefresh:function(){this.hideModal(),this.loadElements()}}},y=(n("IvBe"),Object(f.a)(_,void 0,void 0,!1,null,null,null).exports),x=n("lpR3"),k={extends:d.a,components:{Connections:b},mixins:[g],props:{calendar:{type:Object},canEdit:{type:Boolean,default:!0}},methods:{convertHours:function(e){return this.convertHour(e[0])+" - "+this.convertHour(e[1])},convertHour:function(e){var t=e%60;return Math.floor(e/60)+"h"+(t>0?t:"")},getDayLabel:function(e){return e},getUsedDays:function(e){return Object.keys(e).filter(function(e,t){return"precise"!==t&&e.length>0}).reduce(function(t,n){return e[n].length>0&&(t[n]=e[n]),t},{})}}},S=(n("Rhu5"),Object(f.a)(k,function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("div",{staticClass:"d-flex"},e._l(e.getUsedDays(e.calendar.regav),function(t,i){return n("div",{staticClass:"dayLabel mr-2"},[n("div",{attrs:{"data-tt":e.getDayLabel(i)}},[e._v(e._s(e.getDayLabel(i)[0]))]),e._v(" "),n("div",{staticClass:"d-flex"},e._l(t,function(t,i){return n("div",{staticClass:"available-slot mr-1 tt-below",class:{"mx-1":i<1},attrs:{"data-tt":e.convertHours(t)}})}),0)])}),0),e._v(" "),e.canEdit?n("a",{staticClass:"small",attrs:{href:"javascript:;"},on:{click:function(t){e.$emit("edit",e.calendar)}}},[e._v(e._s(e.get_i18n("edit","common")))]):e._e()])},[],!1,null,null,null).exports),C=n("SyxS"),D=n("AsP0"),A=n("ZfG2"),P={props:{user:{type:Object},nosave:{type:Boolean,default:!1}}},E=Object(f.a)(P,function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"container-fluid"},[n("h3",{staticClass:"d-flex align-items-center justify-content-center"},[n("img",{staticClass:"img-fluid wrounded",attrs:{src:e.user.avatar||e.user.gravatar,width:"40",alt:e.user.name}}),e._v(" "),n("div",{staticClass:"ml-2"},[e._v(e._s(e.user.name))])]),e._v(" "),e._t("default"),e._v(" "),!1===e.nosave?n("button",{staticClass:"btn btn-primary",on:{click:function(t){e.$emit("save")}}},[e._v(e._s(e.get_i18n("save","common")))]):e._e()],2)},[],!1,null,null,null).exports,I={props:["current","services","user"],components:{StaffModalWrapper:E,SearchDropdown:A.a},data:function(){return{value:[]}},created:function(){this.value=[].concat(this.current)}},O=Object(f.a)(I,function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("StaffModalWrapper",{attrs:{user:e.user,nosave:""}},[n("SearchDropdown",{attrs:{hasMulti:"",ph:"Pick services provided by staff",elements:e.services,idKey:"id",labelSearchKey:"name"},model:{value:e.value,callback:function(t){e.value=t},expression:"value"}}),e._v(" "),n("button",{staticClass:"btn btn-primary mt-2",on:{click:function(t){e.$emit("save",e.value)}}},[e._v(e._s(e.get_i18n("save","common")))])],1)},[],!1,null,null,null).exports,R={components:{StaffModalWrapper:E},props:["permissions","user"],data:function(){return{new_permissions:[]}},created:function(){this.initPermissions()},computed:{user_permissions:function(){return this.user.permissions}},methods:{save:function(){this.$emit("save",this.new_permissions)},initPermissions:function(){for(var e in this.permissions)this.lookForPermission(e,this.permissions)},lookForPermission:function(e,t){t.hasOwnProperty(e)&&-1!==this.user_permissions.indexOf(e)&&(this.new_permissions.push(e),this.lookForSubCaps(t[e]))},lookForSubCaps:function(e){if(void 0!==e.sub_caps)for(var t in e.sub_caps)this.lookForPermission(t,e.sub_caps)}}},T=Object(f.a)(R,function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("StaffModalWrapper",{attrs:{user:e.user},on:{save:e.save}},[n("div",{staticClass:"p-2 rounded bg-secondary"},e._l(e.permissions,function(t,i){return n("div",[n("div",{staticClass:"d-flex"},[n("label",[n("input",{directives:[{name:"model",rawName:"v-model",value:e.new_permissions,expression:"new_permissions"}],attrs:{type:"checkbox"},domProps:{value:i,checked:Array.isArray(e.new_permissions)?e._i(e.new_permissions,i)>-1:e.new_permissions},on:{change:function(t){var n=e.new_permissions,a=t.target,s=!!a.checked;if(Array.isArray(n)){var o=i,r=e._i(n,o);a.checked?r<0&&(e.new_permissions=n.concat([o])):r>-1&&(e.new_permissions=n.slice(0,r).concat(n.slice(r+1)))}else e.new_permissions=s}}}),e._v("\n                    "+e._s(t.name)+"\n                ")])]),e._v(" "),-1!==e.new_permissions.indexOf(i)?n("div",{staticClass:"ml-4"},e._l(t.sub_caps,function(t,i){return n("div",{staticClass:"d-flex"},[n("label",[n("input",{directives:[{name:"model",rawName:"v-model",value:e.new_permissions,expression:"new_permissions"}],attrs:{type:"checkbox"},domProps:{value:i,checked:Array.isArray(e.new_permissions)?e._i(e.new_permissions,i)>-1:e.new_permissions},on:{change:function(t){var n=e.new_permissions,a=t.target,s=!!a.checked;if(Array.isArray(n)){var o=i,r=e._i(n,o);a.checked?r<0&&(e.new_permissions=n.concat([o])):r>-1&&(e.new_permissions=n.slice(0,r).concat(n.slice(r+1)))}else e.new_permissions=s}}}),e._v("\n                        "+e._s(t)+"\n                    ")])])}),0):e._e()])}),0)])},[],!1,null,null,null).exports;function B(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){return function i(a,s){try{var o=t[a](s),r=o.value}catch(e){return void n(e)}if(!o.done)return Promise.resolve(r).then(function(e){i("next",e)},function(e){i("throw",e)});e(r)}("next")})}}var M,F,j,L={extends:d.a,components:{Connections:b},mixins:[g],props:{calendar:{type:Object}},data:function(){return{account_key:""}},computed:{createAccount:function(){return window.apiWappointment.apiSite+"/register?site="+encodeURIComponent(apiWappointment.root)+"&version="+apiWappointment.version},addMoreService:function(){return window.apiWappointment.apiSite+"/client/account"}},methods:{refresh:function(){var e={account_key:this.account_key};void 0!==this.calendar.wp_uid&&(e.id=this.calendar.id),this.request(this.refreshWappoRequest,e,null,!1,this.successRefreshed)},refreshWappoRequest:(j=B(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.service.call("refreshdotcom",t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e,this)})),function(e){return j.apply(this,arguments)}),successRefreshed:function(e){this.is_dotcom_connected=e.data.data.dotcom,this.$WapModal().notifySuccess(e.data.message,1),this.$emit("reload")},successConnected:function(e){this.is_dotcom_connected=e.data.data.dotcom,this.$WapModal().notifySuccess(e.data.message,1),this.$emit("reload")},connectToWappo:function(){var e={account_key:this.account_key};void 0!==this.calendar.wp_uid&&(e.id=this.calendar.id),this.request(this.connectToWappoRequest,e,null,!1,this.successConnected)},connectToWappoRequest:(F=B(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.service.call("connectdotcom",t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e,this)})),function(e){return F.apply(this,arguments)}),disconnectWappo:function(){var e={};void 0!==this.calendar.wp_uid&&(e.id=this.calendar.id),this.request(this.disconnectToWappoRequest,e,null,!1,this.successDisconnected)},disconnectToWappoRequest:(M=B(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.service.call("disconnectdotcom",t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e,this)})),function(e){return M.apply(this,arguments)}),successDisconnected:function(e){this.is_dotcom_connected=!1,this.$WapModal().notifySuccess(e.data.message,1),this.$emit("reload")}}},z=(n("OEWU"),Object(f.a)(L,function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"wrapper-dotcom p-4"},[n("div",{staticClass:"d-flex justify-content-center align-items-center flex-wrap flex-xl-nowrap"},[n("div",[n("h3",{staticClass:"d-flex align-items-center"},[n("div",[n("img",{staticClass:"img-fluid wrounded",attrs:{src:e.calendar.avatar,alt:e.calendar.name,width:"40"}})]),e._v(" "),n("div",{staticClass:"ml-2"},[n("div",[e._v(e._s(e.calendar.name))])])]),e._v(" "),e.calendar.connected?n("div",[n("div",[e._v("Connected to wappointment.com with: ")]),e._v(" "),n("div",[n("strong",[e._v(e._s(e.calendar.connected.account_key))])]),e._v(" "),n("a",{staticClass:"small",attrs:{href:"javascript:;","data-tt":"Refresh service status"},on:{click:e.refresh}},[e._v("refresh")]),e._v(" - "),n("a",{staticClass:"small text-danger",attrs:{"data-tt":"Disconnect from Wappointment.com",href:"javascript:;"},on:{click:e.disconnectWappo}},[e._v("disconnect")]),e._v(" "),n("Connections",{attrs:{connections:e.calendar.connected.services,vertical:!0,showLabel:!0}}),e._v(" "),n("div",{staticClass:"small"},[n("a",{attrs:{href:e.addMoreService,target:"_blank","data-tt":"Enable new services from your account page on Wappointment.com"}},[e._v("Enable/Disable services")])])],1):n("div",[n("div",{staticClass:"mb-3"},[n("InputPh",{attrs:{ph:e.get_i18n("cals_account_enter_code","settings")},model:{value:e.account_key,callback:function(t){e.account_key=t},expression:"account_key"}})],1),e._v(" "),n("button",{staticClass:"btn btn-primary btn-block btn-lg mb-2",on:{click:e.connectToWappo}},[e._v(e._s(e.get_i18n("cals_account_connect","settings")))]),e._v(" "),n("div",{staticClass:"text-muted"},[e._v(e._s(e.get_i18n("cals_account_donthave","settings"))+" "),n("a",{attrs:{href:e.createAccount,target:"_blank"}},[e._v(e._s(e.get_i18n("cals_account_create_free","settings")))])])])]),e._v(" "),e.calendar.connected?e._e():n("div",{staticClass:"create-account ml-xl-4"},[n("h2",[e._v(e._s(e.get_i18n("cals_account_create_title","settings")))]),e._v(" "),n("ul",[n("li",[e._v(e._s(e.get_i18n("cals_account_connect_fav","settings")))]),e._v(" "),n("li",[n("ol",[n("li",[e._v(e._s(e.get_i18n("cals_account_connect_fav_1","settings"))+" "),n("strong",[n("img",{attrs:{src:e.connectionImage("zoom")}}),e._v(" Zoom")]),e._v(" & "),n("strong",[n("img",{attrs:{src:e.connectionImage("googlemeet")}}),e._v(" Google Meet")])]),e._v(" "),n("li",[e._v(e._s(e.get_i18n("cals_account_connect_fav_2","settings"))+" "),n("strong",[n("img",{attrs:{src:e.connectionImage("google")}}),e._v(" Google Calendar")])]),e._v(" "),n("li",[e._v(e._s(e.get_i18n("cals_account_connect_fav_3","settings")))])])])])])])])},[],!1,null,null,null).exports),W=n("6CjO");var $={mixins:[p.a],components:{VideoIframe:W.a},props:["calendar"],data:function(){return{calurl:"",calendar_type:"",showGoogle:!1,showIcal:!1,showOutlook:!1}},created:function(){this.mainService=this.$vueService(new s.a)},watch:{calurl:function(e,t){void 0!==e&&("webcal://"==e.substr(0,9)&&(this.calurl=e.replace("webcal://","http://")),-1!=e.indexOf("outlook")&&(this.calendar_type="outlook"),-1!=e.indexOf("calendar.google")&&(this.calendar_type="google"),-1!=e.indexOf("icloud.com")&&(this.calendar_type="ical"))}},computed:{showPopup:function(){return this.showGoogle||this.showIcal||this.showOutlook},getYouTubeUrl:function(){return this.showGoogle?"https://www.youtube.com/embed/5D_CfTJ9FzA":this.showIcal?"https://www.youtube.com/embed/H0A7Jc0G84Y":this.showOutlook?"https://www.youtube.com/embed/-BXafWQs8wg":void 0}},methods:{hideModal:function(){this.showGoogle=this.showIcal=this.showOutlook=!1},toggleModalGoogle:function(){this.hideModal(),this.showGoogle=!this.showGoogle},toggleModalIcal:function(){this.hideModal(),this.showIcal=!this.showIcal},toggleModalOutlook:function(){this.hideModal(),this.showOutlook=!this.showOutlook},skipStep:function(){this.$emit("skipStep")},saveCal:function(){this.request(this.saveCalRequest,{calendar_id:this.calendar.id,calurl:this.calurl},null,!1,this.saveCalSuccess)},saveCalSuccess:function(e){this.$emit("savedSync",e)},saveCalRequest:function(){var e,t=(e=regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.mainService.call("saveCal",t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e,this)}),function(){var t=e.apply(this,arguments);return new Promise(function(e,n){return function i(a,s){try{var o=t[a](s),r=o.value}catch(e){return void n(e)}if(!o.done)return Promise.resolve(r).then(function(e){i("next",e)},function(e){i("throw",e)});e(r)}("next")})});return function(e){return t.apply(this,arguments)}}()}},N=Object(f.a)($,function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"my-4 mx-2"},[n("p",{staticClass:"h6 text-muted"},[e._v(e._s(e.get_i18n("cals_connect_external_desc","settings")))]),e._v(" "),n("div",[n("label",{attrs:{for:"calurl"}},[e._v(e._s(e.get_i18n("cals_connect_external_paste","settings")))]),e._v(" "),n("div",{staticClass:"input-group input-group-sm "},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.calurl,expression:"calurl"}],staticClass:"form-control",attrs:{type:"text",id:"calurl",placeholder:"http://"},domProps:{value:e.calurl},on:{keyup:function(t){return"button"in t||!e._k(t.keyCode,"enter",13,t.key,"Enter")?(t.preventDefault(),e.saveCal(t)):null},input:function(t){t.target.composing||(e.calurl=t.target.value)}}}),e._v(" "),n("div",{staticClass:"input-group-append"},[n("button",{staticClass:"btn btn-primary btn-sm",attrs:{type:"button"},on:{click:e.saveCal}},[e._v(e._s(e.get_i18n("save","common")))])])]),e._v(" "),n("p",{staticClass:"small text-right"},[e._v(e._s(e.get_i18n("cals_connect_external_how_url","settings"))+" \n            "),n("span",{staticClass:"btn btn-link btn-xs",on:{click:e.toggleModalGoogle}},[e._v("Google Calendar")]),e._v(" "),n("span",{staticClass:"btn btn-link btn-xs",on:{click:e.toggleModalIcal}},[e._v("Apple iCal")]),e._v(" "),n("span",{staticClass:"btn btn-link btn-xs",on:{click:e.toggleModalOutlook}},[e._v("Outlook Calendar")])])]),e._v(" "),e.showPopup?n("div",[n("a",{attrs:{href:"javascript:;"},on:{click:e.hideModal}},[e._v(e._s(e.get_i18n("hide","common")))]),e._v(" "),n("h4",{staticClass:"modal-title",attrs:{slot:"title"},slot:"title"},[e.showGoogle?n("span",[e._v(e._s(e.get_i18n("cals_connect_external_get_url","settings").replace("%s","Google Calendar")))]):e._e(),e._v(" "),e.showIcal?n("span",[e._v(e._s(e.get_i18n("cals_connect_external_get_url","settings").replace("%s","Apple iCal")))]):e._e(),e._v(" "),e.showOutlook?n("span",[e._v(e._s(e.get_i18n("cals_connect_external_get_url","settings").replace("%s","Outlook Live")))]):e._e()]),e._v(" "),n("div",[n("VideoIframe",{attrs:{src:e.getYouTubeUrl}})],1)]):e._e()])},[],!1,null,null,null).exports,V={props:["calendar"],mixins:[p.a],computed:{addonLink:function(){return apiWappointment.apiSite+"/addons"}}},q=Object(f.a)(V,function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"my-4 mx-2"},[n("p",{staticClass:"h6 text-muted"},[e._v(e._s(e.get_i18n("cals_connect_external_export","settings")))]),e._v(" "),n("div",{staticClass:"text-danger text-left small"},[e._v("The "),n("strong",[n("a",{attrs:{href:e.addonLink,target:"_blank"}},[e._v("Calendar Sync")])]),e._v(" addon is required to use that feature")])])},[],!1,null,null,null).exports,H={components:window.wappointmentExtends.filter("icsExternalComponents",{StaffModalWrapper:E,StaffCalendarsExternalImport:N,StaffCalendarsExternalExport:q}),props:["user"],data:function(){return{activeTab:"import",tabs:null}},created:function(){this.tabs={import:{label:this.get_i18n("cals_ext_import","settings"),component:"StaffCalendarsExternalImport"},export:{label:this.get_i18n("cals_ext_export","settings"),component:"StaffCalendarsExternalExport"}}},computed:{activeComp:function(){return this.tabs[this.activeTab].component}},methods:{saveCalSuccess:function(e){this.$emit("savedSync",e),this.$WapModal().notifySuccess(e.data.message)},isActive:function(e){return e==this.activeTab},changeTab:function(e){this.activeTab=e}}},U=Object(f.a)(H,function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("StaffModalWrapper",{attrs:{nosave:"",user:e.user}},[n("div",{attrs:{id:"buttons-block"}},[n("ul",{staticClass:"nav nav-tabs row px-4",attrs:{id:"myTabICS",role:"tablist"}},e._l(e.tabs,function(t,i){return n("li",{staticClass:"nav-item"},[n("span",{staticClass:"nav-link",class:{active:e.isActive(i)},on:{click:function(t){e.changeTab(i)}}},[e._v(e._s(t.label))])])}),0),e._v(" "),e.activeComp?n(e.activeComp,{tag:"component",attrs:{calendar:e.user},on:{savedSync:e.saveCalSuccess}}):e._e()],1)])},[],!1,null,null,null).exports;function K(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){return function i(a,s){try{var o=t[a](s),r=o.value}catch(e){return void n(e)}if(!o.done)return Promise.resolve(r).then(function(e){i("next",e)},function(e){i("throw",e)});e(r)}("next")})}}var G={props:["staff","mainService","isUserAdministrator"],mixins:[p.a],components:{StaffModalWrapper:E},data:function(){return{custom_fields:[],field_values:{},adding:!1,field_name:"",deleted_fields:[],editingField:!1}},created:function(){void 0!==this.staff.custom_fields&&(this.field_values=Object.assign({},this.staff.custom_fields)),this.loadCustomFields()},computed:{filteredCF:function(){var e=this.deleted_fields;return this.custom_fields.filter(function(t){return-1===e.indexOf(t.key)})},isValidField:function(){return""!=this.field_name.trim()}},methods:{closeRefresh:function(){this.$emit("close")},loadedFields:function(e){this.custom_fields=e.data.custom_fields},loadCustomFields:function(){this.request(this.loadCustomFieldsRequest,{},void 0,!1,this.loadedFields)},loadCustomFieldsRequest:function(){var e=K(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.mainService.call("loadCustomFields");case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),saveCustomFields:function(e,t,n){this.request(this.saveCustomFieldsRequest,{id:this.staff.id,custom_fields:this.custom_fields,values:this.field_values,deleted:this.deleted_fields},void 0,!1,this.closeRefresh)},saveCustomFieldsRequest:function(){var e=K(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.mainService.call("saveCustomFields",t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),updateFieldName:function(){this.field_name=this.field_name.trim()},deleteField:function(e){var t=this;this.$WapModal().confirm({title:"Do you really want to delete this field?",content:"It Will be removed for every staff"}).then(function(n){!0===n&&t.deleted_fields.push(e)})},newField:function(){this.adding=!0},editField:function(e){this.editingField=e,this.newField(),this.field_name=e.name},saveField:function(){if(!this.isValidField)return!1;this.editingField?this.updateLabel():this.insertField(),this.field_name="",this.adding=!1,this.editingField=!1},updateLabel:function(){var e=this.editingField.key,t=this.custom_fields.findIndex(function(t){return t.key==e});this.custom_fields[t].name=this.field_name},insertField:function(){this.custom_fields.push({name:this.field_name,key:this.generateNamekey(this.field_name)})},generateNamekey:function(e){return e.toLowerCase().replace(/[^a-z0-9]/gi,"_")},loaded:function(e){this.custom_fields=-1===[null,void 0,!1].indexOf(e.data.custom_fields)?e.data.custom_fields:[]}}},Z=Object(f.a)(G,function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("StaffModalWrapper",{attrs:{nosave:"",user:e.staff},on:{save:e.save}},[n("div",{staticClass:"mb-2"},[n("div",[e._v("Describe your staff better with fields to be used in emails and SMS")]),e._v(" "),n("div",{staticClass:"text-muted small"},[e._v("For instance, you can create fields for staff's phone number or Skype account and ask the clients to call on those within the confirmation emails")])]),e._v(" "),n("div",{staticClass:"p-2 rounded bg-secondary"},[e.adding?n("div",[n("InputPh",{attrs:{ph:"Field name"},model:{value:e.field_name,callback:function(t){e.field_name=t},expression:"field_name"}}),e._v(" "),n("button",{staticClass:"btn btn-primary",class:{disabled:!e.isValidField},on:{click:e.saveField}},[e._v(e._s(e.get_i18n("save","common")))])],1):n("div",[e.isUserAdministrator?n("button",{staticClass:"btn btn-secondary btn-sm mb-2",on:{click:e.newField}},[n("span",{staticClass:"dashicons dashicons-insert"}),e._v(" Add Custom Field")]):e._e(),e._v(" "),e.filteredCF.length>0?n("div",[e._l(e.filteredCF,function(t){return n("div",{staticClass:"d-flex align-items-center"},[n("div",[n("InputPh",{attrs:{ph:t.name},model:{value:e.field_values[t.key],callback:function(n){e.$set(e.field_values,t.key,n)},expression:"field_values[field.key]"}})],1),e._v(" "),n("a",{attrs:{href:"javascript:;"},on:{click:function(n){e.deleteField(t.key)}}},[n("span",{staticClass:"dashicons dashicons-trash"})]),e._v(" "),n("a",{attrs:{href:"javascript:;","data-tt":"Edit Field Label"},on:{click:function(n){e.editField(t)}}},[n("span",{staticClass:"dashicons dashicons-edit"})])])}),e._v(" "),n("button",{staticClass:"btn btn-primary",on:{click:e.saveCustomFields}},[e._v("Save staff values")])],2):e._e()])])])},[],!1,null,null,null).exports,Y={mixins:[x.a],components:{RegularAvailability:r.a},props:["defaultSettings"],computed:{getRegav:function(){return this.defaultSettings.regav}},data:function(){return{regavUpdated:!1}},methods:{updatedRA:function(e){this.regavUpdated=e},saveDefaultRegav:function(){this.settingSave("regavDefault",this.regavUpdated)}}},J=(n("4HCW"),Object(f.a)(Y,function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("p",{staticClass:"h4"},[e._v("Set the default availability that will be used for new staff")]),e._v(" "),n("RegularAvailability",{attrs:{initValue:e.getRegav,minimal:!0,viewData:e.defaultSettings},on:{updatedDays:e.updatedRA}}),e._v(" "),e.regavUpdated?n("div",{staticClass:"save-floating-button button-absolute"},[n("button",{staticClass:"btn btn-primary",on:{click:e.saveDefaultRegav}},[e._v(e._s(e.get_i18n("save","common")))])]):e._e()],1)},[],!1,null,null,null).exports),X={mixins:[x.a],components:{SearchDropdown:A.a},props:["defaultSettings","services"],data:function(){return{assignAll:!0,defaultServices:[]}},created:function(){this.assignAll=!0===this.defaultSettings,this.defaultServices=!0!==this.assignAll?[].concat(this.defaultSettings):[].concat(this.services.map(function(e){return e.id}))},methods:{saveDefaultServices:function(){this.settingSave("servicesDefault",!!this.assignAll||this.defaultServices)}}},Q=Object(f.a)(X,function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("p",{staticClass:"h4"},[e._v("Set the default services that will be assigned to new staff")]),e._v(" "),n("div",[n("label",{staticClass:"form-check-label",attrs:{for:"Assign all services available to new staff"}},[n("div",{staticClass:"d-flex align-items-center"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.assignAll,expression:"assignAll"}],attrs:{type:"checkbox",id:"allow-cancel"},domProps:{checked:Array.isArray(e.assignAll)?e._i(e.assignAll,null)>-1:e.assignAll},on:{change:function(t){var n=e.assignAll,i=t.target,a=!!i.checked;if(Array.isArray(n)){var s=e._i(n,null);i.checked?s<0&&(e.assignAll=n.concat([null])):s>-1&&(e.assignAll=n.slice(0,s).concat(n.slice(s+1)))}else e.assignAll=a}}}),e._v("\n                Assign all services \n            ")])])]),e._v(" "),!0!==e.assignAll?n("SearchDropdown",{attrs:{hasMulti:"",ph:"Pick default services staff",elements:e.services,idKey:"id",labelSearchKey:"name"},model:{value:e.defaultServices,callback:function(t){e.defaultServices=t},expression:"defaultServices"}}):e._e(),e._v(" "),n("button",{staticClass:"btn btn-primary mt-2",on:{click:e.saveDefaultServices}},[e._v(e._s(e.get_i18n("save","common")))])],1)},[],!1,null,null,null).exports,ee=n("EjpI"),te=n("BIr2"),ne=n("PqtY");function ie(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){return function i(a,s){try{var o=t[a](s),r=o.value}catch(e){return void n(e)}if(!o.done)return Promise.resolve(r).then(function(e){i("next",e)},function(e){i("throw",e)});e(r)}("next")})}}var ae,se,oe,re,le={extends:i.a,components:{ValueCard:a.a,DurationCell:C.a,CalendarsAddEdit:o.a,WeeklyAvailability:v,Connections:b,CalendarsRegav:S,ShortcodeDesigner:D.a,StaffCalendarsExternal:U,StaffCalendarsIntegrations:z,StaffPermissionsManager:T,StaffAssignServices:O,StaffCustomFieldEditor:Z,StaffDefaultAvailability:J,StaffDefaultServices:Q},mixins:[y,x.a,ee.a,te.a,ne.a],data:function(){return{currentView:"listing",viewName:"empty",elementPassed:null,calendarsOrder:[],showShortcode:!1,dotcomOpen:!1,editingExternal:!1,editingServices:!1,showPermissions:!1,editCustomField:!1,editingDefaultAvailability:!1,editingDefaultServices:!1,largeModal:!1}},created:function(){this.mainService=this.$vueService(new s.a)},computed:{searchable:function(){return this.elements.calendars},calendarListing:function(){return"listing"==this.currentView},calendarAdd:function(){return-1!==["add","edit"].indexOf(this.currentView)},calendarRegav:function(){return"regav"==this.currentView},canGetShortCode:function(){return this.canCalendarEdit("wappo_self_shortcode")},canCalEditServices:function(){return this.canCalendarEdit("wappo_self_services")},canCalConnectAccount:function(){return this.canCalendarEdit("wappo_self_connect_account")},canCalAddIcs:function(){return this.canCalendarEdit("wappo_self_add_ics")},canCalDelIcs:function(){return this.canCalendarEdit("wappo_self_del_ics")},canCalEditWeekly:function(){return this.canCalendarEdit("wappo_self_weekly")},canCalUnpublish:function(){return this.canCalendarEdit("wappo_self_unpublish")},canEditCf:function(){return this.canCalendarEdit("wappo_self_cf")},canCalEdit:function(){return this.canCalendarEdit("wappo_self_man")},calendarsUsed:function(){return this.searchable.map(function(e){return e.wp_uid})}},methods:{canCalendarEdit:function(e){return this.isUserAdministrator||this.hasPermission(e)},isStaffCalendar:function(e){return this.isUserAdministrator},getShortCode:function(e){this.showShortcode=e,this.openPopup("Get Booking Widget Shortcode")},goToSync:function(e){this.calendarLimitReached(e)||(this.editingExternal=e,this.openPopup(this.get_i18n("cals_connected_calendar","settings")))},goToDotCom:function(e){this.dotcomOpen=e,this.openPopup("Connect to Zoom, Google Calendar etc...")},setCustomFields:function(e){this.editCustomField=e,this.openPopup("Set custom Fields")},setDefaultAvailability:function(){this.editingDefaultAvailability=!0,this.largeModal=!0,this.openPopup("Default availability")},setDefaultServices:function(){this.editingDefaultServices=!0,this.openPopup("Default services")},editServices:function(e){this.editingServices=e,this.openPopup("Edit services allowed")},editPermission:function(e){this.showPermissions=e,this.openPopup("Edit user permissions")},hideElementsPopup:function(e){this.showShortcode=!1,this.editingExternal=!1,this.dotcomOpen=!1,this.editingServices=!1,this.showPermissions=!1,this.editCustomField=!1,this.editingDefaultAvailability=!1,this.editingDefaultServices=!1,this.largeModal=!1},saveServices:function(e){this.request(this.saveServicesRequest,{id:this.editingServices.id,services:e},void 0,!1,this.closeRefresh)},saveServicesRequest:function(){var e=ie(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.mainService.call("saveService",t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),savePermissions:function(e){this.request(this.savePermissionsRequest,{id:this.showPermissions.id,permissions:e},void 0,!1,this.closeRefresh)},savePermissionsRequest:function(){var e=ie(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.mainService.call("savePermission",t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),closeRefresh:function(){this.hidePopup(),this.hasBeenSavedDeleted()},displayServiceName:function(e,t){var n=t.find(function(t){return t.id==e});return void 0!==n?n.name:"Undefined service"},reloadListing:function(){this.hidePopup(),this.showListing(),this.loadElements()},afterLoaded:function(){if(this.$route.params.id){this.currentView="edit";var e=this.$route.params.id;this.editAvailability(this.elements.calendars.find(function(t){return t.id==e}),!1)}else"calendars_zoom_account"==this.$route.name&&this.goToDotCom(this.elements.calendars[0]);this.$emit("fullyLoaded")},getExternals:function(e){return void 0!==e.calendar_urls?!1!==e.calendar_urls&&Object.keys(e.calendar_urls).length>0&&e.calendar_urls:!1!==e.options.calendar_urls&&Object.keys(e.options.calendar_urls).length>0&&e.options.calendar_urls},editAvailability:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this.elementPassed=e,this.currentView=this.elements.db_required?"regav":"edit",!this.elements.db_required&&t&&this.$router.push({name:"calendars_edit",params:{id:e.id}})},calendarLimitReached:function(e){return!1!==e.calendar_urls&&Object.keys(e.calendar_urls).length>3},loadElements:function(){"listing"==this.currentView&&this.request(this.requestElements,{},void 0,!1,this.loadedElements,this.failedLoadingElements)},orderChanged:function(e){this.request(this.reorderRequest,{id:e.moved.element.id,new_sorting:e.moved.newIndex},void 0,!1,this.hasBeenSavedNoReload)},reorderRequest:function(){var e=ie(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.mainService.call("reorder",t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),hasBeenSavedNoReload:function(e){return this.hasBeenSavedDeleted(e,!1)},hasBeenSavedDeleted:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];t&&this.reloadListing()},deleteCalendar:function(e){var t=this;this.$WapModal().confirm({title:"Do you really want to delete this calendar?"}).then(function(n){!1!==n&&t.request(t.deleteRequest,{id:e},void 0,!1,t.hasBeenSavedDeleted)})},toggleStatus:function(e,t){return this.elements.db_required?this.runDbUpdate():this.request(this.toggleRequest,{id:e.id},void 0,!1,this.hasBeenToggled.bind(null,t))},hasBeenToggled:function(e,t){var n=this.elements.calendars;n[e].status=1==n[e].status?0:1,this.elements.calendars=[],setTimeout(this.reFeedCalendars.bind(null,n),100)},reFeedCalendars:function(e){this.elements.calendars=e},toggleRequest:(re=ie(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.mainService.call("toggle",t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e,this)})),function(e){return re.apply(this,arguments)}),disconnectCalendar:function(e,t){var n=this;this.$WapModal().confirm({title:"Confirm calendar disconnection?"}).then(function(i){!1!==i&&n.request(n.disconnectCalendarRequest,{calendar_id:e,staff_id:t},void 0,!1,n.disconnectCalendarSuccess)})},disconnectCalendarRequest:(oe=ie(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.mainService.call("disconnectCal",t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e,this)})),function(e){return oe.apply(this,arguments)}),disconnectCalendarSuccess:function(e){this.$WapModal().notifySuccess(e.data.message),this.reloadListing()},refreshManually:function(e){this.request(this.refreshCalendarsRequest,{staff_id:e},void 0,!1,this.disconnectCalendarSuccess)},refreshCalendarsRequest:(se=ie(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.mainService.call("refreshCalendars",t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e,this)})),function(e){return se.apply(this,arguments)}),deleteRequest:(ae=ie(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.mainService.call("delete",t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e,this)})),function(e){return ae.apply(this,arguments)}),editElement:function(e){this.crumb?this.$emit("updateCrumb",[{target:"goToMain",label:"General"},{target:"goToCalendar",label:"Calendars",subview:"listing"},{target:"goToCalendarAdd",label:"Edit",disabled:!0}],"edit",{element:e}):(this.currentView="edit",this.elementPassed=e)},showCalendar:function(){return this.elements.db_required?this.runDbUpdate():!1!==this.elements.limit_reached?this.requiresAddon("staff",this.elements.limit_reached):void(this.crumb?this.$emit("updateCrumb",[{target:"goToMain",label:"General"},{target:"goToCalendar",label:"Calendars",subview:"listing"},{target:"goToCalendarAdd",label:"Add",disabled:!0}],"add"):(this.currentView="add",this.elementPassed={avatar:"",gravatar:"",name:"",id:"",timezone:this.elements.staffDefault.timezone,regav:this.elements.staffDefault.regav,avb:this.elements.staffDefault.availaible_booking_days}))},showListing:function(){this.crumb?this.$emit("updateCrumb",[{target:"goToMain",label:"General"},{target:"goToCalendar",label:"Calendars",disabled:!0}],"listing"):(this.currentView="listing",this.elementPassed=null,this.$router.push({name:"calendars"}))}}},ce=(n("dqqa"),Object(f.a)(le,function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[e.calendarListing?n("div",[n("div",{staticClass:"d-flex align-items-center"},[e.isUserAdministrator?n("button",{staticClass:"btn btn-outline-primary btn my-2",on:{click:e.showCalendar}},[e._v(e._s(e.get_i18n("create","common")))]):e._e(),e._v(" "),e.loadedData&&e.elements.calendars.length>10?n("InputPh",{staticClass:"max-200 ml-2 mb-0",attrs:{type:"text",ph:"Search name"},model:{value:e.searchterm,callback:function(t){e.searchterm=t},expression:"searchterm"}}):e._e()],1),e._v(" "),e.loadedData?n("div",{staticClass:"table-hover"},[n("table",{staticClass:"table"},[n("thead",[n("tr",[n("th",{attrs:{scope:"col"}},[e._v("#")]),e._v(" "),n("th",{attrs:{scope:"col"}},[e._v(e._s(e.get_i18n("cals_name","settings")))]),e._v(" "),n("th",{attrs:{scope:"col"}},[n("div",{staticClass:"headerToggle"},[e._v(e._s(e.get_i18n("cals_regav","settings"))+" "),n("a",{attrs:{href:"javascript:;"},on:{click:e.setDefaultAvailability}},[e._v(e._s(e.get_i18n("cals_set_default","settings")))])])]),e._v(" "),e.elements.db_required?e._e():n("th",{attrs:{scope:"col"}},[n("div",{staticClass:"headerToggle"},[e._v(e._s(e.get_i18n("service_title","settings"))+" "),n("a",{attrs:{href:"javascript:;"},on:{click:e.setDefaultServices}},[e._v(e._s(e.get_i18n("cals_set_default","settings")))])])]),e._v(" "),n("th",{attrs:{scope:"col"}},[e._v(e._s(e.get_i18n("cals_integration","settings")))]),e._v(" "),n("th",{attrs:{scope:"col"}},[e._v(e._s(e.get_i18n("cals_connected_calendar","settings")))])])]),e._v(" "),e.elements.calendars.length>0?n("draggable",{attrs:{draggable:".row-click",handle:".dashicons-move",tag:"tbody"},on:{change:e.orderChanged},model:{value:e.elements.calendars,callback:function(t){e.$set(e.elements,"calendars",t)},expression:"elements.calendars"}},e._l(e.filteredSearchable,function(t,i){return n("tr",{staticClass:"row-click"},[n("td",[e._v("\n                            "+e._s(i+1)+"\n                        ")]),e._v(" "),n("td",[n("div",{staticClass:"d-flex align-items-center"},[n("div",{staticClass:"calendar-pic",class:[1==t.status?"active":"inactive"]},[n("img",{staticClass:"wrounded",attrs:{src:t.avatar,width:"40",alt:t.name}}),e._v(" "),e.canCalUnpublish?n("span",{staticClass:"status",attrs:{role:"button","data-tt":[1==t.status?"Active":"Inactive"]},on:{click:function(n){e.toggleStatus(t,i)}}}):e._e()]),e._v(" "),n("div",{staticClass:"ml-2"},[n("div",[e._v(e._s(t.name))]),e._v(" "),n("small",[e._v(e._s(t.timezone))])])]),e._v(" "),e.isUserAdministrator||e.canCalEdit?n("div",{staticClass:"wlist-actions text-muted"},[e.isUserAdministrator&&""==e.searchterm&&e.elements.calendars.length>1?n("span",{attrs:{"data-tt":e.get_i18n("sort","common")}},[n("span",{staticClass:"dashicons dashicons-move"})]):e._e(),e._v(" "),n("span",{attrs:{"data-tt":e.get_i18n("edit","common")}},[n("span",{staticClass:"dashicons dashicons-edit",on:{click:function(n){n.preventDefault(),n.stopPropagation(),e.editAvailability(t)}}})]),e._v(" "),e.isUserAdministrator?n("span",{attrs:{"data-tt":e.get_i18n("delete","common")}},[n("span",{staticClass:"dashicons dashicons-trash",on:{click:function(n){n.preventDefault(),n.stopPropagation(),e.deleteCalendar(t.id)}}})]):e._e(),e._v(" "),e.canGetShortCode?n("span",{attrs:{"data-tt":e.get_i18n("getshort","common")}},[n("span",{staticClass:"dashicons dashicons-shortcode",on:{click:function(n){n.preventDefault(),n.stopPropagation(),e.getShortCode(t.id)}}})]):e._e(),e._v(" "),e.isStaffCalendar(t)?n("span",{attrs:{"data-tt":e.get_i18n("cals_permi","settings")}},[n("span",{staticClass:"dashicons dashicons-unlock",on:{click:function(n){n.preventDefault(),n.stopPropagation(),e.editPermission(t)}}})]):e._e(),e._v(" "),e.elements.allowStaffCf&&e.canEditCf?n("span",{attrs:{"data-tt":e.get_i18n("cals_setcf","settings")}},[n("span",{staticClass:"dashicons dashicons-editor-code",on:{click:function(n){n.preventDefault(),n.stopPropagation(),e.setCustomFields(t)}}})]):e._e(),e._v(" "),n("span",[e._v("(id: "+e._s(t.id)+")")])]):e._e()]),e._v(" "),n("td",[n("CalendarsRegav",{attrs:{canEdit:e.canCalEditWeekly,calendar:t},on:{edit:e.editAvailability}})],1),e._v(" "),e.elements.db_required?e._e():n("td",{staticClass:"cell-services"},[t.services.length>0?[n("div",{staticClass:"d-flex flex-wrap",attrs:{role:"button"}},e._l(t.services,function(t){return n("ValueCard",{key:t,attrs:{canDiscard:!1}},[e._v(e._s(e.displayServiceName(t,e.elements.services))+" ")])}),1),e._v(" "),e.canCalEditServices?n("button",{staticClass:"btn btn-xs btn-outline-primary",on:{click:function(n){e.editServices(t)}}},[e._v(e._s(e.get_i18n("cals_assign_service","settings")))]):e._e()]:[n("div",{staticClass:"text-danger small"},[e._v("Missing service")]),e._v(" "),e.canCalEditServices?n("button",{staticClass:"btn btn-xs btn-outline-primary",on:{click:function(n){e.editServices(t)}}},[e._v("Add service")]):e._e()]],2),e._v(" "),n("td",[n("Connections",{attrs:{connections:void 0===t.connected.services?[]:t.connected.services}}),e._v(" "),e.canCalConnectAccount?n("div",[t.connected?n("a",{staticClass:"small",attrs:{href:"javascript:;"},on:{click:function(n){e.goToDotCom(t)}}},[e._v(e._s(e.get_i18n("edit","common")))]):n("button",{staticClass:"btn btn-xs btn-outline-primary tt-lg mt-2",on:{click:function(n){e.goToDotCom(t)}}},[e._v(e._s(e.get_i18n("cals_account_connect","settings")))])]):e._e()],1),e._v(" "),n("td",[e.getExternals(t)?n("div",{staticClass:"d-flex"},[e._l(e.getExternals(t),function(i,a){return n("div",{staticClass:"unclickable cal-icon"},[n("div",{staticClass:"dashicons dashicons-calendar-alt"}),e._v(" "),n("div",{staticClass:"card cardb p-2 px-3 mt-1 cal-desc"},[n("div",{staticClass:"d-flex flex-row justify-content-between "},[n("div",[n("div",{staticClass:"small text-primary"},[e._v(e._s(i))]),e._v(" "),n("p",{staticClass:"vsmall text-muted m-0"},[e._v("\n                                                Last checked: "),n("span",{staticClass:"data-item"},[e._v(e._s(e.lastChecked(a,t)))]),e._v(" | \n                                                Last changed: "),n("span",{staticClass:"data-item"},[e._v(e._s(e.lastChanged(a,t)))]),e._v(" | \n                                                Process duration: "),n("span",{staticClass:"data-item"},[e._v(e._s(e.calDuration(a,t)))])])]),e._v(" "),e.canCalDelIcs?n("button",{staticClass:"align-self-start btn btn-xs btn-link hidden",attrs:{"data-tt":"Disconnect Calendar"},on:{click:function(n){e.disconnectCalendar(a,t.id)}}},[n("span",{staticClass:"dashicons dashicons-dismiss"})]):e._e()])])])}),e._v(" "),e.canCalAddIcs?n("a",{staticClass:"small d-flex align-items-center",attrs:{href:"javascript:;"},on:{click:function(n){e.refreshManually(t.id)}}},[n("span",{staticClass:"dashicons dashicons-update"}),e._v(" Refresh all")]):e._e()],2):e._e(),e._v(" "),n("div",[e.canCalAddIcs&&!e.calendarLimitReached(t)?n("button",{staticClass:"btn btn-xs btn-outline-primary tt-lg",attrs:{"data-tt":e.get_i18n("cals_connect_external_tip","settings")},on:{click:function(n){e.goToSync(t)}}},[e._v(e._s(e.get_i18n("cals_connect_external","settings")))]):e._e()])])])}),0):n("tbody",[n("tr",[e._v("\n                        "+e._s(e.get_i18n("empty_listing","common"))+"\n                    ")])])],1)]):e._e()]):e._e(),e._v(" "),e.calendarAdd?n("div",[n("button",{staticClass:"btn btn-link btn-xs mb-2",on:{click:e.showListing}},[e._v(" < "+e._s(e.get_i18n("back","common")))]),e._v(" "),n("CalendarsAddEdit",{attrs:{calendar:e.elementPassed,timezones_list:e.elements.timezones_list,staffs:e.elements.staffs,services:e.elements.services,calendarsUsed:e.calendarsUsed},on:{saved:e.hasBeenSavedDeleted}})],1):e._e(),e._v(" "),e.calendarRegav?n("div",[n("button",{staticClass:"btn btn-link btn-xs mb-2",on:{click:e.showListing}},[e._v(" < "+e._s(e.get_i18n("back","common")))]),e._v(" "),n("WeeklyAvailability",{attrs:{calendar:e.elementPassed,timezones_list:e.elements.timezones_list,staffs:e.elements.staffs}})],1):e._e(),e._v(" "),e.showModal?n("WapModal",{attrs:{show:e.showModal,large:e.largeModal,noscroll:""},on:{hide:e.hidePopup}},[n("h4",{staticClass:"modal-title",attrs:{slot:"title"},slot:"title"},[e._v(" "+e._s(e.modalTitle)+" ")]),e._v(" "),e.showShortcode?n("ShortcodeDesigner",{attrs:{calendar_id:e.showShortcode,calendars:e.elements.calendars,services:e.elements.services,showTip:!1}}):e._e(),e._v(" "),e.showPermissions?n("StaffPermissionsManager",{attrs:{permissions:e.elements.permissions,user:e.showPermissions},on:{save:e.savePermissions}}):e._e(),e._v(" "),e.editCustomField?n("StaffCustomFieldEditor",{attrs:{staff:e.editCustomField,mainService:e.mainService,isUserAdministrator:e.isUserAdministrator},on:{close:e.closeRefresh}}):e._e(),e._v(" "),e.editingServices?n("StaffAssignServices",{attrs:{user:e.editingServices,current:e.editingServices.services,services:e.elements.services},on:{save:e.saveServices}}):e._e(),e._v(" "),e.dotcomOpen?n("StaffCalendarsIntegrations",{attrs:{calendar:e.dotcomOpen},on:{reload:e.reloadListing}}):e._e(),e._v(" "),e.editingExternal?n("StaffCalendarsExternal",{attrs:{user:e.editingExternal,noback:""},on:{savedSync:e.reloadListing}}):e._e(),e._v(" "),e.editingDefaultAvailability?n("StaffDefaultAvailability",{attrs:{defaultSettings:e.elements.staffDefault}}):e._e(),e._v(" "),e.editingDefaultServices?n("StaffDefaultServices",{attrs:{defaultSettings:e.elements.servicesDefault,services:e.elements.services}}):e._e()],1):e._e()],1)},[],!1,null,null,null));t.default=ce.exports},AbtR:function(e,t,n){"use strict";var i=n("VHDP");n.n(i).a},Acyh:function(e,t,n){(e.exports=n("I1BE")(!1)).push([e.i,'\n.large-version .wap-wid{\n    max-width: 420px;\n}\n.large-version .wap-wid.step-BookingCalendar{\n    max-width: 100%;\n    min-width: 100%;\n}\n.wap-wid{\n    max-width: 360px;\n}\n.br-fixed .wap-wid .wbtn-booking{\n  float:right;\n}\n.wap-wid .loader {\n    min-height: 68px;\n}\n.wap-front a.initial{\n  color:initial !important;\n}\n.wap-front .wbtn.wbtn-secondary.wbtn-cell{\n  border-radius: .5em;\n  margin: .4em 0;\n}\n.wap-front .wbtn {\n  display: inline-block;\n  font-weight: 400;\n  text-align: center;\n  white-space: nowrap;\n  vertical-align: middle;\n  -webkit-user-select: none;\n  -moz-user-select: none;\n  -ms-user-select: none;\n  user-select: none;\n  border: 1px solid transparent;\n  padding: 0.375em;\n  font-size: .8em;\n  line-height: 1.5;\n  border-radius: 0.25em;\n  transition: color 0.15s ease-in-out, background-color 0.15s ease-in-out, border-color 0.15s ease-in-out, box-shadow 0.15s ease-in-out;\n  margin: 0;\n  background-color: transparent;\n  background: transparent;\n  height: auto;\n  text-transform: none;\n}\n.wap-front .wbtn-block{\n  width: 100%;\n}\n.wap-front .wbtn:hover, \n  .wap-front .wbtn:focus {\n    text-decoration: none;\n}\n.wap-front .wbtn:focus, \n  .wap-front .wbtn.focus {\n    outline: 0;\n}\n.wap-front .wbtn.wbtn-disabled, \n  .wap-front .wbtn:disabled {\n    opacity: 0.65;\n}\n.wap-front .wbtn:not(:disabled):not(.wbtn-disabled) {\n    cursor: pointer;\n}\n.wap-front .wbtn:not(:disabled):not(.wbtn-disabled):active, \n  .wap-front .wbtn:not(:disabled):not(.wbtn-disabled).active {\n    background-image: none;\n}\n.wap-front a.wbtn.wbtn-disabled,\n  .wap-front fieldset:disabled a.wbtn {\n    pointer-events: none;\n}\n.wap-front .d-flex {\n  display: -ms-flexbox !important;\n  display: flex !important;\n}\n.wap-front .d-flex.d-flex-inline{\n    display: inline-flex !important;\n}\n.wap-front .flex-wrap {\n    -ms-flex-wrap: wrap !important;\n    flex-wrap: wrap !important;\n}\n.wap-front .flex-fill{\n    -ms-flex: 1 1 auto !important;\n    flex: 1 1 auto !important;\n}\n.wap-front .justify-content-between {\n  -ms-flex-pack: justify !important;\n  justify-content: space-between !important;\n}\n.wap-front .justify-content-around {\n  -ms-flex-pack: distribute !important;\n  justify-content: space-around !important;\n}\n.wap-front .justify-content-center {\n    -webkit-box-pack: center !important;\n    -ms-flex-pack: center !important;\n    justify-content: center !important;\n}\n.wap-front .align-items-center {\n  -ms-flex-align: center !important;\n  align-items: center !important;\n}\n.wap-front .align-items-start {\n    -webkit-box-align: start !important;\n    -ms-flex-align: start !important;\n    align-items: flex-start !important;\n}\n.wap-front .align-content-around {\n  -ms-flex-line-pack: distribute !important;\n  align-content: space-around !important;\n}\n.wap-front .align-self-center {\n  -ms-flex-item-align: center !important;\n  align-self: center !important;\n}\n.wap-front .align-self-stretch {\n  -ms-flex-item-align: stretch !important;\n  align-self: stretch !important;\n}\n.wap-wid.wclosable > .wclose {\n    position: absolute;\n    z-index: 2;\n    right: .3em;\n    top: .3em;\n}\n.wap-front .wml-2{\n    margin-left:.4em;\n}\nhtml[dir=rtl] .wap-front .wml-2{\n  margin-right: .4em !important;\n  margin-left: 0 !important;\n}\n.wprice{\n  font-weight: bold;\n}\n.wap-front .text-center{\n    text-align: center;\n}\n.wap-front .text-sm{\n  font-size: .7em;\n}\n.wappo-popped{\n  overflow: hidden;\n  position: relative;\n}\n.wap-front.wdesk.br-fixed {\n  min-width: 360px;\n}\n.wap-front.br-fixed{\n    position: fixed;\n    right: 0;\n    bottom: 0;\n    margin: 1rem;\n    max-height: 95%;\n    min-width: 320px;\n}\n.wap-booking-fields {\n    text-align: left;\n    margin: .5em 0;\n}\nhtml[dir=rtl] .wap-front.br-fixed{\n    right: auto;\n    left: 0;\n}\nhtml[dir=rtl] .br-fixed .wap-wid .wbtn-booking {\n  float: left;\n}\nhtml[dir=rtl] .wap-booking-fields{\n    text-align: right;\n}\n.wap-booking-fields input,\n.wap-booking-fields textarea{\n  color: var(--wappo-body-tx) !important;\n}\n.wap-booking-fields .isInvalid input[type="text"], \n.wap-booking-fields .isInvalid input[type="email"], \n.wap-booking-fields .isInvalid input[type="url"], \n.wap-booking-fields .isInvalid input[type="tel"],\n.wap-booking-fields .isInvalid textarea{\n    border-right: 4px solid var(--wappo-error-tx) !important;\n}\n.wap-booking-fields .isValid input[type="text"], \n.wap-booking-fields .isValid input[type="email"], \n.wap-booking-fields .isValid input[type="url"], \n.wap-booking-fields .isValid input[type="tel"],\n.wap-booking-fields .isValid textarea{\n    border-right: 4px solid var(--wappo-valid-tx) !important;\n}\nhtml[dir=rtl] .wap-booking-fields .isInvalid input[type="text"], \nhtml[dir=rtl] .wap-booking-fields .isInvalid input[type="email"], \nhtml[dir=rtl] .wap-booking-fields .isInvalid input[type="url"], \nhtml[dir=rtl] .wap-booking-fields .isInvalid input[type="tel"],\nhtml[dir=rtl] .wap-booking-fields .isInvalid textarea{\n    border-left: 4px solid var(--wappo-error-tx) !important;\n    border-right:1px solid var(--wappo-input-bor) !important;\n}\nhtml[dir=rtl] .wap-booking-fields .isValid input[type="text"], \nhtml[dir=rtl] .wap-booking-fields .isValid input[type="email"], \nhtml[dir=rtl] .wap-booking-fields .isValid input[type="url"], \nhtml[dir=rtl] .wap-booking-fields .isValid input[type="tel"],\nhtml[dir=rtl] .wap-booking-fields .isValid textarea{\n    border-left: 4px solid var(--wappo-valid-tx) !important;\n    border-right:1px solid var(--wappo-input-bor) !important;\n}\n.wap-booking-fields .field-required label::after {\n    content:" *";\n    color:var(--wappo-error-tx);\n}\n.wap-front .wappointment-errors{\n    background-color:var(--wappo-error-tx);    \n    border-radius:.25em;\n    padding: .3em;\n    margin: .5em 0;\n}\n.wap-front div.wappointment-errors div{\n    color: var(--wappo-pri-tx);\n}\n.wap-front .wrap-calendar div.wappointment-errors{\n    color: var(--wappo-pri-tx);\n    font-size: .9em;\n}\n.phone-field-wrap .dpselect .selection::after,\n.phone-field-wrap strong{\n    color: #645a5a;\n}\n.wap-front.poppedup{\n  width: 100%;\n  height: 100%;\n  margin: 0;\n  position: fixed;\n  left: 0;\n  bottom: 0;\n  overflow-y: scroll;\n}\n.wap-front.poppedup .wappo_module{\n  display: flex;\n  align-items: center;\n  width: 100%;\n  height: 100%;\n  position: relative;\n  z-index: 99;\n}\n.wap-front.poppedup .wappo_module .wap-wid{\n  width: 500px;\n  margin: 0 auto;\n  position: relative;\n  max-width:none;\n}\n.wap-front.poppedup .wap-bg{\n  position: fixed;\n  height: 100%;\n  width: 100%;\n  background-color: rgba(0, 0, 0, .7);\n  top: 0;\n  z-index: 0;\n  overflow-y: scroll;\n  margin: 0 auto;\n}\n@media only screen and (max-width: 500px) {\n.wap-front.poppedup .wappo_module .wap-wid{\n    min-width:100%;\n}\n.wap-abs{\n    position: absolute;\n    bottom: 0;\n    width: 100%;\n    max-height: 95%;\n    overflow-y: scroll;\n}\n.wap-front.wexpanded .wap-bg\n  .wap-front.br-fixed .wap-bg,\n  .wap-front.wexpanded .wap-bg{\n    position: fixed;\n    height: 100%;\n    width: 100%;\n    background-color: rgba(0, 0, 0, .7);\n    top: 0;\n    z-index: 0;\n    overflow-y: scroll;\n}\n.wap-front.br-fixed,\n  .wap-front.wexpanded{\n    width: 100%;\n    margin: 0;\n    position: fixed;\n    left: 0;\n    bottom: 0;\n    overflow-y: scroll;\n}\n.wap-front.wexpanded{\n    z-index: 999999999;\n    height: 100%;\n}\n.wap-front.br-fixed .wbtn.wbtn-booking.wbtn-primary{\n    margin: 0;\n    width:100%;\n    border-radius: .2rem .2rem 0 0;\n}\n.wap-front.br-fixed .wap-bf,\n  .wap-front.br-fixed .wap-wid,\n  .wap-front.wmobile .wap-bf,\n  .wap-front.wmobile .wap-wid{\n    max-width: 100%;\n    position:relative;\n    z-index: 1;\n}\n.wap-front.wmobile .wap-bf,\n  .wap-front.wmobile .wap-wid{\n    width:100%;\n}\n.wap-front.wmobile .wap-wid.step-button{\n    width: auto;\n}\n}\n',""])},AlqU:function(e,t,n){(e.exports=n("I1BE")(!1)).push([e.i,"\n.wpayment{\n  border: 2px solid var(--wappo-payment-border);\n  border-radius: 0 .4em .4em .4em;\n  position:relative;\n  overflow: hidden;\n}\n.witem{\n  font-size:.7em;\n  border-bottom: 1px solid var(--wappo-payment-border);\n}\n.wcards{\n  height: 25px;\n}\n.wcard{\n  margin-right: .2em;\n}\n\n",""])},AsP0:function(e,t,n){"use strict";var i=n("xV/h"),a=n("Qi5d"),s=n("MkfN"),o=n("6CjO"),r={mixins:window.wappointmentExtends.filter("shortcodeDesignerMixins",[s.a]),props:{title:{type:String,default:"Book now!"},calendar_id:{default:!1},service_id:{default:!1},services:{default:null},calendars:{default:null},simple:{default:!1}},data:function(){return{shortcode:"",clicked:!1,canLockStaff:!1,canLockService:!1,showingTip:!1}},components:{ClickCopy:i.a,VideoIframe:o.a,ShortcodeGenerator:a.a},methods:{updateShortCode:function(e){this.shortcode=e}},computed:{shortCodeHasService:function(){return-1!==this.shortcode.indexOf('service="')},shortCodeHasCalendar:function(){return-1!==this.shortcode.indexOf('staff="')},addonLink:function(){return apiWappointment.apiSite+"/addons"}}},l=(n("CwPI"),n("KHd+")),c=Object(l.a)(r,function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("div",{staticClass:"shortcode-editor"},[n("div",{staticClass:"shortcode-gen"},[n("ShortcodeGenerator",{attrs:{title:e.title,calendar_id:e.calendar_id,service_id:e.service_id,calendars:e.calendars,services:e.services,simple:e.simple,canLockStaff:e.canLockStaff,canLockService:e.canLockService},on:{change:e.updateShortCode}})],1),e._v(" "),n("div",{attrs:{id:"shortcode_block"}},[n("p",{staticClass:"m-0"},[e._v(e._s(e.get_i18n("bwe_your_sh","common")))]),e._v(" "),n("ClickCopy",{attrs:{value:e.shortcode},on:{clicked:function(t){e.clicked=!0}}}),e._v(" "),n("transition",{attrs:{name:"fade"}},[e.clicked?n("div",[!e.canLockStaff&&e.shortCodeHasCalendar?n("div",{staticClass:"text-danger text-left small"},[e._v("The lock on calendar will work only with the "),n("strong",[n("a",{attrs:{href:e.addonLink,target:"_blank"}},[e._v("Calendars & Staff")])]),e._v(" addon")]):e._e(),e._v(" "),!e.canLockService&&e.shortCodeHasService?n("div",{staticClass:"text-danger text-left small mt-2"},[e._v("The lock on service will work only with the "),n("strong",[n("a",{attrs:{href:e.addonLink,target:"_blank"}},[e._v("Services Suite")])]),e._v(" addon")]):e._e()]):e._e()])],1)]),e._v(" "),e.showingTip?n("div",{staticClass:"mt-4"},[n("VideoIframe",{attrs:{src:"https://www.youtube.com/embed/VMi2Ry-JrGA"}})],1):n("a",{attrs:{href:"javascript:;"},on:{click:function(t){e.showingTip=!0}}},[e._v(e._s(e.get_i18n("bwe_how_use_sh","common")))])])},[],!1,null,null,null);t.a=c.exports},B4pb:function(e,t,n){var i=n("djb6");"string"==typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);(0,n("SZ7m").default)("5f6eb88f",i,!0,{})},BDLL:function(e,t,n){"use strict";var i={mixins:[n("G0ds").a],props:["options","typeSelected","typesAllowed"],mounted:function(){this.selection=this.typeSelected},methods:{isSelected:function(e){return this[e+"Selected"]},selectType:function(e){this.selection=e,this.$emit("selectType",e)},allowedType:function(e){return-1!==this.typesAllowed.indexOf(e)},getTypeObject:function(e){switch(e){case"zoom":return{label:this.options.form.byzoom,icon:["fas","video"]};case"physical":return{label:this.options.form.inperson,icon:"map-marked-alt"};case"phone":return{label:this.options.form.byphone,icon:"phone"};case"skype":return{label:this.options.form.byskype,icon:["fab","skype"]}}}}},a=n("KHd+"),s=Object(a.a)(i,function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"text-center"},e._l(e.typesAllowed,function(t){return n("div",{staticClass:"wbtn wbtn-secondary wbtn-cell mr-2",class:{selected:e.isSelected(t)},attrs:{role:"button"},on:{click:function(n){e.selectType(t)}}},[n("WapImage",{attrs:{faIcon:e.getTypeObject(t).icon,size:"md"}}),e._v(" "),n("div",[e._v(e._s(e.getTypeObject(t).label))])],1)}),0)},[],!1,null,null,null);t.a=s.exports},BEd2:function(e,t,n){var i=n("4G2+");"string"==typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);(0,n("SZ7m").default)("692c8151",i,!0,{})},BIr2:function(e,t,n){"use strict";var i={data:function(){return{searchterm:"",searchkey:"name"}},computed:{filteredSearchable:function(){var e=this.searchterm.toLowerCase(),t=this.searchkey;return this.searchable.filter(function(n){return-1!==n[t].toLowerCase().indexOf(e)})}}},a=n("KHd+"),s=Object(a.a)(i,void 0,void 0,!1,null,null,null);t.a=s.exports},CwPI:function(e,t,n){"use strict";var i=n("Q+ZH");n.n(i).a},D6xo:function(e,t,n){var i=n("X8YZ");"string"==typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);(0,n("SZ7m").default)("0732dd64",i,!0,{})},EUEc:function(e,t,n){(e.exports=n("I1BE")(!1)).push([e.i,"\n.bullet-title{\n    color: #777;\n    border-bottom: 1px solid #c2c1cc;\n    font-weight: bold;\n}\n.bullet-wap{\n    border: 1px solid var(--primary);\n    padding: .35rem;\n    border-radius: 1.2rem;\n    height: 2rem;\n    width: 2rem;\n    display: inline-block;\n    text-align: center;\n    font-size: 1rem;\n    color: var(--primary);\n    margin-right: .5rem;\n    background-color: #fff;\n}\n.changename .label-wrapper{\n    margin-bottom: 0 !important;\n}\n.account-selector{\n    max-width: 380px;\n}\n",""])},EUEe:function(e,t,n){"use strict";var i=n("azVs");n.n(i).a},F8zI:function(e,t,n){(e.exports=n("I1BE")(!1)).push([e.i,"\n.dayLabel {\n    text-transform: capitalize;\n    text-align: center;\n}\n.available-slot{\n    background-color: #ccc;\n    width: .3rem;\n    height: 1rem;\n}\n.available-slot:hover{\n    background-color: #37792a;\n}\n.available-slot.tt-below[data-tt]::before{\n    top:auto;\n    bottom: -200%;\n}\n.available-slot.tt-below[data-tt]::after{\n    top:auto;\n    bottom: 20%;\n}\n",""])},FEmh:function(e,t,n){var i=n("JiK0");"string"==typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);(0,n("SZ7m").default)("d69eef4e",i,!0,{})},"Fj/6":function(e,t){e.exports=function(e){this.message=e,this.name="InvalidMonthsError"}},G0ds:function(e,t,n){"use strict";var i={data:function(){return{selection:!1}},methods:{appointmentIsType:function(e){return this.selection==e||void 0!==this.appointment&&void 0!==this.appointment.type&&this.appointment.type==e}},computed:{phoneSelected:function(){return this.appointmentIsType("phone")},physicalSelected:function(){return this.appointmentIsType("physical")},skypeSelected:function(){return this.appointmentIsType("skype")},zoomSelected:function(){return this.appointmentIsType("zoom")}}},a=n("KHd+"),s=Object(a.a)(i,void 0,void 0,!1,null,null,null);t.a=s.exports},G5JO:function(e,t,n){"use strict";var i=n("A5Wa"),a=n("6uyd"),s={data:function(){return{shortDateFormat:"YYYY-MM-DD HH:mm"}},methods:{getMomentObject:function(){return i.a},setMomentLocale:function(){i.a.locale(Object(a.a)())},unixToDateTime:function(e,t){return e?i.a.unix(e).tz(t).format(this.shortDateFormat):"---"},getMoment:function(e,t){return i.a.unix(e).tz(t)},tzGuess:function(){return i.a.tz.guess()},getUnixNow:function(){return Object(i.a)().unix()}}},o=n("KHd+"),r=Object(o.a)(s,void 0,void 0,!1,null,null,null);t.a=r.exports},GDSN:function(e,t,n){var i=n("gnn1");"string"==typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);(0,n("SZ7m").default)("14b33e1e",i,!0,{})},H7Pi:function(e,t,n){"use strict";var i=n("ftQn");n.n(i).a},HY5A:function(e,t,n){(e.exports=n("I1BE")(!1)).push([e.i,"\n.saveButtons .wbtn-secondary{\n    margin: .2em 0 !important;\n}\n",""])},IaMM:function(e,t,n){"use strict";var i=n("aajL");n.n(i).a},IlXR:function(e,t,n){"use strict";var i=n("nwuA");n.n(i).a},IvBe:function(e,t,n){"use strict";var i=n("B4pb");n.n(i).a},J1PL:function(e,t,n){(e.exports=n("I1BE")(!1)).push([e.i,"\n.wbtn-duration .wduration{\n    font-weight: normal;\n}\n.wbtn-duration .wduration.wsold::after{\n    content: ' - ';\n}\n",""])},JRvF:function(e,t,n){(e.exports=n("I1BE")(!1)).push([e.i,"\n.first-avail {\n    font-size: 12px;\n}\n.first-avail .ddays  {\n    min-width: 170px;\n    font-size: 12px;\n}\n.first-avail .ddays .wbtn{\n    font-size: .7em;\n}\n.wap-front .first-avail .tt-here[data-tt]::before{\n    bottom: 20px;\n}\n.wap-front .first-avail .tt-here[data-tt]::after{\n    display:none;\n}\n.wap-front .werror{\n    color:var(--wappo-error-tx) !important;\n}\n",""])},JiK0:function(e,t,n){(e.exports=n("I1BE")(!1)).push([e.i,"\n.slots-panel{\n    overflow: hidden;\n}\n.d-section {\n    margin: 0 .2em;\n}\n.ds-1{\n    width: 100%;\n}\n.ds-2{\n    width: 48%;\n}\n.ds-3{\n    width: 31%;\n}\n.wbtn span{\n    display:block;\n}\n.wbtn .sleft {\n    color: #f2f2f2;\n    font-size: .7em;\n}\n.wbtn.wbtn-slot {\n    width: 100%;\n    overflow: hidden;\n}\n.wbtn.wbtn-slot,\n.wbtn.wbtn-slot:not(:disabled):not(.disabled):active, \n.wbtn.wbtn-slot:not(:disabled):not(.disabled).active{\n    margin: 0.2em;\n}\n.ds-1 .wbtn.wbtn-slot {\n    width: 31%;\n}\n.day-part{\n    display: block;\n    text-align: center;\n    font-size: .75em;\n    min-height: 28px;\n}\n.timezone{\n    width: 100%;\n}\n\n",""])},JmsA:function(e,t,n){(e.exports=n("I1BE")(!1)).push([e.i,"\n.wappo-health{\n    margin: 0 auto;\n    padding: .5rem;\n    border: 1px solid #ededed;\n    color: #6868aa;\n    border-radius: 1rem 1rem 0 0;\n    bottom: -200px;\n    background-color: #fff;\n    border-bottom: 0;\n    transition: all .5s ease-in-out;\n    opacity: 0;\n    box-shadow: 0 0 0 0 rgba(0,0,0,.1);\n    max-width: 500px;\n    right:0;\n    padding: 1rem;\n    position:fixed;\n    color: #6f6f6f;\n    z-index: 2;\n}\n.wappo-health.show{\n    bottom: 0;\n    opacity: 1;\n    box-shadow: 0 .4rem 1rem 0 rgba(0,0,0,.1);\n}\n.health-checks {\n  background-color: #f0f0f0;\n  padding: .4rem;\n  border-radius: .5rem;\n}\n",""])},JpxJ:function(e,t,n){"use strict";var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();var a=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return i(e,[{key:"suffix",value:function(){return"wappointment/v1"}},{key:"endpoints",value:function(){return{create:{method:"post",route:"/order/create"},pay:{method:"post",route:"/order/pay"},confirm:{method:"post",route:"/order/confirm"},index:{method:"get",route:"orders"},refund:{method:"post",route:"/order/refund"},markpaid:{method:"post",route:"/order/paid"},cancel:{method:"post",route:"/order/cancel"}}}}]),e}();t.a=a},Jvpg:function(e,t,n){"use strict";var i={props:["service","options","selected","viewData","extraClass"],name:"ServiceButton",mixins:[n("OiRY").a],computed:{priceAlignRight:function(){return-1===[void 0,!1].indexOf(this.options.service_selection.check_price_right)},getClasses:function(){var e="wbtn wbtn-cell wbtn-secondary wbtn-service d-flex align-items-center";return""!=this.extraClass&&(e+=" "+this.extraClass),!0===this.selected&&(e+=" selected"),e},serviceHasIcon:function(){return""!=this.service.options.icon},sellable:function(){return this.service.options.woo_sellable&&this.hasPrice&&""!=this.currency},hasPrice:function(){return this.getPrices.length>0},getPrices:function(){for(var e=[],t=0;t<this.service.options.durations.length;t++){var n=this.service.options.durations[t];-1===[void 0,""].indexOf(n.woo_price)&&e.push(n.woo_price)}return e},hasDesc:function(){return-1===["",void 0].indexOf(this.service.options.description)},getPriceRange:function(){var e=this.getPrices;return e.length>1?this.formatPrice(Math.min.apply(null,e))+" - "+this.formatPrice(Math.max.apply(null,e)):this.formatPrice(e[0])}},methods:{selectService:function(){this.$emit("selectService",this.service)}}},a=(n("L8vv"),n("KHd+")),s=Object(a.a)(i,function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{class:e.getClasses,on:{click:e.selectService}},[e.serviceHasIcon?n("WapImage",{attrs:{element:e.service,desc:e.service.name,size:"lg"}}):e._e(),e._v(" "),n("div",{staticClass:"service-label"},[n("div",{staticClass:"service-name"},[e._v(e._s(e.service.name))]),e._v(" "),e.hasDesc?n("div",{staticClass:"description"},[e._v(e._s(e.service.options.description))]):e._e(),e._v(" "),e.sellable&&!e.priceAlignRight?n("div",{staticClass:"service-price"},[e._v(e._s(e.getPriceRange))]):e._e(),e._v(" "),e._t("default")],2),e._v(" "),e.sellable&&e.priceAlignRight?n("div",{staticClass:"service-price price-right",class:{als:e.hasDesc}},[e._v(e._s(e.getPriceRange))]):e._e()],1)},[],!1,null,null,null);t.a=s.exports},KH6Y:function(e,t,n){"use strict";var i={d:"DD",D:"ddd",j:"D",l:"dddd",N:"E",S:"o",w:"e",z:"DDD",W:"W",F:"MMMM",m:"MM",M:"MMM",n:"M",t:"",L:"",o:"YYYY",Y:"YYYY",y:"YY",a:"a",A:"A",B:"",g:"h",G:"H",h:"hh",H:"HH",i:"mm",s:"ss",u:"SSS",v:"",e:"zz",I:"",O:"",P:"",T:"",Z:"",c:"",r:"",U:"X"};t.a=function(e){for(var t=Object.keys(i),n=0;n<t.length;n++)void 0!==t[n]&&(e=e.replace("\\"+t[n],"["+t[n]+"]"));for(var a="",s=!1,o=0;o<e.length;o++)"["==e[o]&&(s=!0),void 0===i[e[o]]||s?a+=e[o]:a+=i[e[o]],"]"==e[o]&&(s=!1);return a}},"KtV/":function(e,t,n){var i=n("F8zI");"string"==typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);(0,n("SZ7m").default)("6da0343d",i,!0,{})},L8vv:function(e,t,n){"use strict";var i=n("8MlL");n.n(i).a},LFG5:function(e,t,n){var i=n("0LHV");"string"==typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);(0,n("SZ7m").default)("89ba4b2e",i,!0,{})},LKNl:function(e,t,n){"use strict";var i=n("Qu3J");n.n(i).a},LNkL:function(e,t,n){"use strict";var i={props:{options:{},tos:{type:Boolean,default:!1}},computed:{getTerms:function(){return this.tos?this.getTos:this.getPP},termsIsOn:function(){return!0===this.getCheck},getTos:function(){return this.getPP.replace("[linktos]",'<a href="'+this.cleanString(this.options.swift_payment.tos_link)+'" target="_blank">').replace("[/linktos]","</a>")},getPP:function(){return this.cleanString(this.getText).replace("[link]",'<a href="'+this.cleanString(this.options.form.terms_link)+'" target="_blank">').replace("[/link]","</a>")},getCheck:function(){return this.tos?this.options.swift_payment.check_tos:this.options.form.check_terms},getText:function(){return this.tos?this.options.swift_payment.tos_text:this.options.form.terms}}},a=(n("OBPl"),n("KHd+")),s=Object(a.a)(i,function(){var e=this.$createElement,t=this._self._c||e;return this.termsIsOn?t("div",{staticClass:"wap-terms",domProps:{innerHTML:this._s(this.getTerms)}}):this._e()},[],!1,null,null,null);t.a=s.exports},LyZl:function(e,t,n){var i=n("1/zx");"string"==typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);(0,n("SZ7m").default)("66e72df9",i,!0,{})},Lz4k:function(e,t,n){var i=n("YctO");"string"==typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);(0,n("SZ7m").default)("9da53dce",i,!0,{})},Nd7V:function(e,t,n){"use strict";var i=n("t2Av");n.n(i).a},NwSl:function(e,t,n){var i=n("o38m");"string"==typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);(0,n("SZ7m").default)("36b9fc60",i,!0,{})},OBPl:function(e,t,n){"use strict";var i=n("5yDa");n.n(i).a},OEWU:function(e,t,n){"use strict";var i=n("qhsB");n.n(i).a},OHi5:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=[],a="M204.3 5C104.9 24.4 24.8 104.3 5.2 203.4c-37 187 131.7 326.4 258.8 306.7 41.2-6.4 61.4-54.6 42.5-91.7-23.1-45.4 9.9-98.4 60.9-98.4h79.7c35.8 0 64.8-29.6 64.9-65.3C511.5 97.1 368.1-26.9 204.3 5zM96 320c-17.7 0-32-14.3-32-32s14.3-32 32-32 32 14.3 32 32-14.3 32-32 32zm32-128c-17.7 0-32-14.3-32-32s14.3-32 32-32 32 14.3 32 32-14.3 32-32 32zm128-64c-17.7 0-32-14.3-32-32s14.3-32 32-32 32 14.3 32 32-14.3 32-32 32zm128 64c-17.7 0-32-14.3-32-32s14.3-32 32-32 32 14.3 32 32-14.3 32-32 32z";t.definition={prefix:"fas",iconName:"palette",icon:[512,512,i,"f53f",a]},t.faPalette=t.definition,t.prefix="fas",t.iconName="palette",t.width=512,t.height=512,t.ligatures=i,t.unicode="f53f",t.svgPathData=a},OiRY:function(e,t,n){"use strict";var i={computed:{currency:function(){return this.currencySymb},priceFormat:function(){return this.wooAddonActive?window.wappointment_woocommerce.currency_format:window.apiWappointment.currency.format},wooAddonActive:function(){return void 0!==window.wappointment_woocommerce&&window.wappointment_woocommerce.installed_at},wooCurrency:function(){return this.wooAddonActive?window.wappointment_woocommerce.currency_symbol:""},wooCurrencyText:function(){return this.wooAddonActive?window.wappointment_woocommerce.currency_text:""},currencySeparator:function(){return this.wooAddonActive?window.wappointment_woocommerce.decimals_sep:window.apiWappointment.currency.decimals_sep},thousandSeparator:function(){return this.wooAddonActive?window.wappointment_woocommerce.thousand_sep:window.apiWappointment.currency.thousand_sep},wappoCurrencyText:function(){return window.apiWappointment.currency.code+" - "+this.wappoCurrency},wappoCurrency:function(){return window.apiWappointment.currency.symbol},currencyCode:function(){return window.apiWappointment.currency.code},currencySymb:function(){return this.wooAddonActive?this.wooCurrency:this.wappoCurrency},currencyText:function(){return this.wooAddonActive?this.wooCurrencyText:this.wappoCurrencyText}},methods:{canSell:function(e){return this.sellable&&""!==this.currency&&-1===[void 0,""].indexOf(e.woo_price)},formatPrice:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return this.priceFormat.replace("[currency]",this.currency).replace("[price]",this.formatThousands(this.displayCents(e*(t?1:100))))},formatCentsPrice:function(e){return this.formatPrice(e,!0)},displayCents:function(e){var t=e/100;return!1===this.currencySeparator?Math.floor(t):t.toFixed(2).replace(".",this.currencySeparator)},formatThousands:function(e){for(var t=e.toString(),n="",i=(!1===this.currencySeparator?t:t.split(this.currencySeparator)[0]).split("").reverse().join(""),a=0;a<i.length;a++)n+=i[a]+((a+1)%3==0&&i.length>a+1?this.thousandSeparator:"");return n.split("").reverse().join("")+(!1===this.currencySeparator?"":this.currencySeparator+t.split(this.currencySeparator)[1])}}},a=n("KHd+"),s=Object(a.a)(i,void 0,void 0,!1,null,null,null);t.a=s.exports},P7gW:function(e,t,n){(e.exports=n("I1BE")(!1)).push([e.i,"\n.btn-xs.disabled {\n  background: none;\n  cursor: not-allowed;\n}\n.titleHover .hoverShow{\n  display:none;\n}\n.titleHover:hover .hoverHide{\n  visibility:hidden;\n}\n.titleHover:hover .hoverShow{\n  display:block;\n  position:absolute;\n  z-index: 2;\n  background-color: #fff;\n  border-bottom: 1px solid #ccc;\n  padding-right: .5rem;\n}\n.lrow:hover{\n  background-color:#f7f7f7;\n}\n.unpublished {\n  color: #ccc;\n}\n",""])},"PCd/":function(e,t,n){"use strict";var i=n("ie8F");n.n(i).a},PdNP:function(e,t){e.exports=function(e){this.message=e,this.name="InvalidMonthsAbbrError"}},PqtY:function(e,t,n){"use strict";var i={data:function(){return{showModal:!1,modalTitle:""}},methods:{openPopup:function(e){this.modalTitle=e,this.showModal=!0},hidePopup:function(e){this.modalTitle="popTitle",this.showModal=!1,void 0!==this.hideElementsPopup&&this.hideElementsPopup()}}},a=n("KHd+"),s=Object(a.a)(i,void 0,void 0,!1,null,null,null);t.a=s.exports},PwNG:function(e,t,n){var i=n("EUEc");"string"==typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);(0,n("SZ7m").default)("6230efdf",i,!0,{})},"Q+ZH":function(e,t,n){var i=n("uChi");"string"==typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);(0,n("SZ7m").default)("661e781e",i,!0,{})},Q6gv:function(e,t,n){"use strict";var i=n("A5Wa"),a=n("KH6Y"),s="\\n",o={props:["service","staff","currentTz","physicalSelected","appointment","showResult","options","ticket"],methods:{goToUrl:function(e){window.open(e)},toIsoString:function(e){return e.toISOString().replace(/-|:|\.\d+/g,"")},getTitle:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return(t?"<strong>":"")+e+(t?"</strong>":"")},getAppointmentDetails:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];switch(this.appointment.type){case"phone":return this.getTitle(this.options.i18n.a_is_phone,e)+s+this.options.i18n.a_with_phone.replace("%s",this.getClientPhone);case"zoom":return this.getTitle(this.options.i18n.a_is_video,e)+s+this.options.i18n.a_with_videolink+s+this.generateLink("view-event",e,this.options.i18n.begin_meeting);case"skype":return this.getTitle(this.options.i18n.a_is_skype,e)+s+this.options.i18n.a_with_phone.replace("%s",this.getSkypeUsername);case"physical":return s+this.getTitle(this.options.i18n.a_is_address,e)+s+this.eventLocation}},eventDescription:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=e?apiWappointment.signature.replace("https://wappointment.com",'<a href="https://wappointment.com?utm_source=plugin&utm_medium=ics&utm_campaign=appointment">Wappointment</a>'):apiWappointment.signature;return this.getAppointmentDetails(e)+this.getLinks(e)+s+this.getLineSeparator("_",t.length/2)+s+s+t},getLineSeparator:function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"-",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:30,n="";n.length<t+1;)n+=e;return n},generateLink:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"view-event",t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",i=-1===apiWappointment.frontPage.indexOf("?")?"?":"&",a=apiWappointment.frontPage+i+"view="+e+"&appointmentkey="+this.appointment.edit_key;return this.getLink(window.wappointmentExtends.filter("urlAppointmentKey",a,{appointment:this.appointment,ticket:this.ticket}),t,n)},getLink:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";return(t?"<a href='"+e+"' target='_blank'>":"")+(t&&""!=n?n:e)+(t?"</a>":"")},getLinks:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return e?s+s+(this.canReschedule?this.generateLink("reschedule-event",e,this.options.i18n.reschedule):"")+(this.canCancel&&this.canReschedule?" - ":"")+(this.canCancel?this.generateLink("cancel-event",e,this.options.i18n.cancel):""):(this.canReschedule?s+s+this.appointment.reschedule_until_text.replace("&#10;","").replace("\n",s):"")+(this.canCancel?s+s+this.appointment.cancel_until_text.replace("&#10;","").replace("\n",s)+" "+s+this.generateLink("cancel-event"):"")},getUnixNow:function(){return Object(i.a)().unix()},getPhysicalAddress:function(){var e=this.appointment.location_id,t=this.service.locations.find(function(t){return t.id==e});return void 0!==t?t.options.address:this.appointment.location_label}},computed:{canCancel:function(){return void 0!==this.appointment.can_cancel_until&&this.getUnixNow()<this.appointment.can_cancel_until},canReschedule:function(){return void 0!==this.appointment.can_reschedule_until&&this.getUnixNow()<this.appointment.can_reschedule_until},isoFormat:function(){return Object(a.a)("Ymd")+"[T]"+Object(a.a)("His")},startDate:function(){return i.a.unix(this.appointment.start_at)},getDuration:function(){return this.service.duration},endDate:function(){return i.a.unix(this.endDateMinusBuffer)},endDateMinusBuffer:function(){var e=void 0!==this.appointment.options.buffer_time?60*parseInt(this.appointment.options.buffer_time):0;return this.appointment.end_at-e},formattedStartDate:function(){return this.startDate.format(this.isoFormat)},formattedEndDate:function(){return this.endDate.format(this.isoFormat)},formattedStartDateMS:function(){return this.startDate.toISOString()},formattedEndDateMS:function(){return this.endDate.toISOString()},encodedEventTitle:function(){return encodeURIComponent(this.eventTitle)},eventTitle:function(){return this.service.name+" - "+this.staff.n},getSkypeUsername:function(){return void 0!==this.appointment.client.options&&void 0!==this.appointment.client.options.skype?this.appointment.client.options.skype:""},getClientPhone:function(){return void 0!==this.appointment.client.options&&void 0!==this.appointment.client.options.phone?this.appointment.client.options.phone:""},encodedEventTZ:function(){return encodeURIComponent(this.currentTz)},eventLocation:function(){return"physical"==this.appointment.type?this.getPhysicalAddress():this.appointment.location_label},saveToIcal:function(){return encodeURI("data:text/calendar;charset=utf8,"+["BEGIN:VCALENDAR","VERSION:2.0","BEGIN:VEVENT",this.appointment.ics_organizer,"CATEGORIES:APPOINTMENT","TRANSP:OPAQUE","URL:"+document.URL,"DTSTART:"+this.formattedStartDate,"DTEND:"+this.formattedEndDate,"SUMMARY:"+this.eventTitle,"DESCRIPTION:"+this.eventDescription(),"LOCATION:"+this.eventLocation,"END:VEVENT","END:VCALENDAR"].join("\n"))},saveToYahoo:function(){var e="https://calendar.yahoo.com/?v=60&view=d&type=20";return e+="&title="+this.encodedEventTitle,e+="&st="+this.formattedStartDate,e+="&et="+this.formattedEndDate,e+="&in_loc="+encodeURIComponent(this.eventLocation.replaceAll("\n",", ")),e+="&desc="+encodeURIComponent(this.eventDescription().replaceAll("\\n","\n"))},saveToGoogle:function(){var e="http://www.google.com/calendar/event?action=TEMPLATE";return e+="&text="+this.encodedEventTitle,e+="&dates="+this.formattedStartDate+"/"+this.formattedEndDate,e+="&ctz="+this.encodedEventTZ,e+="&trp=true",e+="&sprop="+apiWappointment.apiSite,e+="&details="+encodeURIComponent(this.eventDescription(!0).replaceAll("\\n","<br/>")),e+="&location="+encodeURIComponent(this.eventLocation.replaceAll("\n",", "))},saveToOutlookOnline:function(){var e="https://outlook.live.com/calendar/0/deeplink/compose?path=/calendar/action/compose&rru=addevent";return e+="&subject="+encodeURIComponent(this.eventTitle.replaceAll(" ","\n")),e+="&startdt="+this.formattedStartDateMS,e+="&enddt="+this.formattedEndDateMS,e+="&location="+encodeURIComponent(this.eventLocation.replaceAll("\n",", ").replaceAll(" ","\n")),e+="&body="+encodeURIComponent(this.eventDescription(!0).replaceAll("\\n","<br/>").replaceAll(" ","\n"))}}},r=(n("hZNi"),n("KHd+")),l=Object(r.a)(o,function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"saveButtons"},[n("span",{staticClass:"wbtn-secondary wbtn googlecal d-flex align-items-center d-flex-inline",attrs:{role:"button"},on:{click:function(t){e.goToUrl(e.saveToGoogle)}}},[n("WapImage",{attrs:{faIcon:["fab","google"],size:"md"}}),e._v(" "),n("span",{staticClass:"ml-2"},[e._v("Google")])],1),e._v(" "),n("a",{staticClass:"wbtn-secondary wbtn outlook d-flex align-items-center d-flex-inline",attrs:{href:e.saveToIcal,download:"event.ics"}},[n("WapImage",{attrs:{faIcon:["fab","windows"],size:"md"}}),e._v(" "),n("span",{staticClass:"ml-2"},[e._v("Outlook")])],1),e._v(" "),n("span",{staticClass:"wbtn-secondary wbtn outlook d-flex align-items-center d-flex-inline",attrs:{role:"button"},on:{click:function(t){e.goToUrl(e.saveToOutlookOnline)}}},[n("WapImage",{attrs:{faIcon:["fab","windows"],size:"md"}}),e._v(" "),n("span",{staticClass:"ml-2"},[e._v("Outlook Live")])],1),e._v(" "),n("a",{staticClass:"wbtn-secondary wbtn d-flex align-items-center d-flex-inline",attrs:{href:e.saveToIcal,download:"event.ics"}},[n("WapImage",{attrs:{faIcon:["fab","apple"],size:"md"}}),e._v(" "),n("span",{staticClass:"ml-2"},[e._v("iCal")])],1),e._v(" "),n("span",{staticClass:"wbtn-secondary wbtn d-flex align-items-center d-flex-inline",attrs:{role:"button"},on:{click:function(t){e.goToUrl(e.saveToYahoo)}}},[n("WapImage",{attrs:{faIcon:["fab","yahoo"],size:"md"}}),e._v(" "),n("span",{staticClass:"ml-2"},[e._v("Yahoo")])],1)])},[],!1,null,null,null);t.a=l.exports},QJKy:function(e,t){e.exports=function(e){this.message=e,this.name="InvalidWeekdayError"}},Qi5d:function(e,t,n){"use strict";var i=n("FYyN"),a=n("c+oO"),s=n("ZfG2");var o,r,l={mixins:[i.a],components:{SearchDropdown:s.a},props:{preview:{type:Boolean,default:!0},title:{type:String,default:""},calendar_id:{default:!1},service_id:{default:!1},calendars:{default:null},services:{default:null},simple:{default:!1},canLockStaff:{default:!1},canLockService:{default:!1},popupInit:{default:!1}},data:function(){return{large:!1,open:!1,popup:!1,close_cross:!1,random:!1,center:!1,week:!1,staffpage:!1,titleGiven:"",active_staff_id:!1,active_service_id:!1,calendars_data:null,services_data:null,servicesService:null,calendarsService:null}},created:function(){this.titleGiven=this.title,this.active_staff_id=this.calendar_id,this.active_service_id=this.service_id,this.calendarsService=this.$vueService(new a.a),this.popup=this.popupInit,this.services&&this.calendars?this.setBaseData(this.calendars,this.services):this.loadCalendars()},methods:{setBaseData:function(e,t){this.calendars_data=e,this.services_data=t},loadCalendars:function(){this.request(this.requestCalendars,{},void 0,!1,this.loadedCalendars)},loadedCalendars:function(e){this.setBaseData(e.data.calendars,e.data.services)},requestCalendars:(o=regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.calendarsService.call("index",t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e,this)}),r=function(){var e=o.apply(this,arguments);return new Promise(function(t,n){return function i(a,s){try{var o=e[a](s),r=o.value}catch(e){return void n(e)}if(!o.done)return Promise.resolve(r).then(function(e){i("next",e)},function(e){i("throw",e)});t(r)}("next")})},function(e){return r.apply(this,arguments)})},watch:{active_staff_id:function(e){-1===[void 0,!1,""].indexOf(e)&&(this.staffpage=!1)},popup:function(e){e&&(this.center=!1,this.large=!1)},staffpage:function(e){e&&(this.random=!1)}},computed:{staffSelected:function(){return-1===[void 0,!1,""].indexOf(this.active_staff_id)},filteredCalendars:function(){if(this.active_service_id&&this.calendars_data){var e=this.active_service_id;return this.calendars_data.filter(function(t){return-1!==t.services.indexOf(e)})}return this.calendars_data},filteredServices:function(){if(this.active_staff_id&&this.services_data){var e=this.active_staff_id,t=this.calendars_data.find(function(t){return t.id==e}).services;return this.services_data.filter(function(e){return-1!==t.indexOf(e.id)})}return this.services_data},getShortCode:function(){var e='wap_widget title="'+this.titleGiven+'"';return e+=this.large?" large ":"",e+=this.open?" open ":"",e+=this.popup?" popup ":"",e+=this.close_cross?" close_cross ":"",e+=this.center?" center ":"",e+=this.week?" week ":"",e+=this.staffpage?" staff_page ":"",e+=this.random?" random ":"",e+=this.active_staff_id?' staff="'+this.active_staff_id+'" ':"",e="["+(e+=this.active_service_id?' service="'+this.active_service_id+'" ':"")+"]",this.$emit("change",e,{largeVersion:this.large,autoOpen:this.open,popup:this.popup,close_cross:this.close_cross,week:this.week,center:this.center,staffPage:this.staffpage,random:this.random,buttonTitle:this.titleGiven}),e},previewSCimg:function(){var e="widget_"+(this.open?"cal_":"")+(this.large?"lg":this.center?"sm-c":"sm")+".svg";return window.apiWappointment.resourcesUrl+"images/"+e}}},c=(n("xX18"),n("KHd+")),d=Object(c.a)(l,function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"d-flex align-items-center justify-content-between"},[n("div",{staticClass:"commands-div"},[n("div",{attrs:{"data-tt":"Booking button's title"}},[n("label",[n("InputPh",{attrs:{ph:e.get_i18n("bwe_widget_button_title","common")},model:{value:e.titleGiven,callback:function(t){e.titleGiven=t},expression:"titleGiven"}})],1)]),e._v(" "),n("div",{attrs:{"data-tt":e.get_i18n("bwe_widget_ck_fs_popup_tip","common")}},[n("label",[n("input",{directives:[{name:"model",rawName:"v-model",value:e.popup,expression:"popup"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.popup)?e._i(e.popup,null)>-1:e.popup},on:{change:function(t){var n=e.popup,i=t.target,a=!!i.checked;if(Array.isArray(n)){var s=e._i(n,null);i.checked?s<0&&(e.popup=n.concat([null])):s>-1&&(e.popup=n.slice(0,s).concat(n.slice(s+1)))}else e.popup=a}}}),e._v(" "+e._s(e.get_i18n("bwe_widget_ck_fs_popup","common")))])]),e._v(" "),e.popup?n("div",{staticClass:"ml-2"},[n("label",[n("input",{directives:[{name:"model",rawName:"v-model",value:e.close_cross,expression:"close_cross"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.close_cross)?e._i(e.close_cross,null)>-1:e.close_cross},on:{change:function(t){var n=e.close_cross,i=t.target,a=!!i.checked;if(Array.isArray(n)){var s=e._i(n,null);i.checked?s<0&&(e.close_cross=n.concat([null])):s>-1&&(e.close_cross=n.slice(0,s).concat(n.slice(s+1)))}else e.close_cross=a}}}),e._v(" "+e._s(e.get_i18n("bwe_widget_ck_fs_popup_closes","common")))])]):e._e(),e._v(" "),n("div",{attrs:{"data-tt":"Center the widget within the container"}},[n("label",[n("input",{directives:[{name:"model",rawName:"v-model",value:e.center,expression:"center"}],attrs:{type:"checkbox",disabled:e.popup},domProps:{checked:Array.isArray(e.center)?e._i(e.center,null)>-1:e.center},on:{change:function(t){var n=e.center,i=t.target,a=!!i.checked;if(Array.isArray(n)){var s=e._i(n,null);i.checked?s<0&&(e.center=n.concat([null])):s>-1&&(e.center=n.slice(0,s).concat(n.slice(s+1)))}else e.center=a}}}),e._v(" "+e._s(e.get_i18n("bwe_widget_ck_center","common")))])]),e._v(" "),n("div",{attrs:{"data-tt":"Opens the calendar's step automatically"}},[n("label",[n("input",{directives:[{name:"model",rawName:"v-model",value:e.open,expression:"open"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.open)?e._i(e.open,null)>-1:e.open},on:{change:function(t){var n=e.open,i=t.target,a=!!i.checked;if(Array.isArray(n)){var s=e._i(n,null);i.checked?s<0&&(e.open=n.concat([null])):s>-1&&(e.open=n.slice(0,s).concat(n.slice(s+1)))}else e.open=a}}}),e._v(" "+e._s(e.get_i18n("bwe_widget_ck_open","common")))])]),e._v(" "),n("div",{attrs:{"data-tt":"Calendar will expand to the container's width"}},[n("label",[n("input",{directives:[{name:"model",rawName:"v-model",value:e.large,expression:"large"}],attrs:{type:"checkbox",disabled:e.popup},domProps:{checked:Array.isArray(e.large)?e._i(e.large,null)>-1:e.large},on:{change:function(t){var n=e.large,i=t.target,a=!!i.checked;if(Array.isArray(n)){var s=e._i(n,null);i.checked?s<0&&(e.large=n.concat([null])):s>-1&&(e.large=n.slice(0,s).concat(n.slice(s+1)))}else e.large=a}}}),e._v(" "+e._s(e.get_i18n("bwe_widget_ck_full","common")))])]),e._v(" "),n("div",{attrs:{"data-tt":"Show a week view instead of the full month"}},[n("label",[n("input",{directives:[{name:"model",rawName:"v-model",value:e.week,expression:"week"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.week)?e._i(e.week,null)>-1:e.week},on:{change:function(t){var n=e.week,i=t.target,a=!!i.checked;if(Array.isArray(n)){var s=e._i(n,null);i.checked?s<0&&(e.week=n.concat([null])):s>-1&&(e.week=n.slice(0,s).concat(n.slice(s+1)))}else e.week=a}}}),e._v(" "+e._s(e.get_i18n("bwe_widget_ck_week","common")))])]),e._v(" "),n("div",{attrs:{"data-tt":"The first screen in your booking form will be a staff selection page(if you have more than one staff)"}},[n("label",{class:{"text-muted":e.staffSelected}},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.staffpage,expression:"staffpage"}],attrs:{disabled:e.staffSelected,type:"checkbox"},domProps:{checked:Array.isArray(e.staffpage)?e._i(e.staffpage,null)>-1:e.staffpage},on:{change:function(t){var n=e.staffpage,i=t.target,a=!!i.checked;if(Array.isArray(n)){var s=e._i(n,null);i.checked?s<0&&(e.staffpage=n.concat([null])):s>-1&&(e.staffpage=n.slice(0,s).concat(n.slice(s+1)))}else e.staffpage=a}}}),e._v(" "+e._s(e.get_i18n("bwe_widget_ck_staff","common")))])]),e._v(" "),n("div",{attrs:{"data-tt":"Random selection of the staff"}},[n("label",[n("input",{directives:[{name:"model",rawName:"v-model",value:e.random,expression:"random"}],attrs:{type:"checkbox",disabled:e.staffpage},domProps:{checked:Array.isArray(e.random)?e._i(e.random,null)>-1:e.random},on:{change:function(t){var n=e.random,i=t.target,a=!!i.checked;if(Array.isArray(n)){var s=e._i(n,null);i.checked?s<0&&(e.random=n.concat([null])):s>-1&&(e.random=n.slice(0,s).concat(n.slice(s+1)))}else e.random=a}}}),e._v(" "+e._s(e.get_i18n("bwe_widget_ck_random","common")))])]),e._v(" "),e.simple?e._e():[e.filteredCalendars?n("div",[n("SearchDropdown",{attrs:{ph:"Lock Calendar/Staff",elements:e.filteredCalendars,labelSearchKey:"name"},model:{value:e.active_staff_id,callback:function(t){e.active_staff_id=t},expression:"active_staff_id"}})],1):e._e(),e._v(" "),e.filteredServices?n("div",{staticClass:"mt-2"},[n("SearchDropdown",{attrs:{ph:"Lock Service",elements:e.filteredServices,labelSearchKey:"name"},model:{value:e.active_service_id,callback:function(t){e.active_service_id=t},expression:"active_service_id"}})],1):e._e()]],2),e._v(" "),e.preview?n("div",[n("img",{staticClass:"img-fluid",attrs:{src:e.previewSCimg,alt:"preview booking button shape",width:"100"}})]):e._e(),e._v(" "),n("span",{staticStyle:{display:"none"}},[e._v(e._s(e.getShortCode))])])},[],!1,null,null,null);t.a=d.exports},Qjxm:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=[],a="M433.941 129.941l-83.882-83.882A48 48 0 0 0 316.118 32H48C21.49 32 0 53.49 0 80v352c0 26.51 21.49 48 48 48h352c26.51 0 48-21.49 48-48V163.882a48 48 0 0 0-14.059-33.941zM224 416c-35.346 0-64-28.654-64-64 0-35.346 28.654-64 64-64s64 28.654 64 64c0 35.346-28.654 64-64 64zm96-304.52V212c0 6.627-5.373 12-12 12H76c-6.627 0-12-5.373-12-12V108c0-6.627 5.373-12 12-12h228.52c3.183 0 6.235 1.264 8.485 3.515l3.48 3.48A11.996 11.996 0 0 1 320 111.48z";t.definition={prefix:"fas",iconName:"save",icon:[448,512,i,"f0c7",a]},t.faSave=t.definition,t.prefix="fas",t.iconName="save",t.width=448,t.height=512,t.ligatures=i,t.unicode="f0c7",t.svgPathData=a},Qqy9:function(e,t){e.exports=function(e){this.message=e,this.name="InvalidWeekdaysError"}},Qu3J:function(e,t,n){var i=n("kcK7");"string"==typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);(0,n("SZ7m").default)("321f0db9",i,!0,{})},"R+kQ":function(e,t,n){var i=n("Acyh");"string"==typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);(0,n("SZ7m").default)("7b2762cc",i,!0,{})},RAtP:function(e,t,n){var i=n("P7gW");"string"==typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);(0,n("SZ7m").default)("0a21cbde",i,!0,{})},Rhu5:function(e,t,n){"use strict";var i=n("KtV/");n.n(i).a},"S/cw":function(e,t,n){(e.exports=n("I1BE")(!1)).push([e.i,"\n.bullet-title{\n    color: #777;\n    border-bottom: 1px solid #c2c1cc;\n    font-weight: bold;\n}\n.bullet-wap{\n    border: 1px solid var(--primary);\n    padding: .35rem;\n    border-radius: 1.2rem;\n    height: 2rem;\n    width: 2rem;\n    display: inline-block;\n    text-align: center;\n    font-size: 1rem;\n    color: var(--primary);\n    margin-right: .5rem;\n    background-color: #fff;\n}\n.changename .label-wrapper{\n    margin-bottom: 0 !important;\n}\n.account-selector{\n    width: 380px;\n}\n.cal-edit-margin{\n    margin-left: 48px;\n}\n.mr-6{\n    margin-right: 3rem !important;\n}\n",""])},S2VW:function(e,t,n){(e.exports=n("I1BE")(!1)).push([e.i,"\n#buttons-block .btn-secondary.btn-cell.btn-xs{\n  padding: .45rem !important;\n  font-size: 0.775rem !important;\n}\n",""])},SIU3:function(e,t,n){(e.exports=n("I1BE")(!1)).push([e.i,"\n.slot {\n    border-radius: .3rem;\n    font-size: 13px;\n}\n.slot img{\n  max-height: 20px;\n}\n.wservices-list {\n    background-color: #f0f0f0;\n    border-radius: .6em;\n    padding: 1rem;\n    width:300px;\n}\n.wservices-list .label-title{\n    width:116px;\n    font-size: .9rem;\n}\n.wservices-list .slot {\n    margin-bottom: .9em;\n    color: #535353;\n}\n.wservices-list .slot.disabled {\n    color: #b9b2b2;\n}\n\n",""])},Sc83:function(e,t,n){(e.exports=n("I1BE")(!1)).push([e.i,"\n.widget-wraper{\n    box-shadow: inset 0 0 5px #959090;\n    width: 430px;\n}\n@media (min-width: 1410px) {\n.widget-wraper{\n        width: 850px !important;\n}\n}\n@media (max-width: 876px) {\n.widget-wraper{\n        padding: 0 !important;\n        padding-top: 1rem !important;\n}\n}\n\n",""])},U6kT:function(e,t,n){var i=n("rzUR");"string"==typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);(0,n("SZ7m").default)("74f05647",i,!0,{})},US5p:function(e,t,n){"use strict";var i=n("3X8r");n.n(i).a},UgAb:function(e,t,n){"use strict";var i={computed:{getMinText:function(){return void 0===this.options.general||void 0===this.options.general.min?"min":this.options.general.min}}},a=n("KHd+"),s=Object(a.a)(i,void 0,void 0,!1,null,null,null);t.a=s.exports},UiLO:function(e,t,n){(e.exports=n("I1BE")(!1)).push([e.i,"\n.min-label{\n  min-width : 20%;\n}\n.btn-danger{\n  color: #fff;\n}\n[data-active-page='advanced'] .card{\n  max-width: none;\n}\n\n",""])},UrQX:function(e,t,n){"use strict";var i={classPrefix:"bbcode",newLine:!1,allowData:!1,allowClasses:!1};e.exports={render:function(e,t){var n=new RegExp("\\[(\\w+)(?:[= ]([^\\]]+))?]((?:.|[\r\n])*?)\\[/\\1]","ig");return i=Object.assign(i,t),t.newLine&&(e=e.replace(/\r?\n/g,"<br>")),e.replace(n,function(e,t,n,a){t=t.toLowerCase();var s,o,r,l="",c=function(e,t){var n={attr:{},class:[],data:{}};if(!t)return n;if(t=t.match(/[a-zA-Z0-9_-]+=(\'|").*?(\'|")/g))for(var i=0;i<t.length;i++){var a=t[i];"class"===(a=a.trim().split("=").map(function(e){return e.replace(/(^(\'|")+|(\'|")+$)/gm,"")}))[0]?n.class.push(a[1]):n[a[0].includes("data-")?"data":"attr"][a[0]]=a[1]}return n}(0,/\[(.*?)\]/g.exec(e)[1]),d={attr:c.attr,data:i.allowData?(s=c.data,o="",Object.keys(s).forEach(function(e){o+=" "+e+'="'+s[e]+'" '}),o):"",class:i.allowClasses?i.classPrefix+" "+c.class.join(" ")+" ":i.classPrefix+" "};switch(t){case"url":return l='<a class="'+d.class+'link" '+d.data,d.attr.alt&&(l+=' alt="'+d.attr.alt+'"'),l+' href="'+(void 0!==(r=d).attr.wurl?"admin.php?page="+r.attr.wurl:r.attr.url)+'">'+a+"</a>";case"b":return"<strong "+d.data+" >"+a+"</strong>";case"i":return"<em "+d.data+" >"+a+"</em>";case"u":return'<span style="text-decoration:underline" '+d.data+" >"+a+"</span>";case"s":return'<span style="text-decoration:line-through" '+d.data+" >"+a+"</span>";case"list":case"ol":case"ul":return"list"===t&&(t="ul"),l="<"+t+" "+d.data+' class="'+d.class+'">',(l+=a.replace(new RegExp("\\[li]((?:.|[\r\n])*?)\\[/li]","ig"),function(e,t){return"<li>"+t.trim()+"</li>"}))+"</"+t+">";case"span":case"h1":case"h2":case"h3":case"h4":case"h5":case"h6":return"<"+t+d.data+' class="'+d.class+" "+t+'">'+a+"</"+t+">";case"img":return l='<img class="'+d.class+'image" src="'+a+" "+d.data+'"',d.attr.width&&(l+=' width="'+d.attr.width+'px"'),d.attr.height&&(l+=' height="'+d.attr.height+'px"'),d.attr.title&&(l+=' title="'+d.attr.title+'"'),d.attr.alt&&(l+=' alt="'+d.attr.alt+'"'),l+">"}return e}.bind())},version:"1.0.0"}},VHDP:function(e,t,n){var i=n("+vtg");"string"==typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);(0,n("SZ7m").default)("1140e80f",i,!0,{})},VQM7:function(e,t,n){"use strict";var i=n("gzyJ"),a=n("5qZH"),s=n("whSN"),o=n("mkhk"),r=n("wUn3"),l=n("76M+"),c=function(e){return{component:e,loading:r.a,error:l.a,delay:100,timeout:3e4}},d=n("tOgP"),u={mixins:[s.a,o.a,d.a],props:["classEl","options","step","attributesEl"],components:{BookingButton:i.a,StyleGenerator:a.a,ViewingAppointment:function(){return c(Promise.all([n.e(5),n.e(4),n.e(21)]).then(n.bind(null,"ALPF")))},BookingForm:function(){return c(Promise.all([n.e(2),n.e(5),n.e(4),n.e(13)]).then(n.bind(null,"gIVG")))}},data:function(){return{bookForm:!1,currentStep:null,dataSent:null,opts:null,elementId:"",stepName:"",buttonTitle:"",brFixed:void 0,popup:!1,largeVersion:!1,autoPop:!0,closeCross:!1,demoAs:!1,stepChanging:!1}},created:function(){this.elementId="wapfrontwrapper-"+Date.now(),void 0!==this.step&&(this.currentStep=this.step),this.opts=void 0===this.options?Object.assign({},window.widgetWappointment):Object.assign({},this.options),this.processShortcode()},mounted:function(){this.processAutoOpens()},watch:{step:function(e){this.currentStep=e},currentStep:function(e){void 0!==e&&(this.bookForm=-1===["button"].indexOf(e))},bookForm:function(e){!1===e&&this.$emit("changedStep","button")}},computed:{attributesElProcess:function(){var e=Object.assign({},this.attributesEl);return this.getParameterByName("staff")&&(e.staffSelection=this.getParameterByName("staff")),this.isNewEventPage&&(e.staffPage=1),this.castAttributes(e)},getStepName:function(){return"step-"+(this.bookForm?this.stepName:"button")},getWidClass:function(){return{"wap-abs":this.hasCloseCross&&this.isMobilePhone&&this.autoPop,"d-flex justify-content-center":1==this.attributesEl.center}},bgEnabled:function(){return this.bookForm&&(this.isBottomRight||this.isMobilePhone||this.popup)},canPop:function(){return this.bgEnabled&&this.isMobilePhone&&this.autoPop},isExpanded:function(){return this.bookForm&&this.canPop},isPoppedUp:function(){return this.popup&&this.bookForm},hasCloseCross:function(){return this.bgEnabled&&(this.isBottomRight||this.isExpanded||this.isPoppedUp)},getDynaClasses:function(){var e={"br-fixed":this.isBottomRight,"large-version":this.largeVersion,wmobile:this.isMobilePhone,wdesk:!this.isMobilePhone,wexpanded:this.isExpanded,poppedup:this.isPoppedUp};return-1===[null,void 0,!1].indexOf(this.getWidthClass)&&(e[this.getWidthClass]=!0),-1===[null,void 0,!1].indexOf(this.getParameterByName("view"))&&(e[this.getParameterByName("view")]=!0),e},getElement:function(){return!(!this.elementId||!1!==this.stepChanging)&&document.getElementById(this.elementId)},getWidthClass:function(){if(-1===[null,!1].indexOf(this.getElement)){if(this.getElement.clientWidth>360)return"over360";if(this.getElement.clientWidth>320)return"over320";if(this.getElement.clientWidth>280)return"over280"}},isPortraitMode:function(){return window.innerHeight>window.innerWidth},isMobilePhone:function(){return window.innerWidth<500&&this.isPortraitMode},realButtonTitle:function(){return void 0!==this.options&&void 0!==this.options.button.title?this.options.button.title:this.buttonTitle},isPage:function(){return"wappointment_page"===this.classEl},isBookingPage:function(){return this.isPage&&this.isNewEventPage},isNewEventPage:function(){return"new-event"===this.getParameterByName("view")},isWidget:function(){return"wappointment_widget"===this.classEl},isBottomRight:function(){return void 0!==this.brFixed&&!0===this.brFixed},getView:function(){return this.step||this.getParameterByName("view")},hasAttributesToProcess:function(){return void 0!==this.attributesEl&&Object.keys(this.attributesEl).length>0}},methods:{serviceSelectionAttribute:function(){for(var e=-1!==this.attributesEl.serviceSelection.indexOf(",")?this.attributesEl.serviceSelection.split(","):[this.attributesEl.serviceSelection],t=0;t<e.length;t++)e[t]=parseInt(e[t]);return e},castAttributes:function(e){for(var t=["staffSelection"],n=0;n<t.length;n++){var i=t[n];e[i]&&(e[i]=parseInt(e[i]))}return void 0!==e.serviceSelection&&(e.serviceSelection=this.serviceSelectionAttribute()),e},stepChanged:function(e){this.stepName=e,this.stepChanging=!0,setTimeout(this.changedStep,200)},changedStep:function(){this.stepChanging=!1},processShortcode:function(){this.hasAttributesToProcess&&(this.buttonTitle=void 0!==this.attributesEl.buttonTitle?this.attributesEl.buttonTitle:this.buttonTitle,this.brFixed=void 0!==this.attributesEl.brcFloats,this.demoAs=void 0!==this.attributesEl.demoAs,this.largeVersion=-1===[void 0,!1].indexOf(this.attributesEl.largeVersion),this.opts.selection.check_viewweek=-1===[void 0,!1].indexOf(this.attributesEl.week),this.autoPop=-1!==[void 0,!1].indexOf(this.attributesEl.popOff),this.popup=this.attributeIsEmpty("popup")&&!this.demoAs,this.closeCross=void 0!==this.attributesEl.closeCross,this.opts.attributesEl=Object.assign({},this.attributesEl))},attributeIsEmpty:function(e){return-1===[!1,void 0].indexOf(this.attributesEl[e])},translateAttributesEl:function(){var e={};for(var t in this.attributesEl)this.attributesEl.hasOwnProperty(t)&&-1!==["buttonTitle","brFixed","demoAs","largeVersion","week","popOff","autoOpen","autoPop","staffSelection","serviceSelection"].indexOf(t)&&(e[t]=this.attributesEl[t]);return e},processAutoOpens:function(){this.hasAttributesToProcess&&-1===[void 0,!1].indexOf(this.attributesEl.autoOpen)&&(this.autoPop=-1===[void 0,!1].indexOf(this.attributesEl.autoPop),this.toggleBookForm())},backToButtonFromBg:function(){return(!this.closeCross||!this.isPoppedUp)&&(this.backToButton(),!0)},backToButton:function(){if((this.canPop||this.popup)&&(document.documentElement.classList.remove("wappo-popped"),document.body.classList.remove("wappo-popped")),this.popup){var e=document.getElementById("clone-"+this.elementId),t=e.getElementsByClassName("wap-front")[0];document.getElementById(this.elementId).appendChild(t),e.remove()}this.bookForm=!1},toggleBookForm:function(){if(this.bookForm=!this.bookForm,this.popup){var e=document.getElementById(this.elementId).getElementsByClassName("wap-front")[0],t=document.createElement("div");t.setAttribute("id","clone-"+this.elementId),document.getElementById("wap-footer-container").appendChild(t),t.appendChild(e)}(this.canPop||this.popup)&&(document.body.classList.add("wappo-popped"),document.documentElement.classList.add("wappo-popped"))}}},p=(n("squi"),n("KHd+")),h=Object(p.a)(u,function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:e.elementId}},[n("div",{staticClass:"wap-front",class:e.getDynaClasses},[n("StyleGenerator",{attrs:{options:e.opts,wrapper:e.elementId,largeVersion:e.largeVersion}}),e._v(" "),e.isPage?n("div",{class:"step-"+e.stepName},[e.isBookingPage?n("BookingForm",{attrs:{options:e.opts,wrapperid:e.elementId,attributesEl:e.attributesElProcess},on:{changedStep:e.stepChanged}}):n("ViewingAppointment",{attrs:{options:e.opts,view:e.getView,appointmentkey:e.getParameterByName("appointmentkey")}})],1):e._e(),e._v(" "),n("div",{staticClass:"wappo_module",class:e.getWidClass,on:{click:function(t){return t.target!==t.currentTarget?null:e.backToButtonFromBg(t)}}},[e.isWidget?n("div",{staticClass:"wap-wid wclosable",class:e.getStepName},[e.hasCloseCross?n("span",{staticClass:"wclose",on:{click:e.backToButton}}):e._e(),e._v(" "),e.bookForm?n("BookingForm",{attrs:{demoAs:e.demoAs,step:e.currentStep,options:e.opts,attributesEl:e.attributesElProcess,wrapperid:e.elementId,passedDataSent:e.dataSent},on:{changedStep:e.stepChanged}}):n("BookingButton",{staticClass:"wbtn wbtn-booking wbtn-primary",attrs:{options:e.opts},on:{click:e.toggleBookForm}},[e._v(e._s(e.realButtonTitle))])],1):e._e()]),e._v(" "),e.bgEnabled?n("div",{staticClass:"wap-bg",on:{click:e.backToButtonFromBg}}):e._e()],1)])},[],!1,null,null,null);t.a=h.exports},VaHL:function(e,t,n){"use strict";var i=n("GDSN");n.n(i).a},W79H:function(e,t,n){(e.exports=n("I1BE")(!1)).push([e.i,"\n.wap-front.large-version .wap-wid.step-BookingServiceSelection {\n    max-width:100%;\n}\n",""])},WJvZ:function(e,t,n){(e.exports=n("I1BE")(!1)).push([e.i,"\n.progress {\n    width:40%;\n    height: 2.2rem;\n    margin-right: 2rem;\n    margin-left: 1rem;\n}\n.bg-info {\n    background-color: #d1d1d1 !important;\n    color: #4d4949;\n    font-size: .9rem;\n    font-weight: bold;\n    transition: all 0.3s ease-in;\n}\n@media (max-width: 769px) {\n.progress {\n        height: 1.6rem;\n}\n}\n\n",""])},X8YZ:function(e,t,n){(e.exports=n("I1BE")(!1)).push([e.i,"\n.wappo-error {\n    background-color:#c86b5b;\n    color:#fff;\n    padding: .5em;\n    border-radius: .4em;\n}\n.wappo-error a {\n    color: #33c5ff;\n    text-decoration: underline;\n}\n",""])},XC6E:function(e,t,n){"use strict";var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();var a=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),!1===n){this.intervals=[];var i=t.sort(function(e,t){return e[0]>t[0]?1:-1}),a=!0,s=!1,o=void 0;try{for(var r,l=i[Symbol.iterator]();!(a=(r=l.next()).done);a=!0){var c=r.value;c.length>2?this.intervals.push({start:c[0],end:c[1],left:parseInt(c[2]),service:c[3],edit_key:c[4]}):this.intervals.push({start:c[0],end:c[1]})}}catch(e){s=!0,o=e}finally{try{!a&&l.return&&l.return()}finally{if(s)throw o}}}else this.intervals=t}return i(e,[{key:"get",value:function(t,n){var i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a=[];if(!1===t)return new e(a,!0);var s=!0,o=!1,r=void 0;try{for(var l,c=this.intervals[Symbol.iterator]();!(s=(l=c.next()).done);s=!0){var d=l.value;if((!1===i||void 0===d.service||d.service===i)&&!(d.start>=d.end)){var u={start:t.unix(),end:n.unix()};if(this.intersecting(u,d))if(this.aContainsB(u,d)){var p=Object.assign({},d);a.push(Object.assign(p,{start:d.start,end:d.end,duration:d.end-d.start,llave:"a"}))}else{var h=Object.assign({},d);h=u.start>d.start?u.end<d.end?Object.assign(h,{start:u.start,end:u.end,duration:u.end-u.start,llave:"b1"}):Object.assign(h,{start:u.start,end:d.end,duration:d.end-u.start,llave:"b2"}):u.end<=d.end?Object.assign(h,{start:d.start,end:u.end,duration:u.end-d.start,llave:"c"}):Object.assign(h,{start:d.start,end:d.end,duration:d.end-d.start,llave:"c"}),a.push(h)}}}}catch(e){o=!0,r=e}finally{try{!s&&c.return&&c.return()}finally{if(o)throw r}}return new e(a,!0)}},{key:"substract",value:function(t){for(var n=0;n<this.intervals.length;n++){var i=this.intervals[n];if(!Array.isArray(i)){var a=!0,s=!1,o=void 0;try{for(var r,l=t.intervals[Symbol.iterator]();!(a=(r=l.next()).done);a=!0){var c=r.value;this.intersecting(i,c)&&(this.aContainsB(i,c)?this.intervals[n]=this.aMinusBWhenContaining(i,c):this.intervals[n]=this.aMinusBWhenIntersect(i,c))}}catch(e){s=!0,o=e}finally{try{!a&&l.return&&l.return()}finally{if(s)throw o}}}}var d=[],u=!0,p=!1,h=void 0;try{for(var f,v=this.intervals[Symbol.iterator]();!(u=(f=v.next()).done);u=!0){var m=f.value;if(Array.isArray(m)){var g=!0,w=!1,b=void 0;try{for(var _,y=m[Symbol.iterator]();!(g=(_=y.next()).done);g=!0){var x=_.value;d.push(x)}}catch(e){w=!0,b=e}finally{try{!g&&y.return&&y.return()}finally{if(w)throw b}}}else m&&d.push(m)}}catch(e){p=!0,h=e}finally{try{!u&&v.return&&v.return()}finally{if(p)throw h}}return new e(d,!0)}},{key:"aMinusBWhenContaining",value:function(e,t){var n=[];return n.push({start:e.start,end:t.start,duration:t.start-e.start}),n.push({start:t.end,end:e.end,duration:t.end-e.end}),n}},{key:"aMinusBWhenIntersect",value:function(e,t){if(e.start>=t.start){if(e.end>t.end)return{start:t.end,end:e.end,duration:e.end-t.end}}else if(e.end<t.end)return{start:e.start,end:t.start,duration:t.start-e.start};return!1}},{key:"intersecting",value:function(e,t){return!(e.start>=t.end||e.end<=t.start)}},{key:"aContainsB",value:function(e,t){return e.start<t.start&&e.end>t.end}},{key:"arrayToInterval",value:function(t){return new e(t)}},{key:"splits",value:function(t){var n=[],i=!0,a=!1,s=void 0;try{for(var o,r=this.intervals[Symbol.iterator]();!(i=(o=r.next()).done);i=!0){var l=o.value;l.slots=Math.floor(l.duration/t),n.push(l)}}catch(e){a=!0,s=e}finally{try{!i&&r.return&&r.return()}finally{if(a)throw s}}return new e(n,!0)}},{key:"totalSlots",value:function(){var e=0,t=!0,n=!1,i=void 0;try{for(var a,s=this.intervals[Symbol.iterator]();!(t=(a=s.next()).done);t=!0){var o=a.value;void 0!==o.slots&&(e+=o.slots)}}catch(e){n=!0,i=e}finally{try{!t&&s.return&&s.return()}finally{if(n)throw i}}return e}}]),e}();t.a=a},Xx3G:function(e,t,n){var i=n("W79H");"string"==typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);(0,n("SZ7m").default)("498d5bce",i,!0,{})},YctO:function(e,t,n){(e.exports=n("I1BE")(!1)).push([e.i,"\n.wcharge {\n    font-size: .8em;\n}\n.wtotal.wsummary-section{\n    padding-left:1.1em;\n}\n\n",""])},YjEz:function(e,t,n){"use strict";var i=n("pZKv");n.n(i).a},Z5ig:function(e,t,n){"use strict";var i=n("RAtP");n.n(i).a},Zq7e:function(e,t,n){"use strict";var i=n("bHQ6");n.n(i).a},a8Nn:function(e,t,n){"use strict";n.r(t),t.default={findKey:function(e,t){return e.findIndex(function(e){return e.key==t})},insertViewBefore:function(e,t,n){return e.splice(this.findKey(e,t),0,n),e},removeView:function(e,t){return e.splice(this.findKey(e,t),1),e},updateEditionsSteps:function(e,t,n){var i=!0,a=!1,s=void 0;try{for(var o,r=t[Symbol.iterator]();!(i=(o=r.next()).done);i=!0){var l=o.value;e=this.insertViewBefore(e,l.insertAt,l.insertStep)}}catch(e){a=!0,s=e}finally{try{!i&&r.return&&r.return()}finally{if(a)throw s}}var c=!0,d=!1,u=void 0;try{for(var p,h=n[Symbol.iterator]();!(c=(p=h.next()).done);c=!0){var f=p.value;e=this.removeView(e,f)}}catch(e){d=!0,u=e}finally{try{!c&&h.return&&h.return()}finally{if(d)throw u}}return e}}},aKqD:function(e,t,n){"use strict";var i=n("2RkK");n.n(i).a},aajL:function(e,t,n){var i=n("vkCh");"string"==typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);(0,n("SZ7m").default)("a02481ce",i,!0,{})},aiNY:function(e,t,n){"use strict";var i=n("6ANM");n.n(i).a},azVs:function(e,t,n){var i=n("f19m");"string"==typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);(0,n("SZ7m").default)("519b37f4",i,!0,{})},bHQ6:function(e,t,n){var i=n("3diX");"string"==typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);(0,n("SZ7m").default)("4e36b608",i,!0,{})},cA78:function(e,t,n){"use strict";var i=n("3Ntu");n.n(i).a},cRRw:function(e,t,n){"use strict";var i=n("wyKA"),a=n("Fj/6"),s=n("PdNP"),o=(n("QJKy"),n("Qqy9")),r=n("e9Z7"),l=["January","February","March","April","May","June","July","August","September","October","November","December"],c=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"];function d(e,t){return e.map(function(e){return e.slice(0,t||3)})}function u(e){for(var t=[],n=0;n<e;n++)t.push(1);return t}e.exports=function(e){var t=e&&!isNaN(e.abbrWeek)&&e.abbrWeek>0?e.abbrWeek:3,n=e&&!isNaN(e.abbrMonth)&&e.abbrMonth>0?e.abbrMonth:3,p=l,h=d(l,n),f=c,v=d(c,t);if(e&&e.months){if(!Array.isArray(e.months)||12!==e.months.length)throw new a("Months array must have 12 values");p=e.months,h=d(e.months,n)}if(e&&e.monthsAbbr){if(!Array.isArray(e.monthsAbbr)||12!==e.monthsAbbr.length)throw new s("Months array must have 12 values");h=e.monthsAbbr}if(e&&e.weekdays){if(!Array.isArray(e.weekdays)||7!==e.weekdays.length)throw new o("Weekdays array must have 7 values");f=e.weekdays,v=d(e.weekdays,t)}if(e&&e.weekdaysAbbr){if(!Array.isArray(e.weekdaysAbbr)||7!==e.weekdaysAbbr.length)throw new r("Weekdays array must have 7 values");v=e.weekdaysAbbr}return{months:function(){return p},monthsAbbr:function(){return h},years:function(e,t){if(e>t)throw new RangeError("The first year argument cannot be greater than the second");for(var n=[e.toString()],i=t-e+1;n.length<i;){var a=parseInt(n[n.length-1],10)+1;n.push(a.toString())}return n},yearsAbbr:function(e,t){var n=this.years(e,t).map(function(e){return e.toString().substring(2)});return n.length>1?n:n[0]},weekdays:function(){return f},weekdaysAbbr:function(){return v},generateCalendar:function(e,t,n,i,a,s,o){var r=[],l=Math.ceil((n+i)/7),c=l-1,d="function"==typeof s,p=-1*i,h=[];return u(l).forEach(function(n,i){u(7).forEach(function(n,a){var r=new Date(e,t,++p),l={date:r,day:r.getDate(),isInPrimaryMonth:r.getMonth()===t,isInLastWeekOfPrimaryMonth:i===c,index:{day:a,week:i}};if(d){var u=s(l,o);void 0!==u&&(l=u)}h.push(l)}),r.push(h),h=[]}),r},of:function(e,t,n){var i=this.detailed(e,t,function(e){return e.isInPrimaryMonth?e.day:0});return"function"==typeof n?n(i):i},detailed:function(e,t,n){if(t<0||t>11)throw new i("Month should be beetwen 0 and 11");if("number"!=typeof e||"number"!=typeof t)throw new Error("Arguments should be numbers");var a=new Date(e,t+1,0).getDate(),s=new Date(e,t,1).getDay(),o=new Date(e,t,a).getDay(),r={year:e.toString(),yearAbbr:this.yearsAbbr(e),month:this.months()[t],monthAbbr:this.monthsAbbr()[t],weekdays:this.weekdays(),weekdaysAbbr:this.weekdaysAbbr(),days:a,firstWeekday:s,lastWeekday:o},l=this.generateCalendar(e,t,a,s,o,n,r);return r.calendar=l,r},validate:function(e,t,n){var i=new Date(e,t,n);return i.getFullYear()===e&&i.getMonth()===t&&i.getDate()===n}}}},djb6:function(e,t,n){(e.exports=n("I1BE")(!1)).push([e.i,"\n.cal-icon .card{\n  max-width: none;\n  width: 640px;\n}\n.wappointment-wrap p.vsmall{\n  font-size:.8rem;\n}\n.unclickable{\n  cursor:default !important;\n}\n.data-item{\n  border: 1px solid #d9d9d9;\n  border-radius: .25rem;\n  padding: .2rem;\n  background-color: #f0f0f0;\n}\n",""])},dmGK:function(e,t,n){"use strict";var i=n("vL+S");n.n(i).a},dqqa:function(e,t,n){"use strict";var i=n("BEd2");n.n(i).a},e9Z7:function(e,t){e.exports=function(e){this.message=e,this.name="InvalidWeekdaysAbbrError"}},es6V:function(e,t,n){"use strict";var i=n("NwSl");n.n(i).a},f19m:function(e,t,n){(e.exports=n("I1BE")(!1)).push([e.i,"\n.btn-lg .dashicons, .btn-lg .dashicons:before {\n    width: auto;\n    height: auto;\n    font-size: 30px;\n}\n.btn-secondary.disabled, .btn-secondary:disabled {\n    cursor: not-allowed;\n    background-color: #6c757d;\n    border-color: #6c757d;\n    color: #fff;\n}\n.mail_configured{\n    font-size: 40px;\n    height: 40px;\n    width: 40px;\n}\n.img-height-logo{\n    max-height: 70px;\n    filter: grayscale(1);\n    max-width: 140px;\n}\n.d-flex.align-items-center:hover .img-height-logo{\n    filter: none;\n}\n.form-wrapppo .label-formgen {\n    display: block;\n    width: 100%;\n    margin-left: 0px;\n    padding: .6rem;\n    background-color: #f5f5f5;\n    border-radius: .4rem;\n    font-size: .9rem;\n}\n.form-wrapppo .label-formgen.primary {\n    border: 1px dashed var(--primary);\n}\n",""])},fP5I:function(e,t,n){"use strict";var i=n("5oH9"),a=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();var s=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i["a"]),a(t,[{key:"endpoints",value:function(){return{save:{method:"post",route:"booking"},reschedule:{method:"patch",route:"booking"},get:{method:"get",route:"booking"},delete:{method:"delete",route:"booking"},convertDate:{method:"post",route:"convertDate"}}}}]),t}(),o=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();var r=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i["a"]),o(t,[{key:"endpoints",value:function(){return{get:{method:"get",route:"availability"}}}}]),t}(),l=n("+fxr"),c=n("MkfN"),d=n("eWXC"),u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};var p,h,f={mixins:[c.a],data:function(){return{serviceBooking:null,serviceAvailability:null,loading:!1,errorMessages:[],viewName:null,viewData:null}},created:function(){d.a.listens("beforeRequest",this.beforeRequest),this.serviceBooking=this.$vueService(new s),this.serviceAvailability=this.$vueService(new r)},components:{Loader:l.a},methods:{refreshInitValue:function(){this.loading=!0,this.initValueRequest().then(this.loaded).catch(this.serviceError)},loaded:function(e){var t=this.issueResponseDetected(e);if(t)return this.serviceError({message:"Server response altered, make sure your WordPress' site does not display server errors.",submessage:["-----------","Read this:","https://wappointment.com/docs/unidentified-error/","-----------","Error detected: ",t]}),!1;this.viewData=e.data,this.loading=!1,void 0!==this.loadedAfter&&this.loadedAfter()},issueResponseDetected:function(e){if(!this.responseDataIsObject(e)&&void 0!==e.request&&void 0!==e.request.response){var t=e.request.response.trim();if("{"!==t.charAt(0))return t.split("{")[0]}return!1},responseDataIsObject:function(e){return"object"==u(e.data)&&Object.keys(e.data).length>0},beforeRequest:function(){this.errorMessages=[]},initValueRequest:(p=regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.serviceAvailability.call("get");case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e,this)}),h=function(){var e=p.apply(this,arguments);return new Promise(function(t,n){return function i(a,s){try{var o=e[a](s),r=o.value}catch(e){return void n(e)}if(!o.done)return Promise.resolve(r).then(function(e){i("next",e)},function(e){i("throw",e)});t(r)}("next")})},function(){return h.apply(this,arguments)}),serviceError:function(e){if(this.loading=!1,void 0!==e.response)void 0!==e.response.data.message&&this.errorMessages.push(e.response.data.message),void 0!==e.response.data.data.errors&&this.lengthGreaterThan(e.response.data.data.errors,0)&&this.lengthGreaterThan(e.response.data.data.errors,0)&&(this.errorMessages=e.response.data.data.errors);else if(this.errorMessages=[],this.errorMessages.push(void 0!==e.message?e.message:"An unidentified error occured"),void 0!==e.submessage){var t=e.submessage;Array.isArray(t)||(t=[t]);var n=!0,i=!1,a=void 0;try{for(var s,o=t[Symbol.iterator]();!(n=(s=o.next()).done);n=!0){var r=s.value;this.errorMessages.push(r)}}catch(e){i=!0,a=e}finally{try{!n&&o.return&&o.return()}finally{if(i)throw a}}}},lengthGreaterThan:function(e,t){if("object"===(void 0===e?"undefined":u(e))&&Object.keys(e).length>t||"object"===(void 0===e?"undefined":u(e))&&e.length>t)return!0}}},v=n("KHd+"),m=Object(v.a)(f,void 0,void 0,!1,null,null,null);t.a=m.exports},ftQn:function(e,t,n){var i=n("3R/I");"string"==typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);(0,n("SZ7m").default)("040ea0ad",i,!0,{})},gIVG:function(e,t,n){"use strict";n.r(t);var i=n("fP5I"),a=n("XC6E"),s=n("whSN"),o=n("G5JO"),r=n("H5HU"),l=n("Q6gv"),c=n("UgAb"),d=n("G0ds"),u=n("l8y5"),p={props:["resultBooking"]},h=n("KHd+"),f=Object(h.a)(p,function(){var e=this.$createElement;return(this._self._c||e)("div")},[],!1,null,null,null).exports,v=window.wappointmentExtends.filter("ConfirmationOptionalStep",f),m={components:{BookingAddress:r.a,SaveButtons:l.a,OptionalStep:v},mixins:[c.a,d.a,u.a],props:["appointment","service","result","isApprovalManual","timeprops","staff","options","appointment_starts_at","rescheduling","resultBooking","viewData"],data:function(){return{showSaveButtons:!1,showResult:null,locationObj:null}},created:function(){if(this.showResult=this.result,this.selection=this.showResult.type,void 0!==this.showResult.location_id&&(this.showResult.location=this.showResult.location_id),void 0!==this.service.locations){var e=!0,t=!1,n=void 0;try{for(var i,a=this.service.locations[Symbol.iterator]();!(e=(i=a.next()).done);e=!0){var s=i.value;s.id==this.showResult.location&&(this.locationObj=s)}}catch(e){t=!0,n=e}finally{try{!e&&a.return&&a.return()}finally{if(t)throw n}}}void 0!==this.options.demoData?this.options.eventsBus.listens("dataDemoChanged",this.dataChanged):this.triggerWEvent(this.rescheduling?"wappo_rescheduled":"wappo_confirmed",{appointment:{start:this.appointment.start_at,end:this.appointment.end_at,key:this.appointment.edit_key},modality:this.appointment.location_label,service:this.service.name,staff:this.staff.n,client:this.result})},computed:{appointmentIsPending:function(){return 0==this.appointment.status},demoDuration:function(){return void 0!==this.service.duration?this.service.duration:this.service.options.durations[0].duration},calculateDuration:function(){return!1===this.appointment?this.demoDuration:this.appointment.duration_sec/60},getClientPhone:function(){return void 0!==this.showResult.client?this.showResult.client.options.phone:this.showResult.phone},getClientSkype:function(){return void 0!==this.showResult.client?this.showResult.client.options.skype:this.showResult.skype},getZoomWithLink:function(){var e=apiWappointment.frontPage+(-1===apiWappointment.frontPage.indexOf("?")?"?":"&")+"view=view-event&appointmentkey="+this.appointment.edit_key;return e=window.wappointmentExtends.filter("urlAppointmentKey",e,{appointment:this.appointment,ticket:this.resultBooking.ticket}),this.options.confirmation.zoom.replace("[meeting_link]",'<a href="'+e+'" target="_blank">').replace("[/meeting_link]","</a>")},phoneSelected:function(){return null!==this.locationObj?2==this.locationObj.type:"phone"==this.selectedServiceType},physicalSelected:function(){return null!==this.locationObj?1==this.locationObj.type:"physical"==this.selectedServiceType},skypeSelected:function(){return null!==this.locationObj?3==this.locationObj.type:"skype"==this.selectedServiceType}},methods:{dataChanged:function(e){this.showResult=e,this.selection=this.showResult.type,void 0!==this.options.demoData&&void 0===this.selection&&void 0!==this.service.type&&(this.selection=this.service.type[0]),this.selectedServiceType=this.showResult.type}}},g=(n("sOHC"),Object(h.a)(m,function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"confirmation-cell"},[n("div",{staticClass:"success d-flex align-items-center"},[n("div",{staticClass:"bigicon"},[n("WapImage",{attrs:{faIcon:"calendar-check",size:"lg"}})],1),e._v(" "),n("div",{staticClass:"text-conf"},[e._v(e._s(e.options.confirmation.confirmation))])]),e._v(" "),n("div",{staticClass:"confirmation-summary"},[n("div",[n("span",{staticClass:"wlabel"},[e._v(e._s(e.options.confirmation.when))]),e._v(" "),n("span",[e._v(e._s(e.appointment_starts_at))])]),e._v(" "),n("div",[n("span",{staticClass:"wlabel"},[e._v(e._s(e.options.confirmation.service))]),e._v(" "),n("span",[e._v(e._s(e.service.name))])]),e._v(" "),n("div",[n("span",{staticClass:"wlabel"},[e._v(e._s(e.options.confirmation.duration))]),e._v(" "),n("span",[e._v(e._s(e.calculateDuration)+" "+e._s(e.getMinText))])])]),e._v(" "),e.isApprovalManual&&e.appointmentIsPending?n("div",{staticClass:"wdescription"},[e._v(e._s(e.options.confirmation.pending))]):e._e(),e._v(" "),e.physicalSelected?n("div",[n("div",{staticClass:"wdescription"},[e._v(e._s(e.options.confirmation.physical)+" ")]),e._v(" "),n("div",{staticClass:"address-service"},[n("BookingAddress",{attrs:{service:e.isLegacy?e.service:e.locationObj}},[n("WapImage",{attrs:{faIcon:"map-marked-alt",size:"md"}})],1)],1),e._v(" "),n("BookingAddress",{attrs:{iframe:!0,service:e.isLegacy?e.service:e.locationObj}},[n("WapImage",{attrs:{faIcon:"map-marked-alt",size:"md"}})],1)],1):e._e(),e._v(" "),e.phoneSelected?n("div",{staticClass:"wdescription"},[e._v("\n        "+e._s(e.options.confirmation.phone)+" "),n("strong",[e._v(e._s(e.getClientPhone))])]):e._e(),e._v(" "),e.skypeSelected?n("div",{staticClass:"wdescription"},[e._v("\n        "+e._s(e.options.confirmation.skype)+" "),n("strong",[e._v(e._s(e.getClientSkype))])]):e._e(),e._v(" "),e.zoomSelected?n("div",{staticClass:"wdescription",domProps:{innerHTML:e._s(e.getZoomWithLink)}}):e._e(),e._v(" "),n("div",{staticClass:"wdescription my-2 text-center"},[n("transition",{attrs:{name:"slide-fade"}},[e.showSaveButtons?n("SaveButtons",{attrs:{service:e.service,showResult:e.showResult,appointment:e.appointment,staff:e.staff,currentTz:e.timeprops.currentTz,physicalSelected:e.physicalSelected,options:e.options,ticket:e.resultBooking.ticket}}):n("span",{staticClass:"wbtn-primary-light wbtn d-flex align-items-center d-flex-inline",on:{click:function(t){e.showSaveButtons=!0}}},[n("WapImage",{attrs:{faIcon:"calendar-alt",size:"md"}}),e._v(" "),n("span",{staticClass:"ml-2"},[e._v(e._s(e.options.confirmation.savetocal))])],1)],1)],1),e._v(" "),n("OptionalStep",{attrs:{resultBooking:e.resultBooking,options:e.options,viewData:e.viewData}})],1)},[],!1,null,null,null).exports),w=n("ExVU");var b,_,y={extends:i.a,mixins:[o.a],props:["options","selectedSlot","timeprops","relations","rescheduleData"],computed:{isCompactHeader:function(){return void 0===this.options.general||-1===[void 0,!1].indexOf(this.options.general.check_header_compact_mode)}},methods:{back:function(){this.$emit("back",this.relations.prev,{selectedSlot:!1})},getLuxonFormated:function(e){return w.DateTime.fromSeconds(e).toLocaleString(w.DateTime.DATETIME_MED)},confirm:function(){var e={appointmentkey:this.timeprops.appointmentkey,time:this.selectedSlot.start,ctz:this.timeprops.ctz};this.$emit("loading",{loading:!0,dataSent:e}),this.saveRescheduleRequest(e).then(this.appointmentRescheduled).catch(this.appointmentReschedulingError)},saveRescheduleRequest:(b=regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.serviceBooking.call("reschedule",t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e,this)}),_=function(){var e=b.apply(this,arguments);return new Promise(function(t,n){return function i(a,s){try{var o=e[a](s),r=o.value}catch(e){return void n(e)}if(!o.done)return Promise.resolve(r).then(function(e){i("next",e)},function(e){i("throw",e)});t(r)}("next")})},function(e){return _.apply(this,arguments)}),appointmentRescheduled:function(e){var t=e.data;t.appointmentkey=this.timeprops.appointmentkey,t.time=this.selectedSlot.start,t.ctz=this.timeprops.ctz,t.client=this.rescheduleData.client,this.$emit("confirmed",this.relations.next,{appointmentSavedData:e.data,isApprovalManual:0==e.data.status,appointmentSaved:!0,loading:!1,dataSent:t})},appointmentReschedulingError:function(e){this.serviceError(e)},serviceError:function(e){this.$emit("serviceError",e)}}},x=Object(h.a)(y,function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[e.isCompactHeader?n("div",{staticClass:"mb-2"},[n("div",{staticClass:"wselected wclosable wmy-4 d-flex align-items-center d-flex-inline"},[n("WapImage",{attrs:{faIcon:["far","clock"],size:"auto"}}),e._v(" "),n("span",{staticClass:"welementname wml-2"},[e._v(e._s(e.getLuxonFormated(e.selectedSlot.start)))])],1)]):e._e(),e._v(" "),n("div",{staticClass:"d-flex wbtn-confirm my-2"},[n("span",{staticClass:"wbtn-secondary wbtn",attrs:{role:"button"},on:{click:e.back}},[e._v(e._s(e.options.form.back))]),e._v(" "),n("span",{staticClass:"wbtn-primary wbtn w100 m-0",attrs:{role:"button"},on:{click:e.confirm}},[e._v(e._s(e.options.form.confirm))])])])},[],!1,null,null,null).exports,k=n("cRRw"),S=n.n(k),C={computed:{minTodayHour:function(){return Math.floor(this.viewData.min_bookable)},minTodayMin:function(){return Math.floor(60*this.getDecimalPart(this.viewData.min_bookable-this.minTodayHour))},now:function(){return this.getMomentObject()().tz(this.timeprops.currentTz)}},methods:{getDecimalPart:function(e){if(Number.isInteger(e))return 0;var t=e.toString().split(".")[1];return Number("0."+t)},isTSToday:function(e){var t=new Date(1e3*e),n=new Date;return t.getDate()==n.getDate()&&t.getMonth()==n.getMonth()&&t.getFullYear()==n.getFullYear()},currentTime:function(){return Math.round(Date.now()/1e3)},getMinStart:function(){var e=this.getMomentObject().tz(this.now.clone(),this.timeprops.currentTz).add(this.minTodayHour,"hours").add(this.minTodayMin,"minutes"),t=e.clone().startOf("hour");if(this.currentTime()+3600*this.minTodayHour>=t.unix())for(var n=0;t.unix()<e.unix()&&n<13;)t.add(5,"minutes"),t.set("second",0),n++;return t}}},D=Object(h.a)(C,void 0,void 0,!1,null,null,null).exports,A=n("A5Wa"),P=n("gzyJ"),E={mixins:[o.a],props:{intervals:{type:Array},duration:{type:Number},currentTz:{type:String},time_format:{type:String},options:{type:Object},now:{type:Object},viewData:{type:Object}},data:function(){return{ready:!1,dayParts:{}}},components:{BookingButton:P.a},created:function(){this.convertIntervalsToSlots(),this.ready=!0},methods:{getDateTime:function(){return w.DateTime},getLabel:function(e){return void 0!==this.options.selection[e]?this.options.selection[e]:e},nowUnix:function(){return Date.now()/1e3},convertIntervalsToSlots:function(){var e=!0,t=!1,n=void 0;try{for(var i,a=this.intervals[Symbol.iterator]();!(e=(i=a.next()).done);e=!0){var s=i.value;if(void 0===s.left)for(var o=s.end-this.duration,r=s.start;o>=r;)this.identifySlot({start:r}),r+=this.incrementType();else this.identifySlot(s)}}catch(e){t=!0,n=e}finally{try{!e&&a.return&&a.return()}finally{if(t)throw n}}},incrementType:function(){return this.viewData.more_st?60*this.viewData.starting_each:this.duration},identifySlot:function(e){var t=w.DateTime.fromSeconds(e.start).toFormat("H");t>=12&&t<18?this.insertSlotToDayPart(e,"afternoon"):t>=18&&t<=23?this.insertSlotToDayPart(e,"evening"):t>=0&&this.insertSlotToDayPart(e,"morning")},insertSlotToDayPart:function(e,t){void 0===this.dayParts[t]&&(this.dayParts[t]=[]),this.dayParts[t].push(e)}},computed:{browserLocale:function(){return null!==navigator.language&&void 0!==navigator.language?navigator.language:"en-US"},timeFormatLuxon:function(){return w.DateTime.TIME_SIMPLE},getSectionClass:function(){return"d-section ds-"+Object.keys(this.dayParts).length}}},I=(n("n0z4"),Object(h.a)(E,function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"slots-panel"},[e.ready?n("div",{staticClass:"d-flex"},e._l(e.dayParts,function(t,i){return n("div",{class:"hello "+e.getSectionClass},[n("small",{staticClass:"day-part"},[e._v(e._s(e.getLabel(i)))]),e._v(" "),e._l(t,function(t,i){return[n("BookingButton",{key:"button-"+t.start,attrs:{className:"wbtn wbtn-primary wbtn-slot",options:e.options},on:{click:function(n){e.$emit("selected",t)}}},[n("span",[e._v(e._s(e.getDateTime().fromSeconds(t.start).setLocale(e.browserLocale).toLocaleString(e.timeFormatLuxon)))]),e._v(" "),t.left?n("span",{staticClass:"sleft"},[e._v(e._s(e.options.selection.slots_left.replace("[slots_left]",t.left)))]):e._e()])]})],2)}),0):e._e()])},[],!1,null,null,null).exports),O={props:["idweek","week","cachedSlots","isDemo","tooltip","selectedDay","demoSelected"],methods:{getClassAvailability:function(e,t,n){return this.isDemo&&this.demoSelected.day==e&&(this.demoSelected.week=t),{"first-day":0===n,"last-day":n===this.week.length-1,dayselected:this.isSelected(e),"no-avail wbtn wbtn-disabled":this.noAvailability(e),"wbtn-secondary wbtn wbtn-round avail":this.hasAvailability(e),"last-avail":this.lastAvailability(e),"few-avail":this.fewAvailability(e),"enough-avail":this.enoughAvailability(e),"plenty-avail":this.plentyAvailability(e),hover:this.isDemo&&this.isSelected(e),"sq d-flex align-items-center justify-content-center":!0}},hasAvailability:function(e){return void 0!==this.cachedSlots[e]?this.cachedSlots[e]:0},hasTooltip:function(e){var t=this.hasAvailability(e);return t>0&&this.tooltip.replace("[total_slots]",t)},isSelected:function(e){return!1!==this.selectedDay&&this.selectedDay==e},noAvailability:function(e){return this.hasAvailability(e)<1},lastAvailability:function(e){return 1===this.hasAvailability(e)},fewAvailability:function(e){var t=this.hasAvailability(e);return t>1&&t<=3},enoughAvailability:function(e){var t=this.hasAvailability(e);return t>3&&t<=10},plentyAvailability:function(e){return this.hasAvailability(e)>10}}},R=(n("i5bS"),Object(h.a)(O,function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"d-flex ddays"},e._l(e.week,function(t,i){return n("div",[n("div",{class:e.getClassAvailability(t,e.idweek,i),attrs:{role:"button"},on:{click:function(n){e.$emit("selectDay",t,e.idweek)}}},[t>0?[n("span",{attrs:{"data-tt":e.hasTooltip(t)}},[e._v("\n                    "+e._s(t)+"\n                ")])]:n("span")],2)])}),0)},[],!1,null,null,null).exports),T=n("6uyd"),B={props:["weekHeader"],methods:{initial:function(e){return 0===Object(T.a)().indexOf("zh")?e.toUpperCase().substring(2,3):e.toUpperCase().substring(0,1)}}},M=Object(h.a)(B,function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"d-flex ddays"},e._l(e.weekHeader,function(t,i){return n("div",[e._v("\n        "+e._s(e.initial(t))+"\n    ")])}),0)},[],!1,null,null,null).exports,F=n("tOgP"),j={props:["options","initIntervalsCollection","timeprops","duration","viewData","staffs","location","service"],mixins:[o.a,F.a,D],components:{DaySlots:I,DaysOfWeek:R,WeekHeader:M},data:function(){return{currentTz:"",time_format:"",currentMonth:null,yearNumber:0,monthNumber:0,dayNumber:0,startDay:1,weekLength:7,intervalsCollection:null,currentIntervals:null,totalSlots:null,cachedSlots:{},availableIntervals:{},selectedWeek:!1,selectedDay:!1,sideMonth:"right",slotsAnimation:"slide-fade-sm",mounted:!1,demoSelected:{week:!1,day:!1,init:!1},object_days:{},weekHeader:[]}},created:function(){this.intervalsCollection=this.filteredServices(),this.viewData.frontend_weekstart&&(this.startDay=this.viewData.week_starts_on)},mounted:function(){this.time_format=this.timeprops.time_format,this.currentTz=this.timeprops.currentTz,this.setMonth(this.todayYear,this.todayMonth-1,!1),this.resetIntervals(),this.mounted=!0,this.autoRunOnMount(),this.object_days=function(){for(var e=new Date,t=[],n=0;n<7;n++)t[n]={en:e.toLocaleDateString("en-US",{weekday:"long"}),locale:new Intl.DateTimeFormat(Object(T.a)(),{weekday:"long"}).format(e)},e.setDate(e.getDate()+1);return t}(),this.setWeekHeader()},updated:function(){this.isDemo&&!1===this.demoSelected.init&&!1!==this.demoSelected.day&&this.$nextTick(function(){this.daySelected(this.demoSelected.day,this.demoSelected.week),this.demoSelected.init=!0})},computed:{isDemo:function(){return void 0!==this.options.demoData},realMonthNumber:function(){return this.monthNumber+1},firstDayMonth:function(){return Object(A.a)().tz(this.currentTz).year(this.yearNumber).month(this.monthNumber).startOf("month")},lastDayMonth:function(){return this.isCurrentMonth?this.now.clone().endOf("month"):Object(A.a)().tz(this.currentTz).year(this.yearNumber).month(this.monthNumber).endOf("month")},todayIs:function(){return this.now.format()},isCurrentMonth:function(){return this.todayMonth===this.realMonthNumber&&this.todayYear===this.yearNumber},isLastMonth:function(){if(void 0!==this.lastAvailableSlot){var e=A.a.unix(this.lastAvailableSlot).tz(this.currentTz);return this.monthNumber===e.month()&&this.yearNumber===e.year()}return!0},getMonthYear:function(){return function(e){var t=new Date;t.setDate(1),t.setMonth(e);var n=t.toLocaleString(Object(T.a)(),{month:"long"});return n[0].toUpperCase()+n.substring(1)}(this.monthNumber)+" "+this.yearNumber},todayYear:function(){return parseInt(this.now.format("YYYY"))},todayDay:function(){return parseInt(this.now.format("DD"))},todayMonth:function(){return parseInt(this.now.format("M"))},reorganiseDays:function(){var e=[];this.currentMonth.firstWeekday===this.startDay-1&&e.push([0,0,0,0,0,0,1]);for(var t=0;t<this.currentMonth.calendar.length;t++){var n=this.currentMonth.calendar[t],i=this.currentMonth.calendar[t+1],a=n.slice(0,this.startDay),s=n.slice(this.startDay);if(void 0!==i){if(0===a[0]){var o=!0,r=!1,l=void 0;try{for(var c,d=a[Symbol.iterator]();!(o=(c=d.next()).done);o=!0){if(0!==c.value){for(;a.length<this.weekLength;)a.splice(0,0,0);e.push(a);break}}}catch(e){r=!0,l=e}finally{try{!o&&d.return&&d.return()}finally{if(r)throw l}}}var u=i.slice(0,this.startDay);n=s.concat(u)}else for(n=s;n.length<this.weekLength;)n.push(0);e.push(n)}return e},getSlotTooltip:function(){return void 0!==this.options&&void 0!==this.options.selection.title?this.options.selection.title:""},lastAvailableSlot:function(){return null!==this.intervalsCollection&&this.intervalsCollection.intervals.length>0?this.intervalsCollection.intervals.slice(-1)[0].end:void 0},getTzString:function(){return void 0!==this.options&&void 0!==this.options.selection.timezone?this.options.selection.timezone:""}},methods:{filteredServices:function(){var e=this.initIntervalsCollection;return window.wappointmentExtends.filter("CalendarAbstractFilterIntervals",e,this.service,this.conditionMatches)},timezoneDisplay:function(e){return this.getTzString.replace("[timezone]",e+" ["+this.now.format("Z")+"]")},autoRunOnMount:function(){this.findFirstMonthwithAvail()},findFirstMonthwithAvail:function(){for(var e=0;0==this.totalSlots&&!this.isLastMonth&&e<40;)this.changeMonth(),e++},setWeekHeader:function(){for(var e=this.currentMonth.weekdays.slice(0,this.startDay),t=this.currentMonth.weekdays.slice(this.startDay).concat(e),n=[],i=0;i<t.length;i++)n[i]=this.getLocaleDay(t[i]);this.weekHeader=n},getLocaleDay:function(e){for(var t in this.object_days)if(this.object_days.hasOwnProperty(t)){var n=this.object_days[t];if(e.toLowerCase()===n.en.toLowerCase())return n.locale}},selectFirstDayAvail:function(){for(var e=0;e<this.reorganiseDays.length;e++){var t=this.reorganiseDays[e],n=!0,i=!1,a=void 0;try{for(var s,o=t[Symbol.iterator]();!(n=(s=o.next()).done);n=!0){var r=s.value;if(r>0){var l=this.hasAvailability(r);if(void 0!==l&&l>0)return this.selectDay(r,e,!1)}}}catch(e){i=!0,a=e}finally{try{!n&&o.return&&o.return()}finally{if(i)throw a}}}},resetWeekSelection:function(){this.selectedWeek=!1,this.resetDaySelection(),this.slotsAnimation="slide-fade-sm"},resetDaySelection:function(){this.availableIntervals={},this.selectedDay=!1},selectDay:function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],i=100;if(t===this.selectedWeek?(this.slotsAnimation=n?"fade":"slide-fade-sm",this.resetDaySelection()):(this.slotsAnimation="slide-fade-sm",i=600,this.resetWeekSelection()),this.cachedSlots[e]<1||this.isPast(e))return!1;n?setTimeout(this.daySelected.bind("",e,t),i):this.daySelected(e,t)},selectSlot:function(e){this.triggersDemoEvent("form")||this.$emit("selectSlot",e)},daySelected:function(e,t){this.selectedWeek=t,this.selectedDay=e,this.availableIntervals=this.getDayIntervals(e)},decrementMonth:function(){var e=this.monthNumber-1,t=this.yearNumber;return e<0&&(e=11,t=this.yearNumber-1),{month:e,year:t}},incrementMonth:function(){var e=this.monthNumber+1,t=this.yearNumber;return e>11&&(e=0,t=this.yearNumber+1),{month:e,year:t}},changeMonth:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.resetWeekSelection();var n=!1===e?this.decrementMonth():this.incrementMonth();t?setTimeout(this.setMonth.bind("",n.year,n.month),600):this.setMonth(n.year,n.month,!1)},nextMonth:function(){if(!0===this.isLastMonth)return!1;this.sideMonth="left",this.changeMonth(!0,!0)},prevMonth:function(){if(!0===this.isCurrentMonth)return!1;this.sideMonth="right",this.changeMonth(!1,!0)},nowNextHour:function(){return this.now.clone().add(this.minTodayHour,"h").startOf("hour")},resetIntervals:function(){if(null===this.intervalsCollection)return!1;this.cachedSlots={},this.isCurrentMonth?this.setIntervals(this.nowNextHour(),this.lastDayMonth):this.setIntervals(this.firstDayMonth,this.lastDayMonth)},realSlotDuration:function(){return 60*(parseInt(this.duration)+parseInt(this.viewData.buffer_time))},setIntervals:function(e,t){this.currentIntervals=this.intervalsCollection.get(e,t),this.totalSlots=this.currentIntervals.splits(this.realSlotDuration()).totalSlots(),this.cacheAvailability()},cacheAvailability:function(){for(var e in this.reorganiseDays)if(this.reorganiseDays.hasOwnProperty(e)){var t=this.reorganiseDays[e];for(var n in t)if(t.hasOwnProperty(n)){var i=t[n];this.hasAvailability(i)}}},setMonth:function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];this.monthNumber=t,this.yearNumber=e,this.selectedDay=!1,this.currentMonth=!1,n?setTimeout(this.monthSelected.bind("",e,t),100):this.monthSelected(e,t)},monthSelected:function(e,t){this.currentMonth=S()().of(e,t),this.resetIntervals(),void 0!==this.afterMonthSelected&&this.afterMonthSelected()},isPast:function(e){return!0===this.isCurrentMonth&&this.todayDay>e},hasAvailability:function(e){if(this.isPast(e)||e<1)return 0;if(void 0!==this.cachedSlots[e])return this.cachedSlots[e];var t=this.getDayIntervals(e);return this.cachedSlots[e]=t.splits(this.realSlotDuration()).totalSlots(),this.isDemo&&!1===this.demoSelected.day&&this.cachedSlots[e]>0&&(this.demoSelected.day=e,this.disabledButtons=!0),this.cachedSlots[e]},dayWeekSelected:function(e){return e===this.selectedWeek},getTodayStart:function(){return this.getMinStart()},getTodayInterval:function(){var e=this.getMinStart();return e.day()!=this.now.day()&&(e=A.a.tz(this.now.clone(),this.currentTz)),{start:e,end:e.clone().add(1,"day").startOf("day")}},getNotTodayInterval:function(e){var t=e<10?"0":"",n=this.realMonthNumber<10?"0":"",i=this.yearNumber+"-"+n+this.realMonthNumber+"-"+t+e,a=A.a.tz(i,this.currentTz).startOf("day");return{start:a,end:a.clone().add(1,"day")}},getDayIntervals:function(e){var t=this.isCurrentMonth&&e===this.todayDay?this.getTodayInterval():this.getNotTodayInterval(e);return this.formatDayInterval(t)},formatDayInterval:function(e){var t=this.getMinStart();if(t.unix()>=e.end.unix())return this.currentIntervals.get(!1);t.unix()>e.start.unix()&&(e.start=t.clone());var n=this.currentIntervals.get(e.start,e.end,this.service.id);return this.prepareDayInterval(n,e.start,e.end)},prepareDayInterval:function(e,t,n){return e},getMomentObj:function(){return A.a.tz(this.currentTz)}}},L=(n("LKNl"),Object(h.a)(j,void 0,void 0,!1,null,null,null).exports),z={extends:L,methods:{afterMonthSelected:function(){this.selectFirstDayAvail()}}},W=Object(h.a)(z,function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.mounted?n("div",{staticClass:"calendarMonth"},[n("div",{staticClass:"d-flex justify-content-between align-items-center"},[n("span",{staticClass:"wbtn-secondary wbtn wbtn-round wbtn-top sq",class:{"wbtn-disabled":e.isCurrentMonth},attrs:{role:"button",disabled:e.isCurrentMonth},on:{click:e.prevMonth}},[n("span",[e._v("<")])]),e._v(" "),n("div",[e._v(e._s(e.getMonthYear))]),e._v(" "),n("span",{staticClass:"wbtn-secondary wbtn wbtn-round wbtn-top sq",class:{"wbtn-disabled":e.isLastMonth},attrs:{role:"button",disabled:e.isLastMonth},on:{click:e.nextMonth}},[n("span",[e._v(">")])])]),e._v(" "),n("weekHeader",{attrs:{weekHeader:e.weekHeader}}),e._v(" "),n("transition",{attrs:{name:"slide-fade-side-sm-"+e.sideMonth}},[e.currentMonth?n("div",e._l(e.reorganiseDays,function(t,i){return n("div",[n("DaysOfWeek",{attrs:{idweek:i,week:t,tooltip:e.getSlotTooltip,selectedDay:e.selectedDay,demoSelected:e.demoSelected,cachedSlots:e.cachedSlots,isDemo:e.isDemo},on:{selectDay:e.selectDay}}),e._v(" "),n("transition",{attrs:{name:e.slotsAnimation}},[e.dayWeekSelected(i)&&e.selectedDay?n("div",[n("div",{staticClass:"timezone"},[e._v(e._s(e.timezoneDisplay(e.currentTz)))]),e._v(" "),n("div",{staticClass:"slotsPane p-2"},[n("DaySlots",{attrs:{intervals:e.availableIntervals.intervals,duration:e.realSlotDuration(),currentTz:e.currentTz,time_format:e.time_format,options:e.options,now:e.now,viewData:e.viewData},on:{selected:e.selectSlot}})],1)]):e._e()])],1)}),0):e._e()])],1):e._e()},[],!1,null,null,null).exports,$={extends:L,data:function(){return{prevMth:!1,sideWeek:"left",changingWeek:!1}},methods:{autoRunOnMount:function(){this.findFirstMonthwithAvail();for(var e=0;void 0===this.availableIntervals.intervals&&e<10;)this.changeWeek(!0,!0),e++},changeWeek:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.sideWeek=e?"left":"right",this.changingWeek=!0;var n=!1===e?this.selectedWeek-1:this.selectedWeek+1;t?this.setWeek(n):setTimeout(this.setWeek.bind("",n),600)},setWeek:function(e){this.selectedDay=!1,this.changingWeek=!1,e<0?(this.prevMonth(),this.prevMth=!0):e>this.reorganiseDays.length-1?(this.nextMonth(),this.prevMth=!1):(this.selectedWeek=e,this.selectFirstDayAvailOfWeek())},cleanWeek:function(){0===this.reorganiseDays[this.reorganiseDays.length-1].reduce(function(e,t){return e+t})&&this.reorganiseDays.pop()},afterMonthSelected:function(){this.cleanWeek(),this.selectedWeek=this.prevMth?this.reorganiseDays.length-1:0,this.demoSelected.week=this.selectedWeek,this.selectFirstDayAvailOfWeek()},selectFirstDayAvailOfWeek:function(){for(var e=this.reorganiseDays[this.selectedWeek],t=0;t<e.length;t++){var n=e[t];if(this.hasAvailability(n))return this.selectDay(n,this.selectedWeek,!1)}},autoSkipToWeekWithAvailability:function(){"right"==this.sideWeek?this.nextWeek():this.prevWeek()},nextWeek:function(){if(!0===this.isLastWeek)return!1;this.triggerWeekChange()},prevWeek:function(){if(!0===this.isCurrentWeek)return!1;this.triggerWeekChange(!1)},triggerWeekChange:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=0;void 0!==this.availableIntervals.intervals&&(this.resetDaySelection(),t=600),setTimeout(this.changeWeek.bind("",e),t)}},computed:{isCurrentWeek:function(){return!0===this.isCurrentMonth&&this.todayWeek===this.selectedWeek},todayWeek:function(){return parseInt(Math.ceil(this.now.date()/7)-1)},isLastWeek:function(){return this.isLastMonth&&this.selectedWeek==this.reorganiseDays.length-1}}},N=Object(h.a)($,function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.currentMonth?n("div",{staticClass:"calendarMonth"},[n("div",{staticClass:"d-flex justify-content-between align-items-center"},[n("span",{staticClass:"wbtn-secondary wbtn wbtn-round wbtn-top sq",class:{"wbtn-disabled":e.isCurrentWeek},attrs:{role:"button",disabled:e.isCurrentWeek},on:{click:e.prevWeek}},[n("span",[e._v("<")])]),e._v(" "),n("div",[e._v(e._s(e.getMonthYear))]),e._v(" "),n("span",{staticClass:"wbtn-secondary wbtn wbtn-round wbtn-top sq",class:{"wbtn-disabled":e.isLastWeek},attrs:{role:"button",disabled:e.isLastWeek},on:{click:e.nextWeek}},[n("span",[e._v(">")])])]),e._v(" "),n("weekHeader",{attrs:{weekHeader:e.weekHeader}}),e._v(" "),n("transition",{attrs:{name:"slide-fade-side-sm-"+e.sideWeek}},[e.changingWeek?e._e():n("div",[n("DaysOfWeek",{attrs:{idweek:e.selectedWeek,week:e.reorganiseDays[e.selectedWeek],tooltip:e.getSlotTooltip,selectedDay:e.selectedDay,demoSelected:e.demoSelected,cachedSlots:e.cachedSlots,isDemo:e.isDemo},on:{selectDay:e.selectDay}}),e._v(" "),n("transition",{attrs:{name:e.slotsAnimation}},[e.dayWeekSelected(e.selectedWeek)&&e.selectedDay?n("div",[n("div",{staticClass:"timezone"},[e._v(e._s(e.timezoneDisplay(e.currentTz)))]),e._v(" "),n("div",{staticClass:"slotsPane p-2"},[n("DaySlots",{attrs:{intervals:e.availableIntervals.intervals,duration:e.realSlotDuration(),currentTz:e.currentTz,time_format:e.time_format,options:e.options,now:e.now,viewData:e.viewData},on:{selected:e.selectSlot}})],1)]):e._e()])],1)])],1):e._e()},[],!1,null,null,null).exports,V={computed:{incrementType:function(){return this.viewData.more_st?this.viewData.starting_each:this.duration}},methods:{incrementTime:function(){return 60*this.incrementType}}},q=Object(h.a)(V,void 0,void 0,!1,null,null,null).exports,H={props:["options","service","initIntervalsCollection","timeprops","staffs","duration","location","viewData","rescheduling","relations"],data:function(){return{updatedIntervals:!1,intervalId:!1,started:!1,cleanedIntervals:!1}},mixins:[o.a,D,q],components:{CalendarMonth:W,CalendarWeek:N},mounted:function(){this.cleanedIntervals=this.cleanStartingFromEnd(this.initIntervalsCollection,this.getMinStart().unix()),this.setAutoRefreshIntervals()},computed:{isWeekView:function(){return-1===[void 0,!1].indexOf(this.options.selection.check_viewweek)}},methods:{setAutoRefreshIntervals:function(){this.updatedIntervals=this.cleanedIntervals,void 0!==this.updatedIntervals.intervals[0]&&this.isTSToday(this.updatedIntervals.intervals[0].start)?(this.refreshIntervals(),setTimeout(this.initTodayInterval,100),this.intervalId=setInterval(this.refreshIntervals,6e4)):this.started=!0},initTodayInterval:function(){this.refreshIntervals(),this.started=!0},refreshIntervals:function(){var e=this.getMinStart().unix();this.updatedIntervals=!1,setTimeout(this.setNewValue.bind(null,e),50)},setNewValue:function(e){var t=this.cleanedIntervals;t=this.incrementStartingValue(t,e),t=this.cleanStartingFromEnd(t,e),this.updatedIntervals=t},cleanStartingFromEnd:function(e,t){var n=e.intervals,i=[],a=!0,s=!1,o=void 0;try{for(var r,l=n[Symbol.iterator]();!(a=(r=l.next()).done);a=!0){var c=r.value;c.end>t&&i.push(c)}}catch(e){s=!0,o=e}finally{try{!a&&l.return&&l.return()}finally{if(s)throw o}}return e.intervals=i,e},incrementStartingValue:function(e,t){var n=e.intervals;if(n[0].start<t)if(this.viewData.availability_fluid)n[0].start=t;else for(var i=this.now.unix()+3600*this.minTodayHour+60*this.minTodayMin;n[0].start<i;)n[0].start+=this.incrementTime();return e.intervals=n,e},selectSlot:function(e){var t=this.relations.next;this.intervalId&&clearInterval(this.intervalId),this.$emit("selectSlot",this.rescheduling?"RescheduleConfirm":t,{selectedSlot:e})}}},U=Object(h.a)(H,function(){var e=this,t=e.$createElement,n=e._self._c||t;return!1!==e.updatedIntervals&&e.started?n("div",[e.isWeekView?n("CalendarWeek",{attrs:{options:e.options,service:e.service,initIntervalsCollection:e.updatedIntervals,timeprops:e.timeprops,staffs:e.staffs,duration:e.duration,location:e.location,viewData:e.viewData},on:{selectSlot:e.selectSlot}}):n("CalendarMonth",{attrs:{options:e.options,service:e.service,initIntervalsCollection:e.updatedIntervals,timeprops:e.timeprops,staffs:e.staffs,duration:e.duration,location:e.location,viewData:e.viewData},on:{selectSlot:e.selectSlot}})],1):e._e()},[],!1,null,null,null).exports,K=n("l8GO"),G={data:function(){return{serviceLocked:!1,staffLocked:!1}},created:function(){this.checkServiceLocked(),this.checkStaffLocked()},methods:{checkServiceLocked:function(){return!1},checkStaffLocked:function(){return!1}}},Z=Object(h.a)(G,void 0,void 0,!1,null,null,null).exports,Y={computed:{canChangeAnything:function(){return!1===this.rescheduling},canChangeDuration:function(){return this.canChangeAnything&&void 0!==this.service.options.durations&&this.service.options.durations.length>1&&!this.appointmentSaved},canChangeService:function(){return this.canChangeAnything&&this.services.length>1&&!this.appointmentSaved},canChangeLocation:function(){return this.canChangeAnything&&void 0!==this.service.locations&&this.service.locations.length>1&&!this.appointmentSaved},canChangeStaff:function(){return this.canChangeAnything&&this.staffs.length>1&&!this.appointmentSaved&&!this.staffLocked}},methods:{changeService:function(){this.disabledButtons?this.options.eventsBus.emits("stepChanged","service_selection"):this.staff.services.length>1&&this.canChangeService&&this.$emit("changeService","BookingServiceSelection",{service:!1,location:!1,duration:!1,selectedSlot:!1})},changeDuration:function(){this.disabledButtons?this.options.eventsBus.emits("stepChanged","service_duration"):this.canChangeDuration&&this.$emit("changeDuration","BookingDurationSelection",{location:!1,duration:!1,selectedSlot:!1})},changeLocation:function(){this.disabledButtons?this.options.eventsBus.emits("stepChanged","service_location"):this.canChangeLocation&&this.$emit("changeLocation","BookingLocationSelection",{location:!1})}}},J=Object(h.a)(Y,void 0,void 0,!1,null,null,null).exports,X={mixins:[c.a,window.wappointmentExtends.filter("MixinChange",Z),J,F.a],props:{staffs:{type:Array},services:{type:Array},staff:{type:Object},options:{type:Object},service:{type:[Object,Boolean]},duration:{type:[Boolean,Number,String]},appointmentSaved:{type:Boolean},rescheduling:{type:Boolean},attributesEl:{type:Object}},methods:{showAllStaff:function(){if(!this.disabledButtons)return this.canChangeStaff?this.$emit("showStaffScreen","BookingStaffSelection",{selectedStaff:null,selectedSlot:!1,service:!1,location:!1,duration:!1}):void 0},getStyleBackground:function(e){return'background-image: url("'+e.a+'");'}},computed:{getClassWrapper:function(){return[this.itemsCenterVertically?"align-items-center":"align-items-start",this.showRightText?"":"justify-content-center"]},showRightText:function(){return this.isCompactHeader&&(this.service||this.showStaffName)||!this.isCompactHeader&&this.showStaffName},itemsCenterVertically:function(){return!this.isCompactHeader||this.isCompactHeader&&!this.showStaffName},staffSelected:function(){return null!==this.staff},staffsFilterd:function(){return this.canChangeStaff&&this.staffSelected?[this.staff]:[]},hasNoGeneralOptions:function(){return void 0===this.options.general},isCompactHeader:function(){return this.hasNoGeneralOptions||-1===[void 0,!1].indexOf(this.options.general.check_header_compact_mode)},showStaffName:function(){return this.hasNoGeneralOptions||-1!==[void 0,!1].indexOf(this.options.general.check_hide_staff_name)}}},Q=(n("IaMM"),Object(h.a)(X,function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"wap-head"},[e.staffSelected?n("div",{staticClass:"d-flex",class:e.getClassWrapper},[n("div",{staticClass:"staff-av",attrs:{role:"button"},on:{click:e.showAllStaff}},[n("div",{attrs:{"data-tt":e.canChangeStaff?"Change Staff":""}},[n("div",{staticClass:"wstaff-img",style:e.getStyleBackground(e.staff),attrs:{role:"img",title:e.staff.n}})])]),e._v(" "),e.showRightText?n("div",{staticClass:"staff-desc"},[e.showStaffName?n("div",{class:{"wcan-edit":e.canChangeStaff},attrs:{role:"button"},on:{click:e.showAllStaff}},[n("strong",[e._v(e._s(e.staff.n))])]):e._e(),e._v(" "),!1!==e.service&&e.isCompactHeader?n("div",{staticClass:"header-service"},[n("span",{staticClass:"compact-servicename",class:{"wcan-edit":e.canChangeService},attrs:{role:"button"},on:{click:e.changeService}},[e._v(e._s(e.service.name))]),e._v(" "),e.duration?n("span",{staticClass:"wduration",class:{"wcan-edit":e.canChangeDuration},attrs:{role:"button"},on:{click:e.changeDuration}},[e._v(e._s(e.duration)+" "+e._s(e.getMinText))]):e._e()]):e._e()]):e._e()]):e._e()])},[],!1,null,null,null).exports),ee=n("OiRY"),te={mixins:[ee.a],props:{service:{type:Object},duration:{type:[Number,Boolean]},cancellable:{type:Boolean,default:!0},options:{type:Object}},computed:{getDuration:function(){return this.duration+" "+this.options.general.min},getPrice:function(){if(void 0===this.service.options.durations)return!1;var e=!0,t=!1,n=void 0;try{for(var i,a=this.service.options.durations[Symbol.iterator]();!(e=(i=a.next()).done);e=!0){var s=i.value;if(s.duration==this.duration&&-1===["",void 0].indexOf(s.woo_price))return this.formatPrice(s.woo_price)}}catch(e){t=!0,n=e}finally{try{!e&&a.return&&a.return()}finally{if(t)throw n}}}}},ne=(n("AbtR"),Object(h.a)(te,function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"d-flex align-items-center"},[n("span",{staticClass:"welementname",class:{wenmax:e.duration||e.getPrice}},[e._v(e._s(e.service.name))]),e._v(" "),e.duration?n("span",{staticClass:"wduration wsep"},[e._v(e._s(e.getDuration))]):e._e(),e._v(" "),e.getPrice?n("span",{staticClass:"wprice wsep"},[e._v(e._s(e.getPrice))]):e._e(),e._v(" "),e.cancellable?n("span",{staticClass:"wclose",attrs:{role:"button"},on:{click:function(t){e.$emit("discardElement",e.service)}}}):e._e()])},[],!1,null,null,null).exports),ie={mixins:[window.wappointmentExtends.filter("MixinChange",Z),J,F.a,ee.a],props:{service:{type:[Object,Boolean]},duration:{type:[Number,Boolean]},startsAt:{type:[String,Boolean]},location:{},options:{type:Object},attributesEl:{type:Object},staff:{type:Object},services:{type:Array},staffs:{type:Array},rescheduling:{},appointmentSaved:{},selectedVariation:{},selectedPackage:{type:[Object,Boolean],default:null}},components:{ElementSelected:window.wappointmentExtends.filter("ElementSelected",ne)},computed:{getLocationLabel:function(){return-1===[void 0,""].indexOf(this.location.name)?this.location.name:this.isPhysical?this.getAddress:-1!==["phone",2].indexOf(this.location)?this.options.form.byphone:-1!==["skype",3].indexOf(this.location)?this.options.form.byskype:-1!==["zoom",5].indexOf(this.location)?this.options.form.byzoom:void 0},isPhysical:function(){return-1!==["physical",1].indexOf(this.location)},getAddress:function(){return void 0!==this.service.options.address?this.service.options.address:void 0!==this.service.address?this.service.address:void 0},getMapAdress:function(){return"https://www.google.com/maps/search/?api=1&query="+this.getEncodedAdress},getEncodedAdress:function(){return encodeURIComponent(this.getAddress)},serviceHasIcon:function(){return""!=this.service.options.icon},packageHasIcon:function(){return""!=this.selectedPackage.options.icon}},methods:{hasText:function(e){for(var t=this.options,n=0;n<e.length;n++){if(![void 0,""].indexOf(t[e[n]]))return!1;t=t[e[n]]}return!0},changeTime:function(){this.$emit("changeService","BookingCalendar",{selectedSlot:!1})},changePackage:function(){this.$emit("changeService","PackagesSelection",{selectedPackage:!1,selectedVariation:!1})}}},ae=(n("zcf8"),Object(h.a)(ie,function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"appointment-summary"},[!1!==e.service?n("div",{staticClass:"wsummary-section wsec-service"},[e.hasText(["general","service"])?n("div",{staticClass:"wlabel"},[e._v(e._s(e.options.general.service))]):e._e(),e._v(" "),e.service?n("div",{staticClass:"wselected wclosable wmy-4 d-flex align-items-center d-flex-inline"},[e.serviceHasIcon?n("WapImage",{attrs:{element:e.service,desc:e.service.name,size:"auto"}}):e._e(),e._v(" "),n("span",{staticClass:"wml-2"},[n("ElementSelected",{attrs:{service:e.service,duration:e.duration,options:e.options,cancellable:!1}})],1),e._v(" "),e.canChangeService?n("span",{staticClass:"wclose",on:{click:e.changeService}}):e._e()],1):e._e()]):e._e(),e._v(" "),e.location?n("div",{staticClass:"wsummary-section wsec-location"},[e.hasText(["general","location"])?n("div",{staticClass:"wlabel"},[e._v(e._s(e.options.general.location))]):e._e(),e._v(" "),n("div",{staticClass:"wclosable wselected wmy-4 d-flex align-items-center d-flex-inline"},[n("WapImage",{attrs:{element:e.location,desc:e.location.name,size:"auto"}}),e._v(" "),e.isPhysical?n("a",{staticClass:"wml-2 map-link lnh-1",attrs:{href:e.getMapAdress,target:"_blank"}},[e._v(e._s(e.getAddress))]):n("span",{staticClass:"welementname wml-2 lnh-1"},[e._v(e._s(e.getLocationLabel))]),e._v(" "),e.canChangeLocation?n("span",{staticClass:"wclose",on:{click:e.changeLocation}}):e._e()],1)]):e._e(),e._v(" "),e.startsAt?n("div",{staticClass:"wsummary-section wsec-starts"},[e.hasText(["general","when"])?n("div",{staticClass:"wlabel"},[e._v(e._s(e.options.general.when))]):e._e(),e._v(" "),n("div",{staticClass:"wselected wclosable wmy-4 d-flex align-items-center d-flex-inline"},[n("WapImage",{attrs:{faIcon:["far","clock"],size:"auto"}}),e._v(" "),n("span",{staticClass:"welementname wml-2"},[e._v(e._s(e.startsAt))]),e._v(" "),n("span",{staticClass:"wclose",on:{click:e.changeTime}})],1)]):e._e(),e._v(" "),-1===[!1,null].indexOf(e.selectedPackage)?n("div",{staticClass:"wsummary-section wsec-package"},[e.hasText(["general","package"])?n("div",{staticClass:"wlabel"},[e._v(e._s(e.options.general.package))]):e._e(),e._v(" "),n("div",{staticClass:"wselected wclosable wmy-4 d-flex align-items-center d-flex-inline"},[e.packageHasIcon?n("WapImage",{attrs:{element:e.selectedPackage,desc:e.selectedPackage.options.name,size:"auto"}}):e._e(),e._v(" "),n("span",{staticClass:"welementname wml-2"},[e._v(e._s(e.selectedPackage.options.name))]),e._v(" "),n("span",{staticClass:"wcredits wsep"},[e._v(e._s(e.selectedVariation.credits)+" "+e._s(e.selectedPackage.type_label))]),e._v(" "),n("span",{staticClass:"wprice wsep"},[e._v(e._s(e.formatPrice(e.selectedVariation.price)))]),e._v(" "),n("span",{staticClass:"wclose",on:{click:e.changePackage}})],1)]):e._e()])},[],!1,null,null,null).exports),se={mixins:[ee.a],props:{order:{type:Object}},methods:{hasMoreThanOne:function(e){return void 0!==e.quantity&&e.quantity>1}}},oe=(n("m5ss"),Object(h.a)(se,function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[e._l(e.order.prices,function(t){return n("div",{staticClass:"wcharge wsummary-section"},[n("div",{staticClass:"wselected wclosable wmy-4 d-flex align-items-center d-flex-inline"},[n("span",{staticClass:"welementname"},[e._v(e._s(t.item_name)+" - "+e._s(e.formatCentsPrice(t.price_value))+" "),e.hasMoreThanOne(t)?n("span",[e._v(" x "+e._s(t.quantity))]):e._e()])])])}),e._v(" "),e.order.tax_amount>0?n("div",{staticClass:"wtotal wsummary-section"},[e._v("\n        Tax: "+e._s(e.formatCentsPrice(e.order.tax_amount))+"\n    ")]):e._e(),e._v(" "),n("div",{staticClass:"wtotal wsummary-section"},[e._v("\n        Total: "),n("strong",[e._v(e._s(e.formatCentsPrice(e.order.charge)))])])],2)},[],!1,null,null,null).exports),re=n("SyxS"),le=n("KH6Y"),ce=n("BDLL"),de=n("kGR+"),ue=n("gsSy"),pe=n("9cgI"),he=n("Jvpg"),fe={extends:L,computed:{hasIntervals:function(){return null!==this.currentIntervals&&this.currentIntervals.intervals.length>0},tooltipText:function(){return this.getSlotTooltip.replace("[total_slots]","")}},updated:function(){this.isDemo&&0==this.demoSelected.init&&!1!==this.demoSelected.day&&this.$nextTick(function(){this.selectedDay=!1,this.demoSelected.init=!0})},methods:{autoRunOnMount:function(){this.findFirstMonthwithAvail();var e=!1,t=0;for(this.selectedWeek=0;!1===e&&t<10;){var n=!0,i=!1,a=void 0;try{for(var s,o=this.reorganiseDays[this.selectedWeek][Symbol.iterator]();!(n=(s=o.next()).done);n=!0){var r=s.value;this.cachedSlots[r]>0&&(e=!0)}}catch(e){i=!0,a=e}finally{try{!n&&o.return&&o.return()}finally{if(i)throw a}}e||this.changeWeek(),t++}},changeWeek:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=!1===e?this.selectedWeek-1:this.selectedWeek+1;this.setWeek(t)},setWeek:function(e){this.selectedDay=!1,e<0?(this.prevMonth(),this.selectedWeek=this.reorganiseDays.length-1):e>this.reorganiseDays.length-1?(this.nextMonth(),this.selectedWeek=0):this.selectedWeek=e}}},ve=(n("2YWL"),Object(h.a)(fe,function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"first-avail"},[e.hasIntervals?n("div",{staticClass:"d-flex"},[n("div",[n("div",{staticClass:"tt-here",attrs:{"data-tt":e.getMonthYear,title:e.getMonthYear}},[n("weekHeader",{attrs:{weekHeader:e.weekHeader}})],1),e._v(" "),n("DaysOfWeek",{attrs:{idweek:e.selectedWeek,week:e.reorganiseDays[e.selectedWeek],tooltip:e.tooltipText,selectedDay:e.selectedDay,demoSelected:e.demoSelected,cachedSlots:e.cachedSlots,isDemo:e.isDemo}})],1),e._v(" "),n("a",{staticClass:"ml-2 wbtn wbtn-secondary",attrs:{href:"javascript:;"},on:{click:function(t){return t.stopPropagation(),t.target!==t.currentTarget?null:e.changeWeek(t)}}},[e._v(">")])]):n("div",{staticClass:"werror"},[e._v("\n        "+e._s(e.options.general.noappointments)+"\n    ")])])},[],!1,null,null,null).exports),me={mixins:[window.wappointmentExtends.filter("MixinChange",Z),F.a],props:["calendars","options","timeprops","viewData","attributesEl"],data:function(){return{search:"",advancedStaff:[],selectedService:!1,reload:!1,showDropdownService:!1}},components:{FirstAvailabilities:ve,ServiceButton:he.a},watch:{selectedService:function(e){this.reload=!0,setTimeout(this.reloaded,100)}},computed:{selectedServiceObject:function(){var e=this.selectedService;return this.servicesAvailable.find(function(t){return parseInt(t.id)===parseInt(e)})},selectedLocationObject:function(){return this.selectedServiceObject.locations[0]},servicesAvailable:function(){var e=void 0!==this.attributesEl&&void 0!==this.attributesEl.serviceSelection?this.attributesEl.serviceSelection:[],t=e.length>1?this.viewData.services.filter(function(t){return-1!==e.indexOf(t.id)}):this.viewData.services,n={};return n.locations=t[0].locations,n.sorting=t[0].sorting,n.id=-1,n.name="60"+this.options.general.min,n.options={},n.options.durations=[{duration:60}],t.unshift(n),t},getServiceDuration:function(){return this.selectedServiceObject.options.durations[0].duration},getStaffBasedOnserviceFilter:function(){var e=0===(void 0!==this.attributesEl.serviceSelection&&"array"==typeof this.attributesEl.serviceSelection?this.attributesEl.serviceSelection:[]).length?this.calendars:this.calendars.filter(function(t){var n=!0,i=!1,a=void 0;try{for(var s,o=e[Symbol.iterator]();!(n=(s=o.next()).done);n=!0){var r=s.value;if(-1!==t.services.indexOf(r))return!0}}catch(e){i=!0,a=e}finally{try{!n&&o.return&&o.return()}finally{if(i)throw a}}return!1});return e},filteredStaff:function(){var e=this.search.toLowerCase(),t=this.selectedService;return this.getStaffBasedOnserviceFilter.map(function(e){return Object.assign({name:e.n,options:{icon:{src:e.a.replace("?s=46","?s=80"),wp_id:!0}}},e)}).filter(function(n){return-1!==n.name.toLowerCase().indexOf(e)&&(t<0||t>0&&-1!==n.services.indexOf(t))})}},created:function(){this.selectedService=this.servicesAvailable[0].id,this.setAdvancedStaff()},methods:{reloaded:function(){this.reload=!1},setAdvancedStaff:function(){for(var e=0;e<this.calendars.length;e++)this.advancedStaff[e]={initIntervalsCollection:this.getIntervalsCollection(this.calendars[e])}},getFirstService:function(e){var t=e.services[0];return this.viewData.services.find(function(e){return e.id==t})},getIntervalsCollection:function(e){return new a.a(e.availability,!1)},hasIntervals:function(e){var t=this.getIntervalsCollection(e);return-1===[null,void 0].indexOf(t.intervals)&&t.intervals.length>0},selectStaff:function(e){!this.isDemo&&this.hasIntervals(e)&&this.$emit("staffSelected",e)}}},ge=(n("4iGn"),Object(h.a)(me,function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.calendars.length>0?n("div",[void 0!==e.options?n("div",{staticClass:"title wtitle"},[n("div",[e._v(e._s(e.options.staff_selection.pickstaff))]),e._v(" "),e.servicesAvailable&&e.servicesAvailable.length>1?n("div",{staticClass:"d-flex text-sm justify-content-center align-items-center"},[n("span",[e._v(e._s(e.options.staff_selection.availabilityfor))]),e._v(" "),n("div",{staticClass:"mr-2 ml-2"},[e.showDropdownService?n("select",{directives:[{name:"model",rawName:"v-model",value:e.selectedService,expression:"selectedService"}],on:{change:function(t){var n=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){return"_value"in e?e._value:e.value});e.selectedService=t.target.multiple?n:n[0]}}},e._l(e.servicesAvailable,function(t){return n("option",{domProps:{value:t.id}},[e._v(e._s(t.name))])}),0):n("a",{attrs:{href:"javascript:;"},on:{click:function(t){e.showDropdownService=!0}}},[e._v(e._s(e.selectedServiceObject.name))])]),e._v(" "),e.selectedService>0?n("div",[e._v("\n                "+e._s(e.getServiceDuration)+" "+e._s(e.options.general.min)+"\n            ")]):e._e()]):e._e()]):e._e(),e._v(" "),e.calendars.length>10?n("input",{directives:[{name:"model",rawName:"v-model",value:e.search,expression:"search"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:e.search},on:{input:function(t){t.target.composing||(e.search=t.target.value)}}}):e._e(),e._v(" "),e.reload?e._e():n("div",{staticClass:"d-flex flex-wrap justify-content-around"},e._l(e.filteredStaff,function(t,i){return n("ServiceButton",{key:"staff-sel-"+t.id,attrs:{extraClass:"wbtn-staff",service:t,options:e.options},on:{selectService:e.selectStaff}},[n("FirstAvailabilities",{attrs:{staffs:e.filteredStaff,location:e.selectedLocationObject,options:e.options,timeprops:e.timeprops,duration:e.getServiceDuration,viewData:e.viewData,service:e.selectedServiceObject,initIntervalsCollection:e.advancedStaff[i].initIntervalsCollection}})],1)}),1)]):e._e()},[],!1,null,null,null).exports),we=n("JpxJ"),be={methods:{getImage:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:".svg";return{icon:"methods/"+e+(-1===e.indexOf(".")?t:""),alt:e,title:e}}}},_e=Object(h.a)(be,void 0,void 0,!1,null,null,null).exports,ye=n("uAwV"),xe=n("hs9/"),ke={components:{WImage:xe.a},mixins:[_e],props:{method:{type:Object},active:{type:String},icon:{type:Boolean,default:!1},tab:{type:String}},computed:{isActive:function(){return this.active==this.method.key}}},Se=(n("US5p"),{props:["methods","options"],components:{WPaymentMethod:Object(h.a)(ke,function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"wtab",class:[e.isActive?"active":"inactive"],attrs:{role:"button"},on:{click:function(t){e.$emit("click",e.method.key)}}},[e.icon?n("WImage",{attrs:{image:e.getImage(e.method.key,".png")}}):e._e(),e._v(" "),n("span",{staticClass:"wmethod-name"},[e._v(e._s(e.tab))])],1)},[],!1,null,null,null).exports},data:function(){return{active:""}},created:function(){this.clicked(this.methods[0].key)},methods:{clicked:function(e){this.active=e,this.$emit("selected",e)}}}),Ce=Object(h.a)(Se,function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"wtabs d-flex"},e._l(e.methods,function(t){return e.methods.length>1?n("WPaymentMethod",{key:t.key,attrs:{method:t,tab:e.options.swift_payment[t.key+"_tab"],active:e.active},on:{click:e.clicked}}):e._e()}),1)},[],!1,null,null,null).exports;var De={data:function(){return{scriptAsync:null,scriptAsyncLoaded:!1}},mounted:function(){this.isLoadedAlready()?this.successLoadScript(null):this.$WapModal().request(this.preloadScript(),this.successLoadScript)},methods:{preloadScript:function(){var e=function(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){return function i(a,s){try{var o=t[a](s),r=o.value}catch(e){return void n(e)}if(!o.done)return Promise.resolve(r).then(function(e){i("next",e)},function(e){i("throw",e)});e(r)}("next")})}}(regeneratorRuntime.mark(function e(){var t=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==this.scriptAsync){e.next=2;break}throw"scriptAsync is not defined";case 2:return e.abrupt("return",new Promise(function(e,n){var i=document.createElement("script");i.onload=function(t){e(!0)},i.src=t.scriptAsync,document.head.appendChild(i)}));case 3:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),successLoadScript:function(e){this.recordToEnv(),void 0!==this.successAfterLoadScript&&this.successAfterLoadScript(e)},recordToEnv:function(){this.isLoadedAlready()||window.loadedScripts.push(this.scriptAsync)},isLoadedAlready:function(){void 0===window.loadedScripts&&(window.loadedScripts=[]);var e=this.scriptAsync;return window.loadedScripts.find(function(t){return t==e})}}},Ae=Object(h.a)(De,void 0,void 0,!1,null,null,null).exports,Pe={props:["options"],methods:{confirm:function(){this.$emit("confirm")}}},Ee=Object(h.a)(Pe,function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("div",{staticClass:"p-2"},[n("div",{staticClass:"wdescription"},[e._v(e._s(e.options.swift_payment.onsite_desc))])]),e._v(" "),n("button",{staticClass:"wbtn wbtn-primary wbtn-block",on:{click:e.confirm}},[e._v(e._s(e.options.swift_payment.onsite_confirm))])])},[],!1,null,null,null).exports,Ie=n("LNkL");var Oe={extends:i.a,mixins:[F.a,ye.a,_e],props:["options","relations","appointmentKey","appointmentData","service","order"],components:window.wappointmentExtends.filter("PaymentMethods",{WPaymentMethods:Ce,WImage:xe.a,onsite:Ee,ElementSelected:ne,Terms:Ie.a},{asyncLoad:Ae,GetImage:_e,CanFormatPrice:ee.a}),data:function(){return{servicesOrder:null,activeMethod:"",methods:window.apiWappointment.methods}},created:function(){this.servicesOrder=this.$vueService(new we.a)},computed:{activeMethods:function(){return this.methods.filter(function(e){return e.installed>0&&e.active>0})},selectedMethod:function(){var e=this.activeMethod;return""!=e&&this.activeMethods.find(function(t){return t.key==e})},serviceDuration:function(){return(this.appointmentData.end_at-this.appointmentData.start_at)/60},durationPrice:function(){if(void 0!==this.service.options.durations){var e=this.serviceDuration;return this.service.options.durations.find(function(t){return t.duration==e})}}},methods:{loadingTransfer:function(e){this.$emit("loading",e)},selected:function(e){this.activeMethod=e},cancel:function(){},confirm:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!1!==e)return this.confirmSuccess(e);this.$emit("loading",{loading:!0}),this.confirmRequest().then(this.confirmSuccess).catch(this.confirmFailure)},confirmRequest:function(){var e=function(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){return function i(a,s){try{var o=t[a](s),r=o.value}catch(e){return void n(e)}if(!o.done)return Promise.resolve(r).then(function(e){i("next",e)},function(e){i("throw",e)});e(r)}("next")})}}(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.servicesOrder.call("confirm",{transaction_id:this.order.transaction_id});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}(),confirmFailure:function(e){this.serviceError({message:"Error confirming order"}),this.$emit("loading",{loading:!1})},confirmSuccess:function(e){var t=void 0!==e.data.appointment?e.data.appointment:e.data.orderCompleted.appointments[0];this.$emit("confirmedPayment",this.relations.next,{appointmentSaved:!0,loading:!1,appointmentSavedData:t})}}},Re=(n("Nd7V"),Object(h.a)(Oe,function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("WPaymentMethods",{attrs:{methods:e.activeMethods,options:e.options},on:{selected:e.selected}}),e._v(" "),e.activeMethod?n("div",{staticClass:"wpayment"},[n("div",{staticClass:"wfooter"},[n(e.activeMethod,{tag:"component",attrs:{order:e.order,options:e.options,method:e.selectedMethod},on:{loading:e.loadingTransfer,confirm:e.confirm,cancel:e.cancel}}),e._v(" "),n("Terms",{attrs:{options:e.options,tos:!0}})],1)]):e._e()],1)},[],!1,null,null,null).exports);var Te={data:function(){return{converted:!1}},methods:{getFormattedDate:function(e,t,n,i,a){var s=this;return new Promise(function(o,r){!1===t?o(!1):!1===e&&("en"!==n&&"en"!==Object(T.a)().substr(0,2)?s.convertDateRequest({timezone:s.timeprops.currentTz,timestamp:t.start}).then(function(e){return o(e.data.converted)}):o(s.getMoment(t.start,i).format(a)))})},convertDateRequest:function(){var e=function(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){return function i(a,s){try{var o=t[a](s),r=o.value}catch(e){return void n(e)}if(!o.done)return Promise.resolve(r).then(function(e){i("next",e)},function(e){i("throw",e)});e(r)}("next")})}}(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.serviceBooking.call("convertDate",t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()}},Be=Object(h.a)(Te,void 0,void 0,!1,null,null,null).exports,Me="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};Q.components={DurationCell:re.a};var Fe={BookingFormConfirmation:g,RescheduleConfirm:x,BookingCalendar:U,BookingFormInputs:K.a,BookingFormHeader:Q,BookingServiceSelection:de.a,BookingDurationSelection:ue.a,BookingLocationSelection:pe.a,BookingStaffSelection:ge,BookingPaymentStep:Re,DurationCell:re.a,abstractFront:i.a,BookingFormSummary:ae,AppointmentOrder:oe,AppointmentTypeSelection:ce.a};Fe=window.wappointmentExtends.filter("BookingFormComp",Fe);var je=window.wappointmentExtends.filter("BookingFormMixins",[ee.a,s.a,o.a,u.a,Be,window.wappointmentExtends.filter("MixinChange",Z)]),Le={extends:i.a,mixins:je,props:["serviceAction","appointmentkey","rescheduleData","options","step","passedDataSent","wrapperid","demoAs","attributesEl"],components:Fe,data:function(){return{viewName:"availability",viewData:null,intervalsCollection:null,currentTz:"UTC",selectedSlot:!1,time_format:"",date_format:"",appointmentSavedData:!1,resultBooking:!1,appointmentSaved:!1,appointmentKey:!1,dataloaded:!1,isApprovalManual:!1,dataSent:{},errors:null,componentsList:null,services:[],service:!1,location:!1,duration:!1,currentStep:"BookingCalendar",loadingStep:"",requiresScroll:!1,selectedStaff:null,showHeader:!0,checkCacheIntervalid:!1,order:!1,selectedVariation:!1,selectedPackage:!1,lockToServiceIDs:[],errorShortcode:!1,appointmentStartsAt:!1}},mounted:function(){this.refreshInitValue(),this.currentTz=this.tzGuess(),this.createdAt=this.getUnixNow(),null!==this.step&&(this.requiresScroll=!0),window.addEventListener("resize",this.windowResized)},beforeDestroy:function(){window.removeEventListener("resize",this.windowResized)},watch:{selectedSlot:function(e,t){if(e!=t)return this.appointmentStartsAt=w.DateTime.fromSeconds(this.selectedSlot.start).toLocaleString(w.DateTime.DATETIME_MED),""}},computed:{showStaffSelection:function(){return this.mustSelectStaff||"BookingStaffSelection"==this.loadingStep},mustSelectStaff:function(){return void 0!==this.attributesEl&&void 0!==this.attributesEl.staffPage&&1==this.attributesEl.staffPage},randomSelection:function(){return void 0!==this.attributesEl&&void 0!==this.attributesEl.random&&1==this.attributesEl.random},staffIsSelected:function(){return-1===[null,void 0,!1].indexOf(this.selectedStaff)},noStaffSelectionNeeded:function(){return!this.showStaffSelection||this.showStaffSelection&&this.staffIsSelected&&!0!==this.bfdemo},isLegacyOrNotServiceSuite:function(){return this.isLegacy||void 0!==this.service.type},isCompactHeader:function(){return void 0===this.options.general||!this.__isEmpty(this.options.general.check_header_compact_mode)},serviceSelected:function(){return!1!==this.service},durationSelected:function(){return!1!==this.duration},locationSelected:function(){return this.isLegacyOrNotServiceSuite||!1!==this.location},slotSelected:function(){return!1!==this.selectedSlot&&this.selectedSlot.start>0},serviceIsNotFree:function(){return!1!==this.service&&!0===this.service.options.woo_sellable},requiredPayment:function(){return!1!==this.resultBooking&&!0===this.resultBooking.payment_required},canSkipPayment:function(){return!1===this.serviceIsNotFree||this.serviceIsNotFree&&!1===this.requiredPayment},serviceUNotFree:function(){return!1!==this.service&&!0===this.service.options.woo_sellable&&this.service.options.woo_price>0},serviceMNotFree:function(){return!1!==this.service&&!0===this.service.options.woo_sellable&&void 0!==this.service.options.durations&&this.service.options.durations[0].woo_price>0},isStepForm:function(){return!this.appointmentSaved&&!this.reschedulingSelectedSlot&&this.selectedSlot},isStepSlotSelection:function(){return!this.appointmentSaved&&!this.reschedulingSelectedSlot&&!this.selectedSlot},rescheduling:function(){return"rescheduling"===this.serviceAction},reschedulingSelectedSlot:function(){return this.rescheduling&&this.selectedSlot},fullDateFormat:function(){return this.date_format+"["+this.viewData.date_time_union+"]"+this.time_format},canBeBooked:function(){return this.dataloaded&&(null!==this.intervalsCollection&&this.intervalsCollection.intervals.length>0||this.mustSelectStaff&&!this.staffIsSelected)},staff:function(){return this.selectedStaff},filterStaffByService:function(){var e=this.getStaffs;if(this.serviceLocked){var t=this.attributesEl.serviceSelection;e=e.filter(function(e){var n=!0,i=!1,a=void 0;try{for(var s,o=e.services[Symbol.iterator]();!(n=(s=o.next()).done);n=!0){var r=s.value;if(-1!==t.indexOf(r))return!0}}catch(e){i=!0,a=e}finally{try{!n&&o.return&&o.return()}finally{if(i)throw a}}})}return e},timeprops:function(){var e={currentTz:this.currentTz,time_format:this.time_format,fullDateFormat:this.fullDateFormat,ctz:this.currentTz};return void 0!==this.appointmentkey&&(e.appointmentkey=this.appointmentkey),e},getStaffs:function(){return this.__get(this,"viewData.staffs",[])},getWapBodyId:function(){return"wapbody"+this.wrapperid}},methods:{checkForCache:function(){return void 0!==window.wappoAvailability&&window.wappoAvailability},cacheValue:function(){window.wappoAvailability=this.viewData,setTimeout(this.clearCache,12e4),window.wappoAvailabilityRunning=void 0},clearCache:function(){window.wappoAvailability=void 0},isCacheReady:function(){!0!==window.wappoAvailabilityRunning&&(clearInterval(this.checkCacheIntervalid),this.refreshInitValue())},refreshInitValue:function(){if(!0===window.wappoAvailabilityRunning)return this.checkCacheIntervalid=setInterval(this.isCacheReady,400);var e=this.checkForCache();if(e)return this.loaded({data:e});this.runRequestAvail()},runRequestAvail:function(){window.wappoAvailabilityRunning=!0,this.loading=!0,this.initValueRequest().then(this.loaded).catch(this.serviceError)},setStaff:function(e){this.selectedStaff=e,this.setAvailableServices(),this.refreshAvail(),this.autoSelectingOptions()},autoSelectingOptions:function(){this.autoSelService(),this.filterServices(),this.autoSelectDuration(),this.autoSelectModality()},filterServices:function(){if(this.lockToServiceIDs.length>0){var e=this.lockToServiceIDs;this.services=this.services.filter(function(t){return-1!==e.indexOf(t.id)})}},changeStaff:function(e){this.service=!1,this.location=!1,this.setStaff(e),this.showHeader=!1,this.currentStep="",setTimeout(this.showHeaderLater.bind(null,this.selectFirstStep("BookingServiceSelection",{service:this.service,location:this.location,duration:this.duration})),100)},showHeaderLater:function(e){this.showHeader=!0,this.childChangedStep(e)},windowResized:function(){this.checkIfRequiresScroll()},loadStep:function(e){this.loadingStep=e},formatAppointmentStartsAt:function(e){this.appointmentStartsAt=e},checkIfRequiresScrollDelay:function(){setTimeout(this.checkIfRequiresScroll,200)},checkIfRequiresScroll:function(){if(null!==this.step)return!0;var e=document.getElementById(this.wrapperid),t=e.getElementsByClassName("wap-head"),n=60;void 0!==t&&Array.isArray(t)&&void 0!==t[0]&&(n=t[0].scrollHeight);var i=e.scrollHeight-n,a=document.getElementById(this.getWapBodyId).scrollHeight;this.requiresScroll=a>i},childChangedStep:function(e,t){"object"==(void 0===t?"undefined":Me(t))&&Object.keys(t).length>0&&this.childChangedData(t),this.eventProcesses(e),this.currentStep=e,setTimeout(this.loadStep.bind(null,e),100),this.$emit("changedStep",e)},eventProcesses:function(e){switch(e){case"BookingServiceSelection":this.refreshAvail()}},selectedLocation:function(e){this.location=e},childChangedData:function(e){for(var t in e)e.hasOwnProperty(t)&&(this[t]=e[t]);this.autoSelectLocation()},getDefaultService:function(){return!(!this.dataloaded||void 0===this.viewData.services[0])&&this.viewData.services[0]},getCompProp:function(e){var t=void 0!==this.componentsList[e].props?this.componentsList[e].props:{},n={};for(var i in t)if(t.hasOwnProperty(i)){var a=t[i];if("string"==typeof a)if(-1!==a.indexOf(".")){var s=a.split("."),o=Object.assign({},this),r=!0,l=!1,c=void 0;try{for(var d,u=s[Symbol.iterator]();!(r=(d=u.next()).done);r=!0){o=o[d.value]}}catch(e){l=!0,c=e}finally{try{!r&&u.return&&u.return()}finally{if(l)throw c}}n[i]=o}else n[i]=this[a];else n[i]=a}return n},getCompRelations:function(e){return void 0!==this.componentsList[e].relations?this.componentsList[e].relations:{}},getCompListeners:function(e){var t=void 0!==this.componentsList[e].listeners?this.componentsList[e].listeners:{};for(var n in t)if(t.hasOwnProperty(n)){var i=t[n];"string"==typeof i&&(t[n]=this[i])}return t},getComp:function(e){return this.componentsList[e].name},isCompVisible:function(e){var t=void 0!==this.componentsList[e].conditions&&this.componentsList[e].conditions;if(!1!==t){var n=Object.keys(t),i=!0,a=!1,s=void 0;try{for(var o,r=n[Symbol.iterator]();!(i=(o=r.next()).done);i=!0){var l=o.value;if(!0!==this.bfdemo&&this[l]!==t[l])return void 0!==this.componentsList[e].skip&&this.conditionSkipPass(e)&&this.childChangedStep(this.componentsList[e].relations.next),!1}}catch(e){a=!0,s=e}finally{try{!i&&r.return&&r.return()}finally{if(a)throw s}}}return!0},conditionSkipPass:function(e){var t=Object.keys(this.componentsList[e].skip),n=!0,i=!1,a=void 0;try{for(var s,o=t[Symbol.iterator]();!(n=(s=o.next()).done);n=!0){var r=s.value;if(this[r]!==this.componentsList[e].skip[r])return!1}}catch(e){i=!0,a=e}finally{try{!n&&o.return&&o.return()}finally{if(i)throw a}}return!0},getDefaultStaff:function(){var e=[];if(void 0!==this.filterStaffByService&&this.filterStaffByService.length>1){if(this.randomSelection)return this.filterStaffByService[Math.floor(Math.random()*this.filterStaffByService.length)];for(var t=0;t<this.filterStaffByService.length;t++)this.filterStaffByService[t].services.length>0&&this.filterStaffByService[t].availability.length>0&&e.push({id:t,start:this.filterStaffByService[t].availability[0][0],end:this.filterStaffByService[t].availability[0][1]});return e.sort(function(e,t){return e.start>t.start}),this.filterStaffByService[e[0].id]}return this.filterStaffByService[0]},refreshAvail:function(){this.intervalsCollection=new a.a(this.selectedStaff.availability)},loadedAfter:function(){if(this.cacheValue(),this.time_format=Object(le.a)(this.viewData.time_format),this.date_format=Object(le.a)(this.viewData.date_format),this.startDay=this.viewData.week_starts_on,0!=this.viewData.staffs.length){if(this.setMomentLocale(),this.dataloaded=!0,(!this.mustSelectStaff||this.mustSelectStaff&&1==this.getStaffs.length)&&this.initServiceStaffDurationLocation(),this.setComponentLists(),this.rescheduling){this.currentStep="BookingCalendar",void 0!==this.rescheduleData.staff&&this.setStaff(this.rescheduleData.staff),this.service=this.rescheduleData.service;var e=void 0!==this.rescheduleData.appointment.options.buffer_time?60*parseInt(this.rescheduleData.appointment.options.buffer_time):0;this.duration=(this.rescheduleData.appointment.end_at-this.rescheduleData.appointment.start_at-e)/60,this.location=this.rescheduleData.location}else{var t={service:this.service,duration:this.duration,location:this.location},n=window.wappointmentExtends.filter("BFFirstStep","BookingCalendar",t);this.currentStep=this.selectFirstStep(n,t),this.autoSelectLocation()}this.$emit("changedStep",this.currentStep),this.loadStep(this.currentStep),void 0!==this.loadedInit&&this.loadedInit(this.step)}else this.dataloaded=!0},selectFirstStep:function(e,t){return!1===this.isLegacyOrNotServiceSuite?!1===t.service?this.getStepFirst():this.getStepAfterService(t):e},getStepFirst:function(){return this.noStaffSelectionNeeded?"BookingServiceSelection":"BookingStaffSelection"},getStepAfterService:function(e){return!1===e.duration?"BookingDurationSelection":this.getStepAfterDuration(e)},getStepAfterDuration:function(e){return!1===e.location?"BookingLocationSelection":"BookingCalendar"},autoSelectLocation:function(){Array.isArray(this.service.type)&&1==this.service.type.length&&(this.location=this.service.type[0])},setAvailableServices:function(){if(1==this.viewData.services.length&&void 0!==this.viewData.services[0].type)this.services=this.viewData.services.filter(function(e){return!0});else{var e=this.selectedStaff.services;this.services=this.viewData.services.filter(function(t){return-1!==e.indexOf(t.id)})}},autoSelService:function(){1==this.services.length&&(this.service=this.services[0])},demoAutoSelect:function(){!0===this.demoAs&&(!1===this.service&&(this.service=this.services[0]),!1!==this.service&&(this.duration=this.getFirstDuration(this.service),this.location=void 0===this.service.type&&(1===this.service.locations.length&&this.service.locations[0])),!1===this.service||this.location||(this.location=this.service.locations[0]))},autoSelectDuration:function(){!1===this.service||this.duration||void 0!==this.service.type||1!=this.service.options.durations.length||(this.duration=this.service.options.durations[0].duration)},autoSelectModality:function(){!1===this.service||this.location||void 0!==this.service.type||1!=this.service.locations.length||(this.location=this.service.locations[0])},initServiceStaffDurationLocation:function(){this.testLockedStaff(),this.errorShortcode||(this.testLockedService(),this.errorShortcode||(this.selectedStaff||(this.selectedStaff=this.getDefaultStaff(),this.refreshAvail()),this.setAvailableServices(),this.autoSelectingOptions(),this.demoAutoSelect()))},testLockedStaff:function(){if(void 0!==this.attributesEl&&void 0!==this.attributesEl.staffSelection){var e=!0,t=!1,n=void 0;try{for(var i,a=this.viewData.staffs[Symbol.iterator]();!(e=(i=a.next()).done);e=!0){var s=i.value;if(parseInt(this.attributesEl.staffSelection)===parseInt(s.id))return this.setStaff(s)}}catch(e){t=!0,n=e}finally{try{!e&&a.return&&a.return()}finally{if(t)throw n}}this.errorShortcode="Staff "+this.attributesEl.staffSelection+" does not exist"}},testLockedService:function(){if(void 0!==this.attributesEl&&void 0!==this.attributesEl.serviceSelection){var e=this.attributesEl.serviceSelection;Array.isArray(e)?this.lockToServiceIDs=e:this.lockToServiceIDs.push(parseInt(this.attributesEl.serviceSelection)),this.viewData.services.filter(function(t){return-1!==e.indexOf(t.id)}).length<1&&(this.errorShortcode="Service "+this.attributesEl.serviceSelection.join(",")+" does not exist")}},getFirstDuration:function(e){return this.__get(e,"options.durations.0.duration")||e.duration},setComponentLists:function(){var e={BookingCalendar:{name:"BookingCalendar",conditions:{serviceSelected:!0,durationSelected:!0,locationSelected:!0,appointmentSaved:!1},props:{service:"service",initIntervalsCollection:"intervalsCollection",options:"options",duration:"duration",timeprops:"timeprops",staffs:"getStaffs",viewData:"viewData",rescheduling:"rescheduling"},listeners:{selectSlot:"childChangedStep",loading:"childChangedData"},relations:{next:"BookingFormInputs"}},RescheduleConfirm:{name:"RescheduleConfirm",conditions:{slotSelected:!0,rescheduling:!0,appointmentSaved:!1},props:{selectedSlot:"selectedSlot",timeprops:"timeprops",options:"options",rescheduleData:"rescheduleData"},listeners:{back:"childChangedStep",loading:"childChangedData",confirmed:"childChangedStep",serviceError:"serviceError"},relations:{next:"BookingFormConfirmation",prev:"BookingCalendar"}},BookingFormInputs:{name:"BookingFormInputs",conditions:{slotSelected:!0,rescheduling:!1,appointmentSaved:!1},props:{selectedSlot:"selectedSlot",selectedStaff:"selectedStaff",timeprops:"timeprops",service:"service",selectedPackage:"selectedPackage",selectedVariation:"selectedVariation",duration:"duration",location:"location",errors:"errorMessages",data:"dataSent",options:"options",relatedComps:"relatedComps",appointment_starts_at:"appointmentStartsAt",custom_fields:"viewData.custom_fields",staffs:"filterStaffByService",wpauth:"viewData.wpauth"},listeners:{back:"childChangedStep",selectedLocation:"selectedLocation",loading:"childChangedData",confirmed:"childChangedStep",serviceError:"serviceError"},relations:{next:"BookingFormConfirmation",prev:"BookingCalendar"}},BookingFormConfirmation:{name:"BookingFormConfirmation",conditions:{appointmentSaved:!0},props:{timeprops:"timeprops",service:"service",errors:"errorMessages",appointment:"appointmentSavedData",result:"dataSent",options:"options",isApprovalManual:"isApprovalManual",staff:"selectedStaff",appointment_starts_at:"appointmentStartsAt",rescheduling:"rescheduling",resultBooking:"resultBooking",viewData:"viewData"},listeners:{loading:"childChangedData"}}};this.isLegacyOrNotServiceSuite||(e=this.updateComponentList(e),void 0!==window.apiWappointment.methods&&window.apiWappointment.methods.length>0&&(e=this.setPaymentStep(e))),this.componentsList=window.wappointmentExtends.filter("componentsList",e,{service:this.service,rescheduling:this.rescheduling})},setPaymentStep:function(e){return e.BookingPaymentStep={name:"BookingPaymentStep",conditions:{appointmentSaved:!0,serviceIsNotFree:!0},skip:{canSkipPayment:!0},props:{options:"options",appointmentKey:"appointmentKey",appointmentData:"appointmentSavedData",order:"order",service:"service"},listeners:{confirmedPayment:"childChangedStep",cancelledPayment:"childChangedStep",loading:"childChangedData"},relations:{prev:"BookingFormInputs",next:"BookingFormConfirmation"}},e},updateComponentList:function(e){return e.BookingFormInputs.props.custom_fields="viewData.custom_fields",e.BookingCalendar.props.location="location",e.BookingCalendar.props.viewData="viewData",e.BookingStaffSelection={name:"BookingStaffSelection",conditions:{serviceSelected:!1,appointmentSaved:!1,rescheduling:!1,showStaffSelection:!0},props:{calendars:"filterStaffByService",options:"options",timeprops:"timeprops",viewData:"viewData",attributesEl:"attributesEl"},listeners:{staffSelected:"changeStaff"},relations:{next:"BookingServiceSelection"}},e.BookingServiceSelection={name:"BookingServiceSelection",conditions:{serviceSelected:!1,appointmentSaved:!1,rescheduling:!1,noStaffSelectionNeeded:!0},props:{services:"services",options:"options",viewData:"viewData"},listeners:{serviceSelected:"childChangedStep"},relations:{next:"BookingDurationSelection"}},e.BookingDurationSelection={name:"BookingDurationSelection",conditions:{serviceSelected:!0,durationSelected:!1,appointmentSaved:!1,rescheduling:!1},props:{service:"service",options:"options"},listeners:{durationSelected:"childChangedStep",backToService:"childChangedStep"},relations:{next:"BookingLocationSelection",prev:"BookingServiceSelection"}},e.BookingLocationSelection={name:"BookingLocationSelection",conditions:{serviceSelected:!0,durationSelected:!0,locationSelected:!1,appointmentSaved:!1,rescheduling:!1},props:{service:"service",options:"options"},listeners:{locationSelected:"childChangedStep",backToDuration:"childChangedStep"},relations:{next:"BookingCalendar",prev:"BookingDurationSelection"}},e}}},ze=(n("IlXR"),Object(h.a)(Le,function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"wap-bf",class:{show:e.canBeBooked,"has-scroll":e.requiresScroll}},[e.canBeBooked&&!e.errorShortcode?[e.showHeader&&e.noStaffSelectionNeeded?n("BookingFormHeader",{attrs:{isStepSlotSelection:e.isStepSlotSelection,options:e.options,attributesEl:e.attributesEl,service:e.service,services:e.services,staffs:e.getStaffs,duration:e.duration,location:e.location,rescheduling:e.rescheduling,appointmentSaved:e.appointmentSaved,staff:e.selectedStaff,mustSelectStaff:e.mustSelectStaff},on:{changeService:e.childChangedStep,changeDuration:e.childChangedStep,changeLocation:e.childChangedStep,showStaffScreen:e.childChangedStep}}):e._e(),e._v(" "),n("div",{staticClass:"wap-form-body",attrs:{id:e.getWapBodyId}},[e.appointmentSaved||e.isCompactHeader?[e.order?n("AppointmentOrder",{attrs:{order:e.order}}):e._e()]:n("BookingFormSummary",{attrs:{isStepSlotSelection:e.isStepSlotSelection,options:e.options,attributesEl:e.attributesEl,service:e.service,duration:e.duration,services:e.services,staffs:e.getStaffs,staff:e.selectedStaff,rescheduling:e.rescheduling,startsAt:e.appointmentStartsAt,location:e.location,appointmentSaved:e.appointmentSaved,selectedPackage:e.selectedPackage,selectedVariation:e.selectedVariation},on:{changeService:e.childChangedStep,changeDuration:e.childChangedStep,changeLocation:e.childChangedStep}}),e._v(" "),n("div",{staticClass:"wrap-calendar p-2",class:"step-"+e.currentStep},[e.loading?n("div",[n("Loader")],1):e._e(),e._v(" "),""!=e.currentStep?n("div",{class:{"hide-loading":e.loading}},[e.currentStep==e.loadingStep&&e.isCompVisible(e.currentStep)?n("div",[n(e.getComp(e.currentStep),e._g(e._b({tag:"component",attrs:{relations:e.getCompRelations(e.currentStep)},on:{"hook:mounted":e.checkIfRequiresScrollDelay,"hook:updated":e.checkIfRequiresScrollDelay}},"component",e.getCompProp(e.currentStep),!1),e.getCompListeners(e.currentStep)))],1):e._e()]):e._e()])],2)]:n("div",[e.dataloaded?n("div",{staticClass:"wappointment-errors"},[e.errorShortcode?n("div",[e._v(" "+e._s(e.errorShortcode)+" ")]):n("div",[e._v(e._s(e.options.general.noappointments))])]):[e.errorMessages.length>0?n("div",{staticClass:"wappointment-errors"},e._l(e.errorMessages,function(t){return n("div",[e._v(e._s(t))])}),0):n("div",[n("Loader")],1)]],2)],2)},[],!1,null,null,null));t.default=ze.exports},gkNc:function(e,t,n){(e.exports=n("I1BE")(!1)).push([e.i,"\n.wap-front .wbtn.wbtn-cell.wbtn-secondary.wbtn-service,\n.wap-front .wbtn.wbtn-cell.wbtn-secondary.wbtn-service:not(:disabled):not(.disabled):active,\n.wap-front .wbtn.wbtn-cell.wbtn-secondary.wbtn-service:not(:disabled):not(.disabled).active{\n    width: 100%;\n    margin: .4em;\n    border: none;\n    overflow: hidden;\n    padding: .4em;\n    max-width: 340px;\n    font-size: 1em;\n}\n.wap-front .wbtn-service.d-flex .service-label .service-name\n{\n    font-size: 1.2em;\n    line-height: 1.2em;\n}\n.wap-front .wbtn-service.d-flex .service-label .description\n{\n    font-size: .8em;\n}\n.wap-front .wbtn-service.d-flex .service-price{\n    font-size: 1em;\n}\n.wap-front .wbtn-service .wap-icon-image {\n    transition: all .3s ease-in-out;\n    overflow: hidden;\n    height: 80px;\n    width: 80px;\n    background-position: center center;\n    background-size: cover;\n}\n.wap-front.large-version .wbtn.wbtn-cell.wbtn-secondary.wservice-large, \n.wap-front.large-version .wbtn.wbtn-cell.wbtn-secondary.wservice-large:not(:disabled):active {\n    max-width:none ;\n    margin:1em 0;\n}\n.wap-front .wbtn-service.wservice-large .wap-icon-image {\n    height: 160px;\n    width: 160px;\n}\n.wap-front .wbtn-service .service-label{\n    margin: 0 .5em;\n    overflow: hidden;\n    white-space: initial;\n    text-align: center;\n}\n\n\n/* pills */\n.wap-front .wbtn-service.d-flex .service-label{\n    text-align: left;\n}\n.service-price{\n    font-weight: bold;\n}\n.service-price .price-currency{\n    font-size: .7em;\n}\n.service-price.price-right{\n    margin-left: auto !important;\n}\n.wap-front .als{\n    align-self: flex-start !important;\n}\n\n",""])},gnn1:function(e,t,n){(e.exports=n("I1BE")(!1)).push([e.i,"\n.booking-widget-editor-wizard{\n    width: 600px;\n}\n.wrapper-widget-style{\n    box-shadow: inset 0px 0px 10px 0 rgba(0,0,0,.2);\n    padding: 1rem;\n    border-radius: 2rem;\n}\n",""])},gpnA:function(e,t,n){"use strict";var i=n("kcCh");n.n(i).a},gsSy:function(e,t,n){"use strict";var i=n("OiRY"),a=n("tOgP"),s={props:["service","relations","options"],mixins:[i.a,a.a],computed:{getClasses:function(){return void 0===window.wappointment_services||void 0===window.wappointment_services.is_admin?"wbtn wbtn-secondary wbtn-cell":"btn btn-secondary btn-cell"},durationsOrdered:function(){return this.service.options.durations.sort(function(e,t){return e.duration>t.duration?1:-1})},sellable:function(){return this.service.options.woo_sellable}},methods:{selectDuration:function(e){if(!this.triggersDemoEvent("service_location")){var t={duration:parseInt(e.duration)},n="BookingLocationSelection";1==this.service.locations.length&&(t.location=this.service.locations[0],n="BookingCalendar"),this.$emit("durationSelected",n,t)}}}},o=(n("5Kp/"),n("KHd+")),r=Object(o.a)(s,function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.durationsOrdered.length>0?n("div",[void 0!==e.options?n("div",{staticClass:"title wtitle"},[e._v(e._s(e.options.service_duration.select_duration))]):e._e(),e._v(" "),n("div",{staticClass:"d-flex flex-wrap justify-content-around"},e._l(e.durationsOrdered,function(t,i){return n("div",{staticClass:"wbtn wbtn-cell wbtn-duration wbtn-secondary d-flex align-items-center",attrs:{role:"button"},on:{click:function(n){e.selectDuration(t)}}},[n("span",{staticClass:"mr-2 wduration",class:{wsold:e.canSell(t)}},[e._v(e._s(t.duration)+" "+e._s(e.options.general.min))]),e._v(" "),e.canSell(t)?n("span",{staticClass:"wprice"},[e._v(e._s(e.formatPrice(t.woo_price)))]):e._e()])}),0)]):e._e()},[],!1,null,null,null);t.a=r.exports},gzyJ:function(e,t,n){"use strict";var i={props:{title:{type:String,default:""},options:{type:Object},className:{type:String,default:"wbtn wbtn-primary"}}},a=n("KHd+"),s=Object(a.a)(i,function(){var e=this,t=e.$createElement;return(e._self._c||t)("button",{class:e.className,attrs:{type:"button"},on:{click:function(t){e.$emit("click")}}},[e._t("default")],2)},[],!1,null,null,null);t.a=s.exports},hZNi:function(e,t,n){"use strict";var i=n("qqZf");n.n(i).a},"hs9/":function(e,t,n){"use strict";var i={props:{image:{type:Object}},computed:{resourcesUrl:function(){return window.apiWappointment.resourcesUrl+"images/"}}},a=(n("0YK1"),n("KHd+")),s=Object(a.a)(i,function(){var e=this.$createElement;return(this._self._c||e)("img",{staticClass:"img-fluid",attrs:{title:this.image.title,src:this.resourcesUrl+this.image.icon,alt:this.image.alt}})},[],!1,null,null,null);t.a=s.exports},i5bS:function(e,t,n){"use strict";var i=n("LyZl");n.n(i).a},i8oK:function(e,t,n){"use strict";var i=n("57fG");n.n(i).a},ie8F:function(e,t,n){var i=n("3k9u");"string"==typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);(0,n("SZ7m").default)("f4ec2272",i,!0,{})},jKBW:function(e,t,n){"use strict";var i=n("U6kT");n.n(i).a},k6Kb:function(e,t,n){(t=e.exports=n("I1BE")(!1)).i(n("eE7z"),""),t.push([e.i,'\n.wap-front .wsummary-section {\n    font-size: .8em;\n    padding: .4em;\n}\n.wmy-4{\n     margin: .4em 0;\n}\n.wap-front .wselected{\n    border-radius: 1em;\n    padding: .2em .7em;\n    display: inline-block;\n}\n.wselected .map-link{\n    color: var(--wappo-pri-tx) !important;\n}\n.wselected .map-link:after{\n    content: "\\2192";\n}\n\n',""])},k6XK:function(e,t,n){"use strict";var i=n("vlcP");n.n(i).a},"kGR+":function(e,t,n){"use strict";var i=n("Jvpg"),a={props:["services","relations","options","admin","viewData"],mixins:[n("tOgP").a],data:function(){return{search:""}},components:{ServiceButton:i.a},created:function(){1==this.services.length&&this.selectService(this.services[0])},computed:{getServiceFilter:function(){if(void 0===this.options.attributesEl||void 0===this.options.attributesEl.serviceSelection)return[];for(var e=-1!==this.options.attributesEl.serviceSelection.indexOf(",")?this.options.attributesEl.serviceSelection.split(","):[this.options.attributesEl.serviceSelection],t=0;t<e.length;t++)e[t]=parseInt(e[t]);return e},firstLevelServiceFilter:function(){var e=this.getServiceFilter;return e.length<1?this.services:this.services.filter(function(t){return-1!==e.indexOf(t.id)})},filteredServices:function(){var e=this.search.toLowerCase();return this.firstLevelServiceFilter.filter(function(t){return-1!==t.name.toLowerCase().indexOf(e)})}},methods:{selectService:function(e){if(!this.triggersDemoEvent("service_duration")){var t={service:e},n="";e.options.durations.length>1?n="BookingDurationSelection":(t.duration=e.options.durations[0].duration,n="BookingLocationSelection",1==e.locations.length&&(t.location=e.locations[0],n="BookingCalendar")),this.$emit("serviceSelected",n,t)}}}},s=(n("yFz+"),n("KHd+")),o=Object(s.a)(a,function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.services.length>0?n("div",[void 0!==e.options?n("div",{staticClass:"title wtitle"},[e._v(e._s(e.options.service_selection.select_service))]):e._e(),e._v(" "),e.services.length>10?n("input",{directives:[{name:"model",rawName:"v-model",value:e.search,expression:"search"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:e.search},on:{input:function(t){t.target.composing||(e.search=t.target.value)}}}):e._e(),e._v(" "),e.options.service_selection.check_full_width?e._l(e.filteredServices,function(t,i){return n("ServiceButton",{key:"service-sel-"+i,staticClass:"wservice-large",attrs:{service:t,options:e.options,viewData:e.viewData},on:{selectService:e.selectService}})}):n("div",{staticClass:"d-flex flex-wrap justify-content-around"},e._l(e.filteredServices,function(t,i){return n("ServiceButton",{key:"service-sel-"+i,attrs:{service:t,options:e.options,viewData:e.viewData},on:{selectService:e.selectService}})}),1)],2):e._e()},[],!1,null,null,null);t.a=o.exports},kcCh:function(e,t,n){var i=n("SIU3");"string"==typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);(0,n("SZ7m").default)("78e9e3b6",i,!0,{})},kcK7:function(e,t,n){(e.exports=n("I1BE")(!1)).push([e.i,"\n.wap-front .wbtn-round,\n.wap-front .calendarMonth .ddays div.wbtn {\n    border-radius: 50%;\n    text-align: center;\n    padding: 0;\n    transition: all .3s ease-in-out;\n    margin: 0 auto !important;\n}\n.wap-front .calendarMonth .ddays div.wbtn {\n    font-size: .65em;\n    max-width: 2.4em;\n}\n.wap-front.over280 .calendarMonth .ddays div.wbtn {\n    font-size: .67em;\n    max-width: 2.6em;\n}\n.wap-front.over320 .calendarMonth .ddays div.wbtn {\n    font-size: .73em;\n    max-width: 2.8em;\n}\n.wap-front.over360 .calendarMonth .ddays div.wbtn {\n    font-size: .75em;\n    max-width: 3em;\n}\n.wap-front .wbtn-top.wbtn-round {\n    min-width: 36px;\n    margin: 0 !important;\n    font-size: .7em;\n    max-width: 2.3em;\n}\n.wap-front .wbtn.wbtn-secondary.wbtn-round.wbtn-disabled, \n.wap-front .wbtn-round.wbtn-disabled:hover {\n    background-color: transparent;\n    border: none;\n    box-shadow: none;\n}\n\n",""])},kjyX:function(e,t,n){(e.exports=n("I1BE")(!1)).push([e.i,"\n.wrapper-dotcom{\n  border-radius: .4rem;\n  max-width: 850px;\n  margin: 0 auto;\n}\n.create-account {\n\tbackground: #d6d5ff;\n\tpadding: .8em;\n\tborder-radius: .4em;\n\tmin-width: 380px;\n  max-width: 480px;\n}\n",""])},l2W7:function(e,t,n){"use strict";var i=n("XfSa"),a={components:{ContactButton:n("xsJs").a},props:{step:0,total:0,nextEnabled:{type:Boolean,default:!1}},data:function(){return{pstep:0,nextEn:!1}},mounted:function(){this.pstep=window.prevStep,this.nextEn=!0===this.nextEnabled,setTimeout(this.delayMounted,50)},methods:{toggleNext:function(e){this.nextEn=e},delayMounted:function(){this.pstep=this.step},emitBack:function(){this.$emit("back")},emitNext:function(){!1!==this.nextEn&&this.$emit("next")}}},s=(n("lpFo"),n("KHd+")),o=Object(s.a)(a,function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("StickyBar",[n("div",{staticClass:"d-block d-md-none"},[n("div",{staticClass:"d-flex flex-wrap"},[n("div",{staticClass:"progress align-self-center"},[n("div",{staticClass:"progress-bar progress-bar-striped bg-info",style:"width:"+e.pstep/e.total*100+"%",attrs:{role:"progressbar"}},[e._v("\n                    "+e._s(e.get_i18n("wizard_wizard","wizard"))+" "+e._s(e.step)+" / "+e._s(e.total)+"\n                ")])]),e._v(" "),n("div",{staticClass:"buttons align-self-center"},[n("button",{staticClass:"btn btn-secondary btn-xs",on:{click:e.emitBack}},[e._v(e._s(e.get_i18n("wizard_back","wizard")))]),e._v(" "),n("button",{staticClass:"btn btn-primary btn-xs",class:{disabled:!e.nextEn},attrs:{disabled:!e.nextEn},on:{click:e.emitNext}},[e._v(e._s(e.get_i18n("wizard_next","wizard")))])])])]),e._v(" "),n("div",{staticClass:"d-none d-md-block"},[n("div",{staticClass:" d-flex flex-wrap"},[n("div",{staticClass:"progress align-self-center"},[n("div",{staticClass:"progress-bar progress-bar-striped bg-info",style:"width:"+e.pstep/e.total*100+"%",attrs:{role:"progressbar"}},[e._v("\n                    "+e._s(e.get_i18n("wizard_wizard","wizard"))+" "+e._s(e.step)+" / "+e._s(e.total)+"\n                ")])]),e._v(" "),n("div",{staticClass:"buttons align-self-center"},[n("button",{staticClass:"btn btn-secondary btn-xl",on:{click:e.emitBack}},[e._v(e._s(e.get_i18n("wizard_back","wizard")))]),e._v(" "),n("button",{staticClass:"btn btn-primary btn-xl",class:{disabled:!e.nextEn},attrs:{disabled:!e.nextEn},on:{click:e.emitNext}},[e._v(e._s(e.get_i18n("wizard_next","wizard")))])]),e._v(" "),n("ContactButton",{attrs:{subject:"Installation Wizard",buttonClass:"btn btn-secondary btn-sm",buttonLabel:"Help"}})],1)])])},[],!1,null,null,null).exports;function r(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){return function i(a,s){try{var o=t[a](s),r=o.value}catch(e){return void n(e)}if(!o.done)return Promise.resolve(r).then(function(e){i("next",e)},function(e){i("throw",e)});e(r)}("next")})}}var l,c,d={extends:i.a,components:{topPane:o},methods:{setPrevStep:function(){window.prevStep=this.currentStep},nextStep:function(){this.setPrevStep(),this.request(this.nextStepRequest,void 0,void 0,!1,this.redirectNext)},nextStepRequest:(c=r(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.service.call("wizard",{step:this.currentStep+1});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e,this)})),function(){return c.apply(this,arguments)}),redirectNext:function(){this.$router.push({name:"wizard"+(this.currentStep+2)})},prevStep:function(){this.setPrevStep(),this.request(this.prevStepRequest,void 0,void 0,!1,this.redirectPrev)},prevStepRequest:(l=r(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.service.call("wizard",{step:this.currentStep-1});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e,this)})),function(){return l.apply(this,arguments)}),redirectPrev:function(){this.$router.push({name:"wizard"+this.currentStep})}}},u=Object(s.a)(d,void 0,void 0,!1,null,null,null);t.a=u.exports},l8GO:function(e,t,n){"use strict";var i=n("BDLL"),a=n("fP5I"),s=n("G0ds"),o=n("xa6k");var r,l,c={methods:{confirm:function(){if(this.disabledButtons)this.options.eventsBus.emits("stepChanged","confirmation");else{var e=this.bookingFormExtended;e.time=this.selectedSlot.start,e.ctz=this.timeprops.ctz,e.service=this.service.id,e.location=this.location.id,e.duration=this.duration,this.$emit("loading",{loading:!0,dataSent:e}),this.saveBookingRequest(e).then(this.appointmentBooked).catch(this.appointmentBookingError)}},confirmLegacy:function(){if(this.disabledButtons)this.options.eventsBus.emits("stepChanged","confirmation");else{var e=this.bookingFormExtended;e.time=this.selectedSlot.start,e.type=this.selection,e.ctz=this.timeprops.ctz,this.$emit("loading",{loading:!0,dataSent:e}),this.saveBookingRequestLegacy(e).then(this.appointmentBookedLegacy).catch(this.appointmentBookingError)}},saveBookingRequestLegacy:(r=regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.serviceBooking.call("save",t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e,this)}),l=function(){var e=r.apply(this,arguments);return new Promise(function(t,n){return function i(a,s){try{var o=e[a](s),r=o.value}catch(e){return void n(e)}if(!o.done)return Promise.resolve(r).then(function(e){i("next",e)},function(e){i("throw",e)});t(r)}("next")})},function(e){return l.apply(this,arguments)}),appointmentBookedLegacy:function(e){var t=window.wappointmentExtends.filter("AppointmentBookedNextScreen",this.relations.next,{result:e,service:this.service});this.$emit("confirmed",t,{appointmentSavedData:e.data.appointment,isApprovalManual:0==e.data.appointment.status,appointmentSaved:!0,appointmentKey:e.data.appointment.edit_key,loading:!1})},selectDefaultType:function(){this.selection=this.service.type[0]},selectType:function(e){this.selection=e;var t=Object.assign({},this.bookingForm);this.bookingForm={},this.bookingForm=t,this.bookingForm.type=e,this.$emit("selectedLocation",e)},hasError:function(e){return""===this.bookingForm[e]?"":void 0!==this.errorsOnFields[e]&&!0===this.errorsOnFields[e]?"isInvalid":"isValid"},onInput:function(e){var t=e.number,n=e.isValid;e.country;this.bookingForm.phone=t,this.phoneValid=n}}},d=(n("H7Pi"),n("KHd+")),u=Object(d.a)(c,void 0,void 0,!1,null,null,null).exports,p=n("l8y5"),h=n("H5HU"),f=n("/fjS"),v=n("tOgP"),m=n("uAwV"),g=n("OiRY"),w=n("LNkL");var b,_={extends:a.a,mixins:[s.a,u,p.a,v.a,g.a,m.a],props:["service","selectedSlot","options","errors","data","timeprops","relations","appointment_starts_at","duration","location","custom_fields","staffs","selectedStaff","selectedPackage","selectedVariation","wpauth"],components:{BookingAddress:h.a,PhoneInput:f.a,CountryStyle:function(){return n.e(26).then(n.bind(null,"dh4s"))},AppointmentTypeSelection:i.a,Terms:w.a},data:function(){return{phoneId:"",phoneValid:!1,errorsOnFields:{},mounted:!1,bookingFormExtended:null,canDisplayInputs:!1,staff:null}},created:function(){this.serviceAppointmentService=this.$vueService(new o.a),this.isLegacy?(1==this.service.type.length||this.disabledButtons)&&this.selectType(this.service.type[0]):(this.setCanDisplay(this.location),this.setStaff())},mounted:function(){this.mounted=!0},computed:{isCompactHeader:function(){return void 0===this.options.general||-1===[void 0,!1].indexOf(this.options.general.check_header_compact_mode)},requirePhoneInput:function(){return this.phoneSelected||-1===[void 0,!1,""].indexOf(this.service.options.phone_required)},skypeValid:function(){return/^[a-zA-Z][a-zA-Z0-9.\-_]{5,31}$/.test(this.bookingForm.skype)},dataEmpty:function(){for(var e in this.bookingForm)if(this.bookingForm.hasOwnProperty(e)&&""!==this.bookingForm[e])return!1;return!0},canSubmit:function(){return Object.keys(this.errorsOnFields).length<1},legacyServiceHasTypes:function(){return this.isLegacy&&this.service.type.length>1},showFormInputs:function(){return this.canDisplayInputs&&(!this.legacyServiceHasTypes||this.legacyServiceHasTypes&&"string"==typeof this.location&&""!==this.location)}},methods:{setStaff:function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.staff=this.selectedStaff},getId:function(e){this.phoneId=e},selectDefaultType:function(){this.selection=this.service.type[0]},selectType:function(e){this.selection=e;var t=Object.assign({},this.bookingForm);this.bookingForm={},this.bookingForm=t,this.bookingForm.type=e,this.dataDemoChanged(this.bookingForm),this.$emit("selectedLocation",e),this.canDisplayInputs=!1,setTimeout(this.setCanDisplay,100)},setCanDisplay:function(){this.canDisplayInputs=!0},hasError:function(e){return""===this.bookingForm[e]?"":void 0!==this.errorsOnFields[e]&&!0===this.errorsOnFields[e]?"isInvalid":"isValid"},onInput:function(e){var t=e.number,n=e.isValid;e.country;this.bookingForm.phone=t,this.phoneValid=n},changedBF:function(e,t){this.bookingFormExtended=e,this.errorsOnFields=t,this.dataDemoChanged(e)},dataDemoChanged:function(e){this.disabledButtons&&(e.type=this.selection,this.options.eventsBus.emits("dataDemoChanged",e))},back:function(){this.triggersDemoEvent("selection")||this.$emit("back",this.relations.prev,{selectedSlot:!1})},confirmSwitch:function(){return this.isLegacy?this.confirmLegacy():this.confirm()},confirm:function(){if(!this.triggersDemoEvent("confirmation")){var e=this.bookingFormExtended;e.time=this.selectedSlot.start,void 0!==this.selectedSlot.edit_key&&(e.appointment_key=this.selectedSlot.edit_key),e.ctz=this.timeprops.ctz,e.service=this.service.id,e.location=this.location.id,e.duration=this.duration,e.staff_id=this.staff.id,this.selectedPackage&&(e.package_id=this.selectedPackage.id,e.package_price_id=this.selectedVariation.price_id,e.woo_pack_variation_id=this.selectedVariation.woo_pack_variation_id),this.$emit("loading",{loading:!0,dataSent:e}),this.saveBookingRequest(e).then(this.appointmentBooked).catch(this.appointmentBookingError)}},saveBookingRequest:(b=function(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){return function i(a,s){try{var o=t[a](s),r=o.value}catch(e){return void n(e)}if(!o.done)return Promise.resolve(r).then(function(e){i("next",e)},function(e){i("throw",e)});e(r)}("next")})}}(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.serviceAppointmentService.call("save",t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e,this)})),function(e){return b.apply(this,arguments)}),appointmentBooked:function(e){if(void 0!==e.data.result){var t={appointmentSavedData:e.data.appointment,order:e.data.order,isApprovalManual:0==e.data.appointment.status,appointmentSaved:!0,appointmentKey:e.data.appointment.edit_key,loading:!1,resultBooking:e.data};this.$emit("confirmed",this.mustPay&&!0===e.data.payment_required?"BookingPaymentStep":this.getAddonNextScreen(e.data.result),this.appointmentBookedDataFilter(t,e))}else this.$emit("loading",{loading:!1}),this.appointmentBookingError({message:"Error in booking request response"})},appointmentBookedDataFilter:function(e,t){return window.wappointmentExtends.filter("AppointmentBookedData",e,t)},getAddonNextScreen:function(e){return window.wappointmentExtends.filter("AppointmentBookedNextScreen",this.relations.next,{result:e,service:this.service})},appointmentBookingError:function(e){this.$emit("serviceError",e)}}},y=(n("aKqD"),Object(d.a)(_,function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("transition",{attrs:{name:"slide-fade"}},[e.mounted?n("div",[e.isCompactHeader?n("div",{staticClass:"form-summary text-center"},[n("div",{staticClass:"my-2"},[e.appointment_starts_at?n("div",[n("div",{staticClass:"wselected wclosable wmy-4 d-flex align-items-center d-flex-inline"},[n("WapImage",{attrs:{faIcon:["far","clock"],size:"auto"}}),e._v(" "),n("span",{staticClass:"welementname wml-2"},[e._v(e._s(e.appointment_starts_at))]),e._v(" "),n("span",{staticClass:"wclose",on:{click:e.back}})],1)]):e._e()])]):e._e(),e._v(" "),e.errors.length>0?n("div",{staticClass:"wappointment-errors"},e._l(e.errors,function(t){return n("div",[e._v("\n                "+e._s(t)+"\n            ")])}),0):e._e(),e._v(" "),e.legacyServiceHasTypes?n("AppointmentTypeSelection",{attrs:{options:e.options,typeSelected:e.selection,typesAllowed:e.service.type},on:{selectType:e.selectType}}):e._e(),e._v(" "),n("transition",{attrs:{name:"slide-fade"}},[e.showFormInputs?n("div",[n("FieldsGenerated",{attrs:{custom_fields:e.custom_fields,service:e.service,location:e.location,options:e.options,selectedSlot:e.selectedSlot,wpauth:e.wpauth},on:{changed:e.changedBF,dataDemoChanged:e.dataDemoChanged}}),e._v(" "),n("Terms",{attrs:{options:e.options}})],1):e._e()]),e._v(" "),n("div",{staticClass:"d-flex wbtn-confirm"},[n("div",{staticClass:"mr-2"},[n("span",{staticClass:"wbtn-secondary wbtn",on:{click:e.back}},[e._v(e._s(e.options.form.back))])]),e._v(" "),e.canSubmit?n("span",{staticClass:"wbtn-primary wbtn flex-fill mr-0",on:{click:e.confirmSwitch}},[e._v(e._s(e.options.form.confirm))]):n("span",{staticClass:"wbtn-primary wbtn wbtn-disabled flex-fill mr-0",attrs:{disabled:""}},[e._v(e._s(e.options.form.confirm))])]),e._v(" "),n("CountryStyle")],1):e._e()])},[],!1,null,null,null));t.a=y.exports},lpFo:function(e,t,n){"use strict";var i=n("pxgz");n.n(i).a},m5ss:function(e,t,n){"use strict";var i=n("Lz4k");n.n(i).a},mhCM:function(e,t,n){var i=n("sTsL");"string"==typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);(0,n("SZ7m").default)("102897b9",i,!0,{})},mkhk:function(e,t,n){"use strict";var i={methods:{getParameterByName:function(e,t){t||(t=window.location.href),e=e.replace(/[\[\]]/g,"\\$&");var n=new RegExp("[?&]"+e+"(=([^&#]*)|&|#|$)").exec(t);return n?n[2]?decodeURIComponent(n[2].replace(/\+/g," ")):"":null}}},a=n("KHd+"),s=Object(a.a)(i,void 0,void 0,!1,null,null,null);t.a=s.exports},n0z4:function(e,t,n){"use strict";var i=n("FEmh");n.n(i).a},nwuA:function(e,t,n){var i=n("wmiY");"string"==typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);(0,n("SZ7m").default)("9428324e",i,!0,{})},o38m:function(e,t,n){(e.exports=n("I1BE")(!1)).push([e.i,"\n.wap-l.wap-bar {\n  width: 92%;\n  height: auto;\n}\n",""])},"p/zG":function(e,t,n){(e.exports=n("I1BE")(!1)).push([e.i,"\n.bigicon{\n    font-size: 3em;\n    margin-right: .2em;\n}\n.success .text-conf{\n    text-align: left;\n    font-size: 1.6em;\n    line-height: 1.2em;\n}\n.mb-2, .my-2 {\n    margin-bottom: .5em !important;\n}\n.mt-2, .my-2 {\n    margin-top: .5em !important;\n}\n.confirmation-summary{\n    padding: 2em 1em 1.5em 1em;\n    font-size: .8em;\n}\n.confirmation-summary > div{\n    margin-bottom:.5em;\n    line-height: 1em;\n}\n.confirmation-summary .wlabel{\n    font-weight: bold;\n}\n.wdescription{\n    font-size: .8em;\n    line-height: 1.4em;\n}\n\n",""])},pZKv:function(e,t,n){var i=n("Sc83");"string"==typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);(0,n("SZ7m").default)("d9ec3178",i,!0,{})},pxgz:function(e,t,n){var i=n("WJvZ");"string"==typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);(0,n("SZ7m").default)("34a160b8",i,!0,{})},qhsB:function(e,t,n){var i=n("kjyX");"string"==typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);(0,n("SZ7m").default)("698091fd",i,!0,{})},qqZf:function(e,t,n){var i=n("HY5A");"string"==typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);(0,n("SZ7m").default)("1b22b6a9",i,!0,{})},"r+m4":function(e,t,n){(e.exports=n("I1BE")(!1)).push([e.i,"\n.icon .dashicons{\n  font-size: 2rem;\n  color: #d8d7d7;\n  height: 2rem;\n  width: 2rem;\n}\n.hovercursor{\n  cursor: pointer;\n}\n.icon{\n  position: relative;\n}\n.icon.published .dashicons-yes, \n.icon .dashicons-no{\n  position: absolute;\n  top: 12px;\n  left: 12px;\n  font-size: 20px;\n  text-shadow: -3px 0 #fff, 0 3px #fff, 3px 0 #fff, 0 -3px #fff;\n}\n.icon.published .dashicons-yes{\n  color: #66b36d;\n}\n.icon .dashicons-no{\n  color: #b37866;\n}\n.icon.published .dashicons-email-alt{\n  color:#b1b1b1;\n}\n.icon:hover .dashicons-email-alt{\n  cursor:pointer;\n  color:#969696;\n}\n",""])},rqdy:function(e,t,n){"use strict";var i=n("LB0/"),a=n("vbJd"),s=n("l9VS"),o=n("XfSa"),r=n("VyXW"),l=n("FYyN"),c=n("c+oO"),d=n("A5Wa");function u(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){return function i(a,s){try{var o=t[a](s),r=o.value}catch(e){return void n(e)}if(!o.done)return Promise.resolve(r).then(function(e){i("next",e)},function(e){i("throw",e)});e(r)}("next")})}}var p,h,f={extends:o.a,components:window.wappointmentExtends.filter("RegavComponents",{RegularAvailability:i.a,TimeZones:s.a,StaffSelector:a.a,StaffPicture:r.a},{RequestMaker:l.a}),props:{calendar:{type:Object,default:!1},timezones_list:{type:Object},staffs:{type:Array},services:{type:Array},calendarsUsed:{type:Array}},data:function(){return{calendarSelected:!1,requireSave:!1,hasWpuid:!1}},created:function(){this.calendarSelected=Object.assign({},this.calendar),void 0!==this.calendarSelected.wp_uid&&this.calendarSelected.wp_uid>0&&(this.hasWpuid=this.calendarSelected.wp_uid),this.mainService=this.$vueService(new c.a),""==this.calendarSelected.timezone&&(this.calendarSelected.timezone=d.a.tz.guess())},watch:{calendarSelected:{handler:function(e,t){!1!==t&&(this.requireSave=!0,this.hasWpuid=e.wp_uid)},deep:!0}},computed:{onlyUnusedStaff:function(){var e=this.calendarSelected.wp_uid,t=this.calendarsUsed.filter(function(t){return t!=e});return[].concat(this.staffs).map(function(e){return-1===t.indexOf(e.ID)?e.used=0:void 0===e.used?e.used=1:e.used++,e})},getRegav:function(){var e=Object.assign({},this.calendar.regav);return void 0===this.calendar.regav.precise&&(e=this.convertRegavToPrecise(e)),e},staffSelected:function(){return!1!==this.calendarSelected&&this.hasWpuid>0}},methods:{convertRegavToPrecise:function(e){for(var t in this.calendar.regav)if(this.calendar.regav.hasOwnProperty(t))for(var n=0;n<this.calendar.regav[t].length;n++){var i=this.calendar.regav[t][n];e[t][n]=[60*i[0],60*i[1]]}return e},updatedRA:function(e){e.precise=!0,this.calendarSelected.regav=e},changedABD:function(e){this.calendarSelected.avb=e},saveCalendar:function(){this.request(this.saveCalendarRequest,this.calendarSelected,void 0,!1,this.calendarSaved)},saveCalendarRequest:(h=u(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.mainService.call("save",t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e,this)})),function(e){return h.apply(this,arguments)}),calendarSaved:function(e){this.serviceSuccess(e),this.$emit("saved",e)},changedPicture:function(e){e>0?this.request(this.getAvatarRequest,{id:e},void 0,!1,this.avatarLoaded):(this.calendarSelected.avatar="",this.calendarSelected.avatar_id="")},avatarLoaded:function(e){this.calendarSelected.avatar_id=e.data.id,this.calendarSelected.avatar=e.data.avatar},getAvatarRequest:(p=u(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.mainService.call("getAvatar",t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e,this)})),function(e){return p.apply(this,arguments)}),updateTimezone:function(e){this.calendarSelected.timezone=e},updateStaffName:function(e){this.calendarSelected.name=e},updateStaff:function(e){this.calendarSelected.wp_uid!=e.ID&&(this.calendarSelected.wp_uid=e.ID,this.calendarSelected.gravatar=e.gravatar,this.calendarSelected.name=""!==e.display_name?e.display_name:"Jane Doe")}}},v=(n("aiNY"),n("KHd+")),m=Object(v.a)(f,function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("div",[n("div",[n("p",{staticClass:"h6 text-muted"},[n("span",{staticClass:"bullet-wap"},[e._v("1")]),e._v(" "),n("span",{staticClass:"bullet-title"},[e._v(e._s(e.get_i18n("regav_step1","common")))])]),e._v(" "),n("small",{staticClass:"text-muted mr-6"},[e._v(e._s(e.get_i18n("regav_select_an","common")))]),e._v(" "),n("div",{staticClass:"d-flex align-items-top mb-2"},[""!=e.calendarSelected.name?n("StaffPicture",{attrs:{src:e.calendarSelected.avatar,gravatar:e.calendarSelected.gravatar},on:{changed:e.changedPicture}}):e._e(),e._v(" "),""!=e.calendarSelected.name?n("div",{staticClass:"mr-2 changename"},[n("InputPh",{attrs:{ph:e.get_i18n("name","common")},on:{updatedValue:e.updateStaffName},model:{value:e.calendarSelected.name,callback:function(t){e.$set(e.calendarSelected,"name",t)},expression:"calendarSelected.name"}})],1):e._e(),e._v(" "),n("div",{staticClass:"account-selector"},[n("StaffSelector",{attrs:{staffs:e.onlyUnusedStaff,activeStaffId:e.calendarSelected.wp_uid},on:{updateStaff:e.updateStaff}})],1)],1)]),e._v(" "),e.staffSelected?n("div",[n("p",{staticClass:"h6 text-muted"},[n("span",{staticClass:"bullet-wap"},[e._v("2")]),e._v(" "),n("span",{staticClass:"bullet-title"},[e._v(" "+e._s(e.get_i18n("regav_step2","common")))])]),e._v(" "),n("div",{staticClass:"cal-edit-margin"},[n("TimeZones",{attrs:{classW:"d-flex",timezones:e.timezones_list,defaultTimezone:e.calendarSelected.timezone,typeClass:"small text-muted container-values d-flex justify-content-between align-items-center form-control"},on:{updateTimezone:e.updateTimezone}})],1),e._v(" "),n("hr")]):e._e(),e._v(" "),e.staffSelected?n("div",[n("p",{staticClass:"h6 text-muted"},[n("span",{staticClass:"bullet-wap"},[e._v("3")]),e._v(" "),n("span",{staticClass:"bullet-title"},[e._v(" "+e._s(e.get_i18n("regav_step3","common")))])]),e._v(" "),n("div",{staticClass:"cal-edit-margin"},[n("RegularAvailability",{attrs:{initValue:e.getRegav,viewData:e.calendarSelected,services:e.services},on:{updatedDays:e.updatedRA,changedABD:e.changedABD}})],1)]):e._e()]),e._v(" "),e.requireSave?n("div",{staticClass:"save-floating-button"},[n("button",{staticClass:"btn btn-primary",on:{click:e.saveCalendar}},[e._v(e._s(e.get_i18n("regav_save","common")))])]):e._e()])},[],!1,null,null,null);t.a=m.exports},rzUR:function(e,t,n){(e.exports=n("I1BE")(!1)).push([e.i,"\n.max-200{\n    max-width:200px\n}\n",""])},s2bw:function(e,t,n){(e.exports=n("I1BE")(!1)).push([e.i,"\n.selected-tab{\n    background-color: #ececec;\n    padding: 0 .8em .4em 0;\n    border-radius: .4em;\n    border: 1px solid #b8b8f5;\n}\n.booking-widget-editor{\n    min-height: 300px;\n}\n.booking-widget-editor .wapmodal-content.large {\n    width: 60%;\n}\n.biggerPop .booking-widget-editor{\n    position: absolute;\n}\n.preview-book > .bordered {\n    margin: .5rem;\n    box-shadow: inset 0px 0px 10px 0 rgba(0,0,0,.2);\n    border-radius: .2rem;\n}\n.preview-book > .hover{\n    box-shadow: inset 0px 0px 10px 0 rgba(127, 126, 208, 0.6);\n}\n.preview-book > .hidestep{\n    display: none;\n}\n.booking-widget-editor [data-tt]{\n    z-index: auto;\n}\n.booking-widget-editor [data-tt]::before{\n    z-index: 1;\n}\n.booking-widget-editor .bwe-settings-bar{\n    max-height: 80vh;\n    overflow: scroll;\n}\n.preview-book > .hover[data-tt]::before, .preview-book > .hover[data-tt]::after{\n    visibility: visible;\n    opacity: 1;\n    bottom:100%;\n}\n.widget-wraper{\n    box-shadow: inset 0 0 5px #959090;\n    width: 430px;\n    border-radius: 2rem;\n}\n@media (min-width: 1410px) {\n.widget-wraper{\n        width: 850px !important;\n}\n}\n@media (max-width: 876px) {\n.widget-wraper{\n        padding: 0 !important;\n        padding-top: 1rem !important;\n}\n}\n.right-color{\n    float:right;\n}\n.widget-fields-wrapper {\n    overflow: hidden;\n    margin-bottom: .4rem;\n}\n.widget-fields{\n    opacity:.6;\n    border: 1px solid #ccc;\n    border-radius: 0.2rem;\n    padding: .6rem;\n    margin-bottom: 0.6rem;\n    height: 56px;\n    overflow: hidden;\n    box-shadow: inset 0px 0px 10px -5px rgba(0,0,0,.5);\n}\n.widget-fields.active-fields, .widget-fields:hover{\n    opacity:1;\n    height: auto;\n    box-shadow: none;\n}\n.widget-fields::before {\n    content: attr(data-step);\n    position: absolute;\n    background-color: rgba(236, 236, 236, 0.9);\n    border-radius: 0.4rem;\n    padding: 0.3rem;\n    display: block;\n    width: 85%;\n    border: 3px dashed #999;\n    text-align: center;\n    z-index: 9;\n}\n.widget-fields.active-fields::before, .widget-fields:hover::before{\n    display:none;\n}\n.widget-fields .tt-below{\n    margin-bottom: .6em;\n}\n.preview-book .wap-front{\n    min-width: 360px;\n    margin: 1rem;\n}\n.colors-fields legend {\n    display: block;\n    width: auto;\n    max-width: 100%;\n    padding: 0;\n    margin-bottom: 0;\n    font-size: 1rem;\n    line-height: inherit;\n    color: inherit;\n    white-space: normal;\n}\n.colors-fields fieldset {\n    min-width: 0;\n    padding: .4rem;\n    margin: 0;\n    border: 1px solid #ccc;\n    display: flex;\n}\n.colors-fields fieldset .wap-color-picker {\n    margin-right:.5rem;\n}\n.btn-switch-edit{\n    width: 90px;\n}\n#editor-bar{\n    position: sticky;\n    top: 6rem;\n}\n\n",""])},sOHC:function(e,t,n){"use strict";var i=n("uNkp");n.n(i).a},sTsL:function(e,t,n){(e.exports=n("I1BE")(!1)).push([e.i,"\n.wap-front .step-BookingStaffSelection .wap-form-body,\n.overflowhidden.step-staff_selection .wap-form-body{\n    margin-top: 0;\n}\n.wap-front.large-version .wap-wid.step-BookingStaffSelection {\n    max-width:100%;\n}\n\n",""])},squi:function(e,t,n){"use strict";var i=n("R+kQ");n.n(i).a},t2Av:function(e,t,n){var i=n("AlqU");"string"==typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);(0,n("SZ7m").default)("5412e82d",i,!0,{})},uAwV:function(e,t,n){"use strict";var i={computed:{mustPay:function(){return-1===[void 0,!1].indexOf(this.service.options.woo_sellable)&&!this.wooAddonActive},hasPaidDurations:function(){var e=!0,t=!1,n=void 0;try{for(var i,a=this.service.options.durations[Symbol.iterator]();!(e=(i=a.next()).done);e=!0){var s=i.value;if(-1===[void 0,!1,""].indexOf(s.woo_price)&&s.woo_price>0)return!0}}catch(e){t=!0,n=e}finally{try{!e&&a.return&&a.return()}finally{if(t)throw n}}}}},a=n("KHd+"),s=Object(a.a)(i,void 0,void 0,!1,null,null,null);t.a=s.exports},uChi:function(e,t,n){(e.exports=n("I1BE")(!1)).push([e.i,"\n#shortcode_block{\n    border: 2px solid var(--primary);\n    border-radius: .3rem;\n    padding: 1rem;\n    text-align: center;\n}\n#shortcode_block p{\n    font-size: 1.4rem;\n}\n.shortcode-editor{\n    max-width:600px;\n}\n.shortcode-gen{\n    background-color: #f5f5f5;\n    padding: .5em;\n    border-radius: .4em;\n}\n\n",""])},uNkp:function(e,t,n){var i=n("p/zG");"string"==typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);(0,n("SZ7m").default)("404dfd4e",i,!0,{})},unoB:function(e,t,n){var i=n("JRvF");"string"==typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);(0,n("SZ7m").default)("4c186633",i,!0,{})},"vL+S":function(e,t,n){var i=n("r+m4");"string"==typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);(0,n("SZ7m").default)("78f25985",i,!0,{})},vkCh:function(e,t,n){(e.exports=n("I1BE")(!1)).push([e.i,'\n.wap-front .staff-av {\n    position:relative;\n}\n.wap-front .staff-av .after{\n  position: absolute;\n  top: 0;\n  bottom: 0;\n  left: 0;\n  right: 0;\n  height: 100%;\n  width: 100%;\n  content: "\\F463";\n  transition: .3s ease;\n  background-color: transparent;\n  border-radius: 50%;\n  opacity:0;\n}\n.wap-front .staff-av:hover .after{\n  background-color: rgba(210, 210, 210, 0.8);\n  opacity:1;\n}\n.wap-front .staff-av .ic-refresh {\n  fill: #fff;\n}\n.wap-front .wap-head {\n    position: absolute;\n    width: 100%;\n    height: 62px;\n    overflow: hidden;\n}\n.wap-front .wap-head:hover{\n    height: auto;\n    min-height:62px;\n}\n.wap-front .wap-head.showall{\n    height:100%;\n}\n.wap-front .wap-head > div {\n    padding: 8px;\n}\n.wap-front .wap-form-body{\n    max-height: calc(85vh);\n    margin-top:62px;\n}\n.wap-front .wap-bf.show.has-scroll .wap-head {\n    box-shadow: 0px 4px 10px -10px rgba(0,0,0,.9);\n}\n.wap-front .wap-head .staff-desc {\n    padding-left: .4em;\n    line-height: 1.2;\n    font-size: 1em;\n    width: 100%;\n}\n.wap-front .staff-av img{\n    max-width: 46px;\n    display: block;\n    overflow: hidden;\n    font-size: 12px;\n}\n.wap-front .header-service {\n    font-weight: normal;\n    font-size:.9em;\n}\n.wap-front .header-service .wduration{\n    font-weight: bold;\n    float: right;\n}\n.staff-av .wstaff-img{\n    width: 46px;\n    height: 46px;\n    border-radius: 50%;\n    background-size: cover;\n    margin-right: 0;\n    border:2px solid #eaeaea;\n    background-color:#fff;\n}\n.selectable-staff{\n    cursor: pointer;\n}\n.compact-servicename{\n    max-width: 75%;\n    display: inline-block;\n}\n.wcan-edit{\n    cursor: pointer;\n    text-decoration: underline;\n}\n\n',""])},vlcP:function(e,t,n){var i=n("s2bw");"string"==typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);(0,n("SZ7m").default)("ee3a9638",i,!0,{})},wUn3:function(e,t,n){"use strict";var i={extends:n("SO17").a,data:function(){return{nItems:14,cName:"wap-bar"}}},a=(n("es6V"),n("KHd+")),s=Object(a.a)(i,void 0,void 0,!1,null,null,null);t.a=s.exports},whSN:function(e,t,n){"use strict";var i=new RegExp("[^#a-f\\d]","gi"),a=new RegExp("^#?[a-f\\d]{3}[a-f\\d]?$|^#?[a-f\\d]{6}([a-f\\d]{2})?$","i"),s={methods:{hx_rgb:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return this.toStringRgba(this.hexToRgbA(e),t)},toStringRgba:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return"rgba("+e.r+","+e.g+","+e.b+","+(!1===t?e.a:t)+")"},hexToRgbA:function(e){if("string"!=typeof e||i.test(e)||!a.test(e))return"#ccc";var t=1;8===(e=e.replace(/^#/,"")).length&&(t=parseInt(e.slice(6,8),16)/255,e=e.slice(0,6)),4===e.length&&(t=parseInt(e.slice(3,4).repeat(2),16)/255,e=e.slice(0,3)),3===e.length&&(e=e[0]+e[0]+e[1]+e[1]+e[2]+e[2]);var n=parseInt(e,16);return{r:n>>16,g:n>>8&255,b:255&n,a:t}}}},o=n("KHd+"),r=Object(o.a)(s,void 0,void 0,!1,null,null,null);t.a=r.exports},wmiY:function(e,t,n){(e.exports=n("I1BE")(!1)).push([e.i,'\n.wap-bf{\n    transition: box-shadow ease-in-out .3s;\n}\n.wap-bf.show{\n    box-shadow: 0px 8px 10px 0 rgba(0,0,0,.08);\n    overflow: hidden;\n    position: relative;\n}\n.d-flex.ddays > div{\n    width: 14.3%;\n    text-align: center;\n}\n.wap-front .calendarMonth .ddays {\n    min-height: 1.1em;\n    margin: .4em 0;\n}\n.wap-front .mr-2,\n.wap-front .mx-2{\n    margin-right: .4em !important;\n}\nhtml[dir=rtl] .wap-front .mr-2, \nhtml[dir=rtl] .wap-front .mx-2 {\n  margin-right: 0 !important;\n  margin-left: .4em !important;\n}\n.wap-front .ml-2,\n.wap-front .mx-2{\n    margin-left: .4em !important;\n}\n.wap-front .mb-2,\n.wap-front .my-2{\n    margin-bottom: .4em !important;\n}\n.wap-front .mt-2,\n.wap-front .my-2{\n    margin-top: .4em !important;\n}\n.wap-front .p-2 {\n    padding: .5em !important;\n}\n.wap-front .pl-2 {\n    padding-left: .5em !important;\n}\n.wap-front .slotsPane{\n    box-shadow: inset 0px 0px 10px rgba(0,0,0,.14);\n    border-radius: .2em;\n    overflow: hidden;\n    margin-top: .3em;\n}\n.wap-front [data-tt]:not([data-tt=""]) {\n  cursor: pointer;\n}\n.wap-front [data-tt]:hover {\n  position: relative;\n  z-index: 2;\n}\n.wap-front [data-tt]:before,\n.wap-front [data-tt]:after {\n  visibility: hidden;\n  opacity: 0;\n  pointer-events: none;\n}\n.wap-front [data-tt]:before {\n  position: absolute;\n  bottom: 150%;\n  left: 50%;\n  margin-bottom: -5px;\n  margin-left: -48px;\n  padding: 7px;\n  width: auto;\n  border-radius: 3px;\n  content: attr(data-tt);\n  text-align: center;\n  font-size: 14px;\n  line-height: 1.2;\n}\n.wap-front .first-day[data-tt]::before {\n  left: calc( 100% + 100%/3);\n  right: auto;\n}\n.wap-front .last-day[data-tt]::before {\n  right: calc( -100% /3 );\n  left: auto;\n}\n.wap-front [data-tt]:after {\n  position: absolute;\n  bottom: 150%;\n  left: 50%;\n  margin-left: -5px;\n  width: 0;\n  border-right: 5px solid transparent;\n  border-left: 5px solid transparent;\n  content: " ";\n  font-size: 0;\n  line-height: 0;\n  margin-bottom: -10px;\n}\n.wap-front [data-tt]:hover:before,\n.wap-front [data-tt]:hover:after,\n.wap-front [data-tt].hover:before,\n.wap-front [data-tt].hover:after {\n  visibility: visible;\n  opacity: 1;\n}\n.wap-front .confirmation-cell .success,\n.wap-front .wap-form-body .success .text-conf {\n    color: var(--wappo-success-tx);\n}\n.wap-front .wap-form-body{\n    background-color: var(--wappo-body-bg);\n}\n.wclosable .wclose::before, \n.wclosable .wclose::after {\n    background-color: var(--wappo-pri-tx);\n}\n.wclosable .wclose:hover::before, \n.wclosable .wclose:hover::after {\n    background-color: #fff;\n}\n.wap-bf button {\n    font-size: .7em;\n}\n.wap-front .confirm-form form{\n    text-align: left;\n}\n.wap-front .wap-form-body .timezone {\n    text-align: center;\n    font-size: .75em;\n}\n.wap-front.large-version .wrap-calendar {\n    max-height: none;\n}\n.wap-front .wrap-calendar {\n    border-top: none;\n}\n.wap-front .wrap-calendar.step-BookingCalendar .slotsPane {\n    overflow-y: scroll;\n    overflow-x: hidden;\n    max-height: 200px;\n}\n.wap-form-body p, .wap-form-body hr{\n    margin: 0 0 .4em;\n    font-size: .9em;\n}\n.wap-front .dayselected{\n    font-weight: bold;\n    border-radius: 2em;\n    box-shadow: 0px 0px 6px rgba(0,0,0,.1);\n}\n.wap-front .dayselected span{\n    text-decoration: none !important;\n    color:#fff;\n}\n.wap-front .w100{\n    width:100%;\n}\n.wap-front .wbtn-confirm span.wbtn, \n.wap-front .wbtn-confirm .wbtn.wbtn-secondary {\n    font-size: 1em;\n    margin: 0 !important;\n}\n.wap-front .wbtn-confirm .wbtn-secondary.wbtn {\n    margin-right: .5em !important;\n}\n.slide-fade-enter-active, \n.slide-fade-leave-active, \n.slide-fade-side-sm-right-enter-active, \n.slide-fade-side-sm-right-leave-active,\n.slide-fade-side-sm-left-enter-active,  \n.slide-fade-side-sm-left-leave-active{\n  transition: all .3s ease;\n}\n.slide-fade-sm-enter-active, \n.slide-fade-sm-leave-active \n{\n  transition: all .6s ease;\n}\n.slide-fade-enter, \n.slide-fade-leave-to {\n  transform: translateY(100px);\n  opacity: 0;\n}\n.slide-fade-sm-enter-to, \n.slide-fade-sm-leave {\n  max-height: 100vh;\n  opacity:1;\n}\n.slide-fade-sm-enter, \n.slide-fade-sm-leave-to {\n  max-height: 0;\n  opacity:0;\n}\n.slide-fade-side-sm-right-leave-to, \n.slide-fade-side-sm-left-enter  {\n  transform: translateX(40px);\n  opacity: 0;\n}\n.slide-fade-side-sm-right-enter, \n.slide-fade-side-sm-left-leave-to  {\n  transform: translateX(-40px);\n  opacity: 0;\n}\n.fade-enter-active, .fade-leave-active {\n  transition: opacity .5s;\n}\n.fade-enter, .fade-leave-to  {\n  opacity: 0;\n}\n.wap-bf .field-required inoput{\n    transition: border-right ease-in-out .3s;\n}\n.wap-front .form-control, \n.wap-front .phone-field{\n    width: 100%;\n    font-weight: 400;\n    line-height: 1.5;\n    color: var(--wappo-input-col);\n    background-color: #fff;\n    background-clip: padding-box;\n    border: 1px solid var(--wappo-input-bor);\n    border-radius: .25em;\n    transition: border-color .15s ease-in-out,box-shadow .15s ease-in-out;\n}\n.wap-front .form-control{\n    display: block;\n    padding: .375em .75em;\n}\n.wap-front .phone-field input.tel, \n.wap-front input.form-control {\n    font-size: 16px;\n    height: calc(2.25em + 2px);\n    margin: 0;\n}\n.wap-front .form-control::-ms-expand {\n  background-color: transparent;\n  border: 0;\n}\n.wap-front .form-control::-webkit-input-placeholder,\n.wap-front .form-control::-moz-placeholder,\n.wap-front .form-control:-ms-input-placeholder,\n.wap-front .form-control::-ms-input-placeholder,\n.wap-front .form-control::placeholder  {\n  color: var(--wappo-input-ph);\n  opacity: 1;\n}\n.wap-front .form-control:disabled, \n.form-control[readonly] {\n  background-color: #e9ecef;\n  opacity: 1;\n}\n.wap-front .field-required .phone-field{\n    width: 100%;\n}\n.wap-front .mr-0 {\n    margin-right: 0 !important;\n}\n.wap-front .m-0 {\n    margin: 0 !important;\n}\n.wap-front .hide-loading{\n    display:none;\n}\n.wap-front .max400{\n    max-width:400px;\n    margin:0 auto;\n}\n.wap-front .has-scroll .wap-form-body{\n    overflow-y: scroll;\n    overflow-x: hidden;\n}\n.wap-front .wap-form-body,\n.wap-front .wlabel,\n.wap-front .wrap-calendar div, \n.wap-front .wrap-calendar div a\n{\n    color: var(--wappo-body-tx);\n}\n.wbtn.wbtn-secondary .wduration,\n.wbtn.wbtn-secondary .wap-img svg,\n.wbtn.wbtn-secondary .service-label .service-name,\n.wbtn.wbtn-secondary .service-label .service-price,\n.wbtn.wbtn-secondary .service-label .service-price .price-currency{\n    color: var(--wappo-sec-tx);\n}\n.wap-front .wap-head .staff-desc, \n.wap-front .wap-head strong {\n    color: var(--wappo-header-tx);\n}\n.wap-front .wap-head img{\n    border-radius: 50%;\n}\n.wap-front .wbtn-cell{\n    text-align: center;\n    padding: .4em;\n}\n.wap-front .form-control:focus {\n    outline: 0;\n}\n.wap-front .confirmation-cell .success {\n    padding: .2em .8em;\n    border-radius: 5px;\n    overflow: hidden;\n    font-size: .8em;\n}\n.wap-booking-fields .wap-field{\n    margin-bottom: .4em !important;\n}\n.wap-wid.wclosable > .wclose:hover::before, \n.wap-wid.wclosable > .wclose:hover::after {\n    background-color: var(--wappo-header-tx);\n}\n\n\n/* @media only screen and (max-width: 500px) {\n    .wap-front .has-scroll .wap-form-body{\n        max-height:75vh;\n    }\n} */\n\n',""])},wvDB:function(e,t,n){(e.exports=n("I1BE")(!1)).push([e.i,"\n.save-floating-button.button-absolute{\n    position: absolute;\n}\n",""])},wyKA:function(e,t){e.exports=function(e){this.message=e,this.name="InvalidMonthError"}},xJv6:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=[],a="M402.6 83.2l90.2 90.2c3.8 3.8 3.8 10 0 13.8L274.4 405.6l-92.8 10.3c-12.4 1.4-22.9-9.1-21.5-21.5l10.3-92.8L388.8 83.2c3.8-3.8 10-3.8 13.8 0zm162-22.9l-48.8-48.8c-15.2-15.2-39.9-15.2-55.2 0l-35.4 35.4c-3.8 3.8-3.8 10 0 13.8l90.2 90.2c3.8 3.8 10 3.8 13.8 0l35.4-35.4c15.2-15.3 15.2-40 0-55.2zM384 346.2V448H64V128h229.8c3.2 0 6.2-1.3 8.5-3.5l40-40c7.6-7.6 2.2-20.5-8.5-20.5H48C21.5 64 0 85.5 0 112v352c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V306.2c0-10.7-12.9-16-20.5-8.5l-40 40c-2.2 2.3-3.5 5.3-3.5 8.5z";t.definition={prefix:"fas",iconName:"edit",icon:[576,512,i,"f044",a]},t.faEdit=t.definition,t.prefix="fas",t.iconName="edit",t.width=576,t.height=512,t.ligatures=i,t.unicode="f044",t.svgPathData=a},xX18:function(e,t,n){"use strict";var i=n("LFG5");n.n(i).a},xa6k:function(e,t,n){"use strict";var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();var a=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return i(e,[{key:"suffix",value:function(){return"wappointment/v1"}},{key:"endpoints",value:function(){return{save:{method:"post",route:"/services/booking",timeout:2e4},bookadmin:{method:"post",route:"/services/booking/admin"},fetch:{method:"post",route:"/services/booking/fetch"},get:{method:"get",route:"/services/booking"},delete:{method:"delete",route:"/services/booking"}}}}]),e}();t.a=a},y43P:function(e,t,n){"use strict";var i=n("VQM7"),a=n("XfSa"),s=n("Qi5d"),o=n("oV90"),r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();var l=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o["a"]),r(t,[{key:"endpoints",value:function(){return{create:{method:"post",route:"/pages"}}}}]),t}();var c,d,u={extends:a.a,props:{page_id:{type:Number,default:0},page_link:{type:String},widgetDefault:{type:Object},save:{type:Boolean,default:!1},forceCreation:{type:Boolean,default:!1}},data:function(){return{bookingpage:!1,showWidget:!0,params:{autoOpen:!1,largeVersion:!1,week:!1,demoAs:!0,center:!1,popup:!0},editpagedetails:!1,booking_page_id:0,page:{title:"Booking page",slug:"booking-page",status:"publish",content:""}}},created:function(){this.serviceWPPages=this.$vueService(new l),this.booking_page_id=this.page_id,0===this.booking_page_id&&(this.bookingpage=!0)},components:{Front:i.a,ShortcodeGenerator:s.a,InputPh:window.wappoGet("InputPh")},watch:{bookingpage:function(){this.$emit("canSave",this.bookingpage)}},methods:{createPage:function(){this.request(this.createPageRequest,void 0,void 0,!1,this.successCreatedPage)},createPageRequest:(c=regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.serviceWPPages.call("create",Object.assign({},this.page));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e,this)}),d=function(){var e=c.apply(this,arguments);return new Promise(function(t,n){return function i(a,s){try{var o=e[a](s),r=o.value}catch(e){return void n(e)}if(!o.done)return Promise.resolve(r).then(function(e){i("next",e)},function(e){i("throw",e)});t(r)}("next")})},function(){return d.apply(this,arguments)}),successCreatedPage:function(e){void 0!==e.data&&void 0!==e.data.id&&e.data.id>0&&(this.booking_page_id=e.data.id,this.settingSave("booking_page",this.booking_page_id),this.$emit("saved",this.booking_page_id))},updateShortCode:function(e,t){this.page.content="\x3c!-- wp:shortcode --\x3e"+e+"\x3c!-- /wp:shortcode --\x3e",this.showWidget=!1,setTimeout(this.delaychangeRefresh.bind(null,t),100)},delaychangeRefresh:function(e){for(var t in e)e.hasOwnProperty(t)&&(this.params[t]=e[t]);this.showWidget=!0}}},p=(n("VaHL"),n("KHd+")),h=Object(p.a)(u,function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[0===e.booking_page_id?n("div",{staticClass:"d-flex"},[n("div",{staticClass:"booking-widget-editor-wizard wrapper-widget-style"},[e.showWidget?n("Front",{attrs:{classEl:"wappointment_widget",attributesEl:e.params}}):e._e()],1),e._v(" "),n("div",{staticClass:"ml-4"},[n("div",[e.forceCreation?e._e():n("label",[n("input",{directives:[{name:"model",rawName:"v-model",value:e.bookingpage,expression:"bookingpage"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.bookingpage)?e._i(e.bookingpage,null)>-1:e.bookingpage},on:{change:function(t){var n=e.bookingpage,i=t.target,a=!!i.checked;if(Array.isArray(n)){var s=e._i(n,null);i.checked?s<0&&(e.bookingpage=n.concat([null])):s>-1&&(e.bookingpage=n.slice(0,s).concat(n.slice(s+1)))}else e.bookingpage=a}}}),e._v(" "+e._s(e.get_i18n("wizard_4_create","wizard"))+"\n                ")]),e._v(" "),e.bookingpage||e.forceCreation?n("div",[n("div",{staticClass:"d-flex"},[n("InputPh",{attrs:{ph:e.get_i18n("bwe_page_edit","common")},model:{value:e.page.title,callback:function(t){e.$set(e.page,"title",t)},expression:"page.title"}}),e._v(" "),e.editpagedetails?e._e():n("div",{staticClass:"btn btn-link btn-xs",attrs:{role:"button"},on:{click:function(t){e.editpagedetails=!0}}},[e._v(e._s(e.get_i18n("bwe_page_edit","common")))])],1),e._v(" "),e.editpagedetails?n("div",[n("InputPh",{attrs:{ph:e.get_i18n("bwe_page_slug","common")},model:{value:e.page.slug,callback:function(t){e.$set(e.page,"slug",t)},expression:"page.slug"}}),e._v(" "),n("div",[n("input",{directives:[{name:"model",rawName:"v-model",value:e.page.status,expression:"page.status"}],attrs:{type:"radio",id:"publish",value:"publish"},domProps:{checked:e._q(e.page.status,"publish")},on:{change:function(t){e.$set(e.page,"status","publish")}}}),e._v(" "),n("label",{attrs:{for:"male"}},[e._v("Publish")]),e._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:e.page.status,expression:"page.status"}],attrs:{type:"radio",id:"draft",value:"draft"},domProps:{checked:e._q(e.page.status,"draft")},on:{change:function(t){e.$set(e.page,"status","draft")}}}),e._v(" "),n("label",{attrs:{for:"female"}},[e._v("Draft")])])],1):e._e(),e._v(" "),n("div",{staticClass:"my-2"},[e._v(e._s(e.get_i18n("bwe_widget_settings","common")))]),e._v(" "),e.bookingpage||e.forceCreation?n("div",{staticClass:"pl-4 small"},[n("ShortcodeGenerator",{attrs:{title:"Book now",preview:!1,simple:!0,popupInit:!0},on:{change:e.updateShortCode}})],1):e._e(),e._v(" "),e.save?n("button",{staticClass:"btn btn-primary btn-lg btn-block",on:{click:e.createPage}},[e._v(e._s(e.get_i18n("bwe_create_bp","common")))]):e._e()]):e._e()])])]):n("div",[n("h5",{staticClass:"text-primary"},[e._v(e._s(e.get_i18n("bwe_page_bp_exist_already","common")))]),e._v(" "),n("a",{staticClass:"btn btn-secondary",attrs:{href:"post.php?post="+e.booking_page_id+"&action=edit",target:"_blank"}},[n("span",{staticClass:"dashicons dashicons-edit"}),e._v(" "+e._s(e.get_i18n("bwe_page_edit","common"))+"\n        ")]),e._v(" "),n("a",{staticClass:"btn btn-secondary",attrs:{href:e.page_link,target:"_blank"}},[n("span",{staticClass:"dashicons dashicons-calendar-alt"}),e._v(" "+e._s(e.get_i18n("bwe_page_view","common"))+"\n        ")])])])},[],!1,null,null,null);t.a=h.exports},"yFz+":function(e,t,n){"use strict";var i=n("Xx3G");n.n(i).a},zXQP:function(e,t,n){(e.exports=n("I1BE")(!1)).push([e.i,"\n.wap-front .wap-booking-fields label{\n    color: var(--wappo-body-tx);\n}\n.wap-front .phone-field .dropdown ul {\n    position: initial;\n    max-width: 266px;\n    min-width: 224px;\n    margin-top: 12px;\n    overflow-y: scroll !important;\n    overflow: hidden;\n}\n.wap-front .phone-field .dropdown {\n    border-radius: .2em;\n}\n.wap-front .phone-field .dropdown.open + input {\n    display:none;\n}\n.wap-front .address-service{\n    border-radius: .2em;\n    padding: .3em;\n    margin: auto;\n    text-align: left;\n    margin-bottom: .6rem;\n}\n.wap-front .address-service .icon-address{\n    padding: 0 .3em;\n}\n.wap-front .address-service address{\n    margin-left: .6em;\n}\n.wap-booking-fields label{\n    margin-bottom: 0;\n    font-size: .9em;\n}\n.wap-terms{\n    font-size: .7em;\n    text-align: left;\n    line-height: 1.4;\n    margin-bottom: .3em;\n}\n.wap-front .wrounded{\n  border-radius : 50%;\n}\n.wap-front .wshadow{\n  box-shadow: inset 0px 8px 10px 0 rgba(0,0,0,.08);\n}\n.wap-front .form-summary .wselected {\n    display: inline-flex !important;\n    font-size: .8em;\n}\n\n",""])},zcf8:function(e,t,n){"use strict";var i=n("5CGA");n.n(i).a}}]);